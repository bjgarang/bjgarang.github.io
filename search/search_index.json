{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u9996\u9875 Hello there! I\u2019m MacDown , the open source Markdown editor for OS X. Let me introduce myself. Markdown and I Markdown is a plain text formatting syntax created by John Gruber, aiming to provide a easy-to-read and feasible markup. The original Markdown syntax specification can be found here . MacDown is created as a simple-to-use editor for Markdown documents. I render your Markdown contents real-time into HTML, and display them in a preview panel. I support all the original Markdown syntaxes. But I can do so much more! Various popular but non-standard syntaxes can be turned on/off from the Markdown preference pane . You can specify extra HTML rendering options through the Rendering preference pane . You can customize the editor window to you liking in the Editor preferences pane : You can configure various application (that's me!) behaviors in the General preference pane . The Basics Before I tell you about all the extra syntaxes and capabilities I have, I'll introduce you to the basics of standard markdown. If you already know markdown, and want to jump straight to learning about the fancier things I can do, I suggest you skip to the Markdown preference pane . Lets jump right in. Line Breaks To force a line break, put two spaces and a newline (return) at the end of the line. This two-line bullet won't break This two-line bullet will break Here is the code: 1 2 3 4 5 * This two-line bullet won t break * This two-line bullet will break Strong and Emphasize Strong : **Strong** or __Strong__ (Command-B) Emphasize : *Emphasize* or _Emphasize_ [^emphasize] (Command-I) Headers (like this one!) 1 2 3 4 5 Header 1 ======== Header 2 -------- or 1 2 3 4 5 6 # Header 1 ## Header 2 ### Header 3 #### Header 4 ##### Header 5 ###### Header 6 Links and Email Inline Just put angle brackets around an email and it becomes clickable: uranusjr@gmail.com Same thing with urls: http://macdown.uranusjr.com http://macdown.uranusjr.com Perhaps you want to some link text like this: Macdown Website [Macdown Website](http://macdown.uranusjr.com \"Title\") (The title is optional) Reference style Sometimes it looks too messy to include big long urls inline, or you want to keep all your urls together. Make a link [a link][arbitrary_id] then on it's own line anywhere else in the file: [arbitrary_id]: http://macdown.uranusjr.com \"Title\" If the link text itself would make a good id, you can link like this [like this][] , then on it's own line anywhere else in the file: [like this]: http://macdown.uranusjr.com Images Inline ![Alt Image Text](path/or/url/to.jpg \"Optional Title\") Reference style ![Alt Image Text][image-id] on it's own line elsewhere: [image-id]: path/or/url/to.jpg \"Optional Title\" Lists Lists must be preceded by a blank line (or block element) Unordered lists start each item with a * - works too Indent a level to make a nested list Ordered lists are supported. Start each item (number-period-space) like 1. It doesn't matter what number you use, I will render them sequentially So you might want to start each line with 1. and let me sort it out Here is the code: 1 2 3 4 5 6 7 8 * Lists must be preceded by a blank line (or block element) * Unordered lists start each item with a `*` - `-` works too * Indent a level to make a nested list 1. Ordered lists are supported. 2. Start each item (number-period-space) like `1. ` 42. It doesn t matter what number you use, I will render them sequentially 1. So you might want to start each line with `1.` and let me sort it out Block Quote Angle brackets are used for block quotes. Technically not every line needs to start with a as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. Lists Links Etc. Here is the code: 1 2 3 4 5 6 7 8 9 10 11 12 Angle brackets ` ` are used for block quotes. Technically not every line needs to start with a ` ` as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. * Lists * [Links][arbitrary_id] * Etc. Inline Code Inline code is indicated by surrounding it with backticks: `Inline code` If your code has `backticks` that need to be displayed, you can use double backticks: ``Code with `backticks` `` (mind the spaces preceding the final set of backticks) Block Code If you indent at least four spaces or one tab, I'll display a code block. 1 2 3 4 print( This is a code block ) print( The block must be preceded by a blank line ) print( Then indent at least 4 spaces or 1 tab ) print( Nesting does nothing. Your code is displayed Literally ) I also know how to do something called Fenced Code Blocks which I will tell you about later. Horizontal Rules If you type three asterisks *** or three dashes --- on a line, I'll display a horizontal rule: The Markdown Preference Pane This is where I keep all preferences related to how I parse markdown into html. Document Formatting The Smartypants extension automatically transforms straight quotes ( \" and ' ) in your text into typographer\u2019s quotes ( \u201c , \u201d , \u2018 , and \u2019 ) according to the context. Very useful if you\u2019re a typography freak like I am. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Block Formatting Table This is a table: First Header Second Header Content Cell Content Cell Content Cell Content Cell You can align cell contents with syntax like this: Left Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 The left- and right-most pipes ( | ) are only aesthetic, and can be omitted. The spaces don\u2019t matter, either. Alignment depends solely on : marks. Fenced Code Block This is a fenced code block: 1 print( Hello world! ) You can also use waves ( ~ ) instead of back ticks ( ` ): 1 print( Hello world! ) You can add an optional language ID at the end of the first line. The language ID will only be used to highlight the code inside if you tick the Enable highlighting in code blocks option. This is what happens if you enable it: I support many popular languages as well as some generic syntax descriptions that can be used if your language of choice is not supported. See relevant sections on the official site for a full list of supported syntaxes. Inline Formatting The following is a list of optional inline markups supported: Option name Markup Result if enabled Intra-word emphasis So A*maz*ing So A maz ing Strikethrough \\~~Much wow\\~~ Much wow Underline [^under] _So doge_ So doge Quote [^quote] \\\"Such editor\\\" Such editor Highlight \\==So good\\== So good Superscript hoge\\^(fuga) hoge fuga Autolink http://t.co http://t.co Footnotes [\\^4] and [\\^4]: [^4] and footnote 4 [^4]: You don't have to use a number. Arbitrary things like [^footy note4] and [^footy note4]: will also work. But they will render as numbered footnotes. Also, no need to keep your footnotes in order, I will sort out the order for you so they appear in the same order they were referenced in the text body. You can even keep some footnotes near where you referenced them, and collect others at the bottom of the file in the traditional place for footnotes. The Rendering Preference Pane This is where I keep preferences relating to how I render and style the parsed markdown in the preview window. CSS You can choose different css files for me to use to render your html. You can even customize or add your own custom css files. Syntax Highlighting You have already seen how I can syntax highlight your fenced code blocks. See the Fenced Code Block section if you haven\u2019t! You can also choose different themes for syntax highlighting. TeX-like Math Syntax I can also render TeX-like math syntaxes, if you allow me to.[^math] I can do inline math like this: \\( 1 + 1 \\) or this (in MathML): 1 + 1 , and block math: \\[ A^T_S = B \\] or (in MathML) A S T = B Task List Syntax [x] I can render checkbox list syntax [x] I support nesting [x] I support ordered and unordered lists [ ] I don't support clicking checkboxes directly in the html window Jekyll front-matter If you like, I can display Jekyll front-matter in a nice table. Just make sure you put the front-matter at the very beginning of the file, and fence it with --- . For example: 1 2 3 4 --- title: Macdown is my friend date: 2014-06-06 20:00:00 --- Render newline literally Normally I require you to put two spaces and a newline (aka return) at the end of a line in order to create a line break. If you like, I can render a newline any time you end a line with a newline. However, if you enable this, markdown that looks lovely when I render it might look pretty funky when you let some other program render it. The General Preferences Pane This is where I keep preferences related to application behavior. The General Preferences Pane allows you to tell me how you want me to behave. For example, do you want me to make sure there is a document open when I launch? You can also tell me if I should constantly update the preview window as you type, or wait for you to hit command-R instead. Maybe you prefer your editor window on the right? Or to see the word-count as you type. This is also the place to tell me if you are interested in pre-releases of me, or just want to stick to better-tested official releases. The Editor Preference Pane This is where I keep preferences related to the behavior and styling of the editing window. Styling My editor provides syntax highlighting. You can edit the base font and the coloring/sizing theme. I provided some default themes (courtesy of Mou \u2019s creator, Chen Luo) if you don\u2019t know where to start. You can also edit, or even add new themes if you want to! Just click the Reveal button, and start moving things around. Remember to use the correct file extension ( .styles ), though. I\u2019m picky about that. I offer auto-completion and other functions to ease your editing experience. If you don\u2019t like it, however, you can turn them off. Hack On That\u2019s about it. Thanks for listening. I\u2019ll be quiet from now on (unless there\u2019s an update about the app\u2014I\u2019ll remind you for that!). Happy writing! [^emphasize]: If Underlines is turned on, _this notation_ will render as underlined instead of emphasized [^under]: If Underline is disabled _this_ will be rendered as emphasized instead of being underlined. [^quote]: Quote replaces literal \" characters with html q tags. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Note that Quote is different from blockquote , which is part of standard Markdown. [^math]: Internet connection required.","title":"\u9996\u9875"},{"location":"#_1","text":"Hello there! I\u2019m MacDown , the open source Markdown editor for OS X. Let me introduce myself.","title":"\u9996\u9875"},{"location":"#markdown-and-i","text":"Markdown is a plain text formatting syntax created by John Gruber, aiming to provide a easy-to-read and feasible markup. The original Markdown syntax specification can be found here . MacDown is created as a simple-to-use editor for Markdown documents. I render your Markdown contents real-time into HTML, and display them in a preview panel. I support all the original Markdown syntaxes. But I can do so much more! Various popular but non-standard syntaxes can be turned on/off from the Markdown preference pane . You can specify extra HTML rendering options through the Rendering preference pane . You can customize the editor window to you liking in the Editor preferences pane : You can configure various application (that's me!) behaviors in the General preference pane .","title":"Markdown and I"},{"location":"#the-basics","text":"Before I tell you about all the extra syntaxes and capabilities I have, I'll introduce you to the basics of standard markdown. If you already know markdown, and want to jump straight to learning about the fancier things I can do, I suggest you skip to the Markdown preference pane . Lets jump right in.","title":"The Basics"},{"location":"#line-breaks","text":"To force a line break, put two spaces and a newline (return) at the end of the line. This two-line bullet won't break This two-line bullet will break Here is the code: 1 2 3 4 5 * This two-line bullet won t break * This two-line bullet will break","title":"Line Breaks"},{"location":"#strong-and-emphasize","text":"Strong : **Strong** or __Strong__ (Command-B) Emphasize : *Emphasize* or _Emphasize_ [^emphasize] (Command-I)","title":"Strong and Emphasize"},{"location":"#headers-like-this-one","text":"1 2 3 4 5 Header 1 ======== Header 2 -------- or 1 2 3 4 5 6 # Header 1 ## Header 2 ### Header 3 #### Header 4 ##### Header 5 ###### Header 6","title":"Headers (like this one!)"},{"location":"#links-and-email","text":"","title":"Links and Email"},{"location":"#inline","text":"Just put angle brackets around an email and it becomes clickable: uranusjr@gmail.com Same thing with urls: http://macdown.uranusjr.com http://macdown.uranusjr.com Perhaps you want to some link text like this: Macdown Website [Macdown Website](http://macdown.uranusjr.com \"Title\") (The title is optional)","title":"Inline"},{"location":"#reference-style","text":"Sometimes it looks too messy to include big long urls inline, or you want to keep all your urls together. Make a link [a link][arbitrary_id] then on it's own line anywhere else in the file: [arbitrary_id]: http://macdown.uranusjr.com \"Title\" If the link text itself would make a good id, you can link like this [like this][] , then on it's own line anywhere else in the file: [like this]: http://macdown.uranusjr.com","title":"Reference style"},{"location":"#images","text":"","title":"Images"},{"location":"#inline_1","text":"![Alt Image Text](path/or/url/to.jpg \"Optional Title\")","title":"Inline"},{"location":"#reference-style_1","text":"![Alt Image Text][image-id] on it's own line elsewhere: [image-id]: path/or/url/to.jpg \"Optional Title\"","title":"Reference style"},{"location":"#lists","text":"Lists must be preceded by a blank line (or block element) Unordered lists start each item with a * - works too Indent a level to make a nested list Ordered lists are supported. Start each item (number-period-space) like 1. It doesn't matter what number you use, I will render them sequentially So you might want to start each line with 1. and let me sort it out Here is the code: 1 2 3 4 5 6 7 8 * Lists must be preceded by a blank line (or block element) * Unordered lists start each item with a `*` - `-` works too * Indent a level to make a nested list 1. Ordered lists are supported. 2. Start each item (number-period-space) like `1. ` 42. It doesn t matter what number you use, I will render them sequentially 1. So you might want to start each line with `1.` and let me sort it out","title":"Lists"},{"location":"#block-quote","text":"Angle brackets are used for block quotes. Technically not every line needs to start with a as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. Lists Links Etc. Here is the code: 1 2 3 4 5 6 7 8 9 10 11 12 Angle brackets ` ` are used for block quotes. Technically not every line needs to start with a ` ` as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. * Lists * [Links][arbitrary_id] * Etc.","title":"Block Quote"},{"location":"#inline-code","text":"Inline code is indicated by surrounding it with backticks: `Inline code` If your code has `backticks` that need to be displayed, you can use double backticks: ``Code with `backticks` `` (mind the spaces preceding the final set of backticks)","title":"Inline Code"},{"location":"#block-code","text":"If you indent at least four spaces or one tab, I'll display a code block. 1 2 3 4 print( This is a code block ) print( The block must be preceded by a blank line ) print( Then indent at least 4 spaces or 1 tab ) print( Nesting does nothing. Your code is displayed Literally ) I also know how to do something called Fenced Code Blocks which I will tell you about later.","title":"Block Code"},{"location":"#horizontal-rules","text":"If you type three asterisks *** or three dashes --- on a line, I'll display a horizontal rule:","title":"Horizontal Rules"},{"location":"#document-formatting","text":"The Smartypants extension automatically transforms straight quotes ( \" and ' ) in your text into typographer\u2019s quotes ( \u201c , \u201d , \u2018 , and \u2019 ) according to the context. Very useful if you\u2019re a typography freak like I am. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence.","title":"Document Formatting"},{"location":"#block-formatting","text":"","title":"Block Formatting"},{"location":"#table","text":"This is a table: First Header Second Header Content Cell Content Cell Content Cell Content Cell You can align cell contents with syntax like this: Left Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 The left- and right-most pipes ( | ) are only aesthetic, and can be omitted. The spaces don\u2019t matter, either. Alignment depends solely on : marks.","title":"Table"},{"location":"#fenced-code-block","text":"This is a fenced code block: 1 print( Hello world! ) You can also use waves ( ~ ) instead of back ticks ( ` ): 1 print( Hello world! ) You can add an optional language ID at the end of the first line. The language ID will only be used to highlight the code inside if you tick the Enable highlighting in code blocks option. This is what happens if you enable it: I support many popular languages as well as some generic syntax descriptions that can be used if your language of choice is not supported. See relevant sections on the official site for a full list of supported syntaxes.","title":"Fenced Code Block"},{"location":"#inline-formatting","text":"The following is a list of optional inline markups supported: Option name Markup Result if enabled Intra-word emphasis So A*maz*ing So A maz ing Strikethrough \\~~Much wow\\~~ Much wow Underline [^under] _So doge_ So doge Quote [^quote] \\\"Such editor\\\" Such editor Highlight \\==So good\\== So good Superscript hoge\\^(fuga) hoge fuga Autolink http://t.co http://t.co Footnotes [\\^4] and [\\^4]: [^4] and footnote 4 [^4]: You don't have to use a number. Arbitrary things like [^footy note4] and [^footy note4]: will also work. But they will render as numbered footnotes. Also, no need to keep your footnotes in order, I will sort out the order for you so they appear in the same order they were referenced in the text body. You can even keep some footnotes near where you referenced them, and collect others at the bottom of the file in the traditional place for footnotes.","title":"Inline Formatting"},{"location":"#css","text":"You can choose different css files for me to use to render your html. You can even customize or add your own custom css files.","title":"CSS"},{"location":"#syntax-highlighting","text":"You have already seen how I can syntax highlight your fenced code blocks. See the Fenced Code Block section if you haven\u2019t! You can also choose different themes for syntax highlighting.","title":"Syntax Highlighting"},{"location":"#tex-like-math-syntax","text":"I can also render TeX-like math syntaxes, if you allow me to.[^math] I can do inline math like this: \\( 1 + 1 \\) or this (in MathML): 1 + 1 , and block math: \\[ A^T_S = B \\] or (in MathML) A S T = B","title":"TeX-like Math Syntax"},{"location":"#task-list-syntax","text":"[x] I can render checkbox list syntax [x] I support nesting [x] I support ordered and unordered lists [ ] I don't support clicking checkboxes directly in the html window","title":"Task List Syntax"},{"location":"#jekyll-front-matter","text":"If you like, I can display Jekyll front-matter in a nice table. Just make sure you put the front-matter at the very beginning of the file, and fence it with --- . For example: 1 2 3 4 --- title: Macdown is my friend date: 2014-06-06 20:00:00 ---","title":"Jekyll front-matter"},{"location":"#render-newline-literally","text":"Normally I require you to put two spaces and a newline (aka return) at the end of a line in order to create a line break. If you like, I can render a newline any time you end a line with a newline. However, if you enable this, markdown that looks lovely when I render it might look pretty funky when you let some other program render it.","title":"Render newline literally"},{"location":"#styling","text":"My editor provides syntax highlighting. You can edit the base font and the coloring/sizing theme. I provided some default themes (courtesy of Mou \u2019s creator, Chen Luo) if you don\u2019t know where to start. You can also edit, or even add new themes if you want to! Just click the Reveal button, and start moving things around. Remember to use the correct file extension ( .styles ), though. I\u2019m picky about that. I offer auto-completion and other functions to ease your editing experience. If you don\u2019t like it, however, you can turn them off.","title":"Styling"},{"location":"#hack-on","text":"That\u2019s about it. Thanks for listening. I\u2019ll be quiet from now on (unless there\u2019s an update about the app\u2014I\u2019ll remind you for that!). Happy writing! [^emphasize]: If Underlines is turned on, _this notation_ will render as underlined instead of emphasized [^under]: If Underline is disabled _this_ will be rendered as emphasized instead of being underlined. [^quote]: Quote replaces literal \" characters with html q tags. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Note that Quote is different from blockquote , which is part of standard Markdown. [^math]: Internet connection required.","title":"Hack On"},{"location":"\u751f\u6d3b/life/","text":"\u9996\u9875 Hello there! I\u2019m MacDown , the open source Markdown editor for OS X. Let me introduce myself. Macdown1 Macdown2 Macdown3 Macdown4 Macdown5 Macdown6 Macdown7 Macdown8 Macdown9 Macdown10 Macdown11 Macdown12 Macdown13 Macdown14 Macdown15 Macdown16 Macdown17 Macdown18 Macdown19 Macdown20 Macdown21 Macdown22 Macdown23 Macdown24 Macdown25 Macdown26 Macdown27 Macdown28 Macdown29 Macdown30 Macdown31 Macdown32 Macdown33 Macdown34 Macdown35 Macdown36 Macdown37 Macdown38 Macdown39 Macdown40 Macdown41 Macdown42 Macdown43 Macdown44 Macdown45 Macdown46 Macdown47 Macdown48 Macdown49 Macdown50 Markdown and I Markdown is a plain text formatting syntax created by John Gruber, aiming to provide a easy-to-read and feasible markup. The original Markdown syntax specification can be found here . MacDown is created as a simple-to-use editor for Markdown documents. I render your Markdown contents real-time into HTML, and display them in a preview panel. I support all the original Markdown syntaxes. But I can do so much more! Various popular but non-standard syntaxes can be turned on/off from the Markdown preference pane . You can specify extra HTML rendering options through the Rendering preference pane . You can customize the editor window to you liking in the Editor preferences pane : You can configure various application (that's me!) behaviors in the General preference pane . The Basics Before I tell you about all the extra syntaxes and capabilities I have, I'll introduce you to the basics of standard markdown. If you already know markdown, and want to jump straight to learning about the fancier things I can do, I suggest you skip to the Markdown preference pane . Lets jump right in. Line Breaks To force a line break, put two spaces and a newline (return) at the end of the line. This two-line bullet won't break This two-line bullet will break Here is the code: 1 2 3 4 5 * This two-line bullet won t break * This two-line bullet will break Strong and Emphasize Strong : **Strong** or __Strong__ (Command-B) Emphasize : *Emphasize* or _Emphasize_ [^emphasize] (Command-I) Headers (like this one!) 1 2 3 4 5 Header 1 ======== Header 2 -------- or 1 2 3 4 5 6 # Header 1 ## Header 2 ### Header 3 #### Header 4 ##### Header 5 ###### Header 6 Links and Email Inline Just put angle brackets around an email and it becomes clickable: uranusjr@gmail.com Same thing with urls: http://macdown.uranusjr.com http://macdown.uranusjr.com Perhaps you want to some link text like this: Macdown Website [Macdown Website](http://macdown.uranusjr.com \"Title\") (The title is optional) Reference style Sometimes it looks too messy to include big long urls inline, or you want to keep all your urls together. Make a link [a link][arbitrary_id] then on it's own line anywhere else in the file: [arbitrary_id]: http://macdown.uranusjr.com \"Title\" If the link text itself would make a good id, you can link like this [like this][] , then on it's own line anywhere else in the file: [like this]: http://macdown.uranusjr.com Images Inline ![Alt Image Text](path/or/url/to.jpg \"Optional Title\") Reference style ![Alt Image Text][image-id] on it's own line elsewhere: [image-id]: path/or/url/to.jpg \"Optional Title\" Lists Lists must be preceded by a blank line (or block element) Unordered lists start each item with a * - works too Indent a level to make a nested list Ordered lists are supported. Start each item (number-period-space) like 1. It doesn't matter what number you use, I will render them sequentially So you might want to start each line with 1. and let me sort it out Here is the code: 1 2 3 4 5 6 7 8 * Lists must be preceded by a blank line (or block element) * Unordered lists start each item with a `*` - `-` works too * Indent a level to make a nested list 1. Ordered lists are supported. 2. Start each item (number-period-space) like `1. ` 42. It doesn t matter what number you use, I will render them sequentially 1. So you might want to start each line with `1.` and let me sort it out Block Quote Angle brackets are used for block quotes. Technically not every line needs to start with a as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. Lists Links Etc. Here is the code: 1 2 3 4 5 6 7 8 9 10 11 12 Angle brackets ` ` are used for block quotes. Technically not every line needs to start with a ` ` as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. * Lists * [Links][arbitrary_id] * Etc. Inline Code Inline code is indicated by surrounding it with backticks: `Inline code` If your code has `backticks` that need to be displayed, you can use double backticks: ``Code with `backticks` `` (mind the spaces preceding the final set of backticks) Block Code If you indent at least four spaces or one tab, I'll display a code block. 1 2 3 4 print( This is a code block ) print( The block must be preceded by a blank line ) print( Then indent at least 4 spaces or 1 tab ) print( Nesting does nothing. Your code is displayed Literally ) I also know how to do something called Fenced Code Blocks which I will tell you about later. Horizontal Rules If you type three asterisks *** or three dashes --- on a line, I'll display a horizontal rule: The Markdown Preference Pane This is where I keep all preferences related to how I parse markdown into html. Document Formatting The Smartypants extension automatically transforms straight quotes ( \" and ' ) in your text into typographer\u2019s quotes ( \u201c , \u201d , \u2018 , and \u2019 ) according to the context. Very useful if you\u2019re a typography freak like I am. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Block Formatting Table This is a table: First Header Second Header Content Cell Content Cell Content Cell Content Cell You can align cell contents with syntax like this: Left Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 The left- and right-most pipes ( | ) are only aesthetic, and can be omitted. The spaces don\u2019t matter, either. Alignment depends solely on : marks. Fenced Code Block This is a fenced code block: 1 print( Hello world! ) You can also use waves ( ~ ) instead of back ticks ( ` ): 1 print( Hello world! ) You can add an optional language ID at the end of the first line. The language ID will only be used to highlight the code inside if you tick the Enable highlighting in code blocks option. This is what happens if you enable it: I support many popular languages as well as some generic syntax descriptions that can be used if your language of choice is not supported. See relevant sections on the official site for a full list of supported syntaxes. Inline Formatting The following is a list of optional inline markups supported: Option name Markup Result if enabled Intra-word emphasis So A*maz*ing So A maz ing Strikethrough \\~~Much wow\\~~ Much wow Underline [^under] _So doge_ So doge Quote [^quote] \\\"Such editor\\\" Such editor Highlight \\==So good\\== So good Superscript hoge\\^(fuga) hoge fuga Autolink http://t.co http://t.co Footnotes [\\^4] and [\\^4]: [^4] and footnote 4 [^4]: You don't have to use a number. Arbitrary things like [^footy note4] and [^footy note4]: will also work. But they will render as numbered footnotes. Also, no need to keep your footnotes in order, I will sort out the order for you so they appear in the same order they were referenced in the text body. You can even keep some footnotes near where you referenced them, and collect others at the bottom of the file in the traditional place for footnotes. The Rendering Preference Pane This is where I keep preferences relating to how I render and style the parsed markdown in the preview window. CSS You can choose different css files for me to use to render your html. You can even customize or add your own custom css files. Syntax Highlighting You have already seen how I can syntax highlight your fenced code blocks. See the Fenced Code Block section if you haven\u2019t! You can also choose different themes for syntax highlighting. TeX-like Math Syntax I can also render TeX-like math syntaxes, if you allow me to.[^math] I can do inline math like this: \\( 1 + 1 \\) or this (in MathML): 1 + 1 , and block math: \\[ A^T_S = B \\] or (in MathML) A S T = B Task List Syntax [x] I can render checkbox list syntax [x] I support nesting [x] I support ordered and unordered lists [ ] I don't support clicking checkboxes directly in the html window Jekyll front-matter If you like, I can display Jekyll front-matter in a nice table. Just make sure you put the front-matter at the very beginning of the file, and fence it with --- . For example: 1 2 3 4 --- title: Macdown is my friend date: 2014-06-06 20:00:00 --- Render newline literally Normally I require you to put two spaces and a newline (aka return) at the end of a line in order to create a line break. If you like, I can render a newline any time you end a line with a newline. However, if you enable this, markdown that looks lovely when I render it might look pretty funky when you let some other program render it. The General Preferences Pane This is where I keep preferences related to application behavior. The General Preferences Pane allows you to tell me how you want me to behave. For example, do you want me to make sure there is a document open when I launch? You can also tell me if I should constantly update the preview window as you type, or wait for you to hit command-R instead. Maybe you prefer your editor window on the right? Or to see the word-count as you type. This is also the place to tell me if you are interested in pre-releases of me, or just want to stick to better-tested official releases. The Editor Preference Pane This is where I keep preferences related to the behavior and styling of the editing window. Styling My editor provides syntax highlighting. You can edit the base font and the coloring/sizing theme. I provided some default themes (courtesy of Mou \u2019s creator, Chen Luo) if you don\u2019t know where to start. You can also edit, or even add new themes if you want to! Just click the Reveal button, and start moving things around. Remember to use the correct file extension ( .styles ), though. I\u2019m picky about that. I offer auto-completion and other functions to ease your editing experience. If you don\u2019t like it, however, you can turn them off. Hack On That\u2019s about it. Thanks for listening. I\u2019ll be quiet from now on (unless there\u2019s an update about the app\u2014I\u2019ll remind you for that!). Happy writing! [^emphasize]: If Underlines is turned on, _this notation_ will render as underlined instead of emphasized [^under]: If Underline is disabled _this_ will be rendered as emphasized instead of being underlined. [^quote]: Quote replaces literal \" characters with html q tags. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Note that Quote is different from blockquote , which is part of standard Markdown. [^math]: Internet connection required.","title":"\u9996\u9875"},{"location":"\u751f\u6d3b/life/#_1","text":"Hello there! I\u2019m MacDown , the open source Markdown editor for OS X. Let me introduce myself.","title":"\u9996\u9875"},{"location":"\u751f\u6d3b/life/#macdown1","text":"","title":"Macdown1"},{"location":"\u751f\u6d3b/life/#macdown2","text":"","title":"Macdown2"},{"location":"\u751f\u6d3b/life/#macdown3","text":"","title":"Macdown3"},{"location":"\u751f\u6d3b/life/#macdown4","text":"","title":"Macdown4"},{"location":"\u751f\u6d3b/life/#macdown5","text":"","title":"Macdown5"},{"location":"\u751f\u6d3b/life/#macdown6","text":"","title":"Macdown6"},{"location":"\u751f\u6d3b/life/#macdown7","text":"","title":"Macdown7"},{"location":"\u751f\u6d3b/life/#macdown8","text":"","title":"Macdown8"},{"location":"\u751f\u6d3b/life/#macdown9","text":"","title":"Macdown9"},{"location":"\u751f\u6d3b/life/#macdown10","text":"","title":"Macdown10"},{"location":"\u751f\u6d3b/life/#macdown11","text":"","title":"Macdown11"},{"location":"\u751f\u6d3b/life/#macdown12","text":"","title":"Macdown12"},{"location":"\u751f\u6d3b/life/#macdown13","text":"","title":"Macdown13"},{"location":"\u751f\u6d3b/life/#macdown14","text":"","title":"Macdown14"},{"location":"\u751f\u6d3b/life/#macdown15","text":"","title":"Macdown15"},{"location":"\u751f\u6d3b/life/#macdown16","text":"","title":"Macdown16"},{"location":"\u751f\u6d3b/life/#macdown17","text":"","title":"Macdown17"},{"location":"\u751f\u6d3b/life/#macdown18","text":"","title":"Macdown18"},{"location":"\u751f\u6d3b/life/#macdown19","text":"","title":"Macdown19"},{"location":"\u751f\u6d3b/life/#macdown20","text":"","title":"Macdown20"},{"location":"\u751f\u6d3b/life/#macdown21","text":"","title":"Macdown21"},{"location":"\u751f\u6d3b/life/#macdown22","text":"","title":"Macdown22"},{"location":"\u751f\u6d3b/life/#macdown23","text":"","title":"Macdown23"},{"location":"\u751f\u6d3b/life/#macdown24","text":"","title":"Macdown24"},{"location":"\u751f\u6d3b/life/#macdown25","text":"","title":"Macdown25"},{"location":"\u751f\u6d3b/life/#macdown26","text":"","title":"Macdown26"},{"location":"\u751f\u6d3b/life/#macdown27","text":"","title":"Macdown27"},{"location":"\u751f\u6d3b/life/#macdown28","text":"","title":"Macdown28"},{"location":"\u751f\u6d3b/life/#macdown29","text":"","title":"Macdown29"},{"location":"\u751f\u6d3b/life/#macdown30","text":"","title":"Macdown30"},{"location":"\u751f\u6d3b/life/#macdown31","text":"","title":"Macdown31"},{"location":"\u751f\u6d3b/life/#macdown32","text":"","title":"Macdown32"},{"location":"\u751f\u6d3b/life/#macdown33","text":"","title":"Macdown33"},{"location":"\u751f\u6d3b/life/#macdown34","text":"","title":"Macdown34"},{"location":"\u751f\u6d3b/life/#macdown35","text":"","title":"Macdown35"},{"location":"\u751f\u6d3b/life/#macdown36","text":"","title":"Macdown36"},{"location":"\u751f\u6d3b/life/#macdown37","text":"","title":"Macdown37"},{"location":"\u751f\u6d3b/life/#macdown38","text":"","title":"Macdown38"},{"location":"\u751f\u6d3b/life/#macdown39","text":"","title":"Macdown39"},{"location":"\u751f\u6d3b/life/#macdown40","text":"","title":"Macdown40"},{"location":"\u751f\u6d3b/life/#macdown41","text":"","title":"Macdown41"},{"location":"\u751f\u6d3b/life/#macdown42","text":"","title":"Macdown42"},{"location":"\u751f\u6d3b/life/#macdown43","text":"","title":"Macdown43"},{"location":"\u751f\u6d3b/life/#macdown44","text":"","title":"Macdown44"},{"location":"\u751f\u6d3b/life/#macdown45","text":"","title":"Macdown45"},{"location":"\u751f\u6d3b/life/#macdown46","text":"","title":"Macdown46"},{"location":"\u751f\u6d3b/life/#macdown47","text":"","title":"Macdown47"},{"location":"\u751f\u6d3b/life/#macdown48","text":"","title":"Macdown48"},{"location":"\u751f\u6d3b/life/#macdown49","text":"","title":"Macdown49"},{"location":"\u751f\u6d3b/life/#macdown50","text":"","title":"Macdown50"},{"location":"\u751f\u6d3b/life/#markdown-and-i","text":"Markdown is a plain text formatting syntax created by John Gruber, aiming to provide a easy-to-read and feasible markup. The original Markdown syntax specification can be found here . MacDown is created as a simple-to-use editor for Markdown documents. I render your Markdown contents real-time into HTML, and display them in a preview panel. I support all the original Markdown syntaxes. But I can do so much more! Various popular but non-standard syntaxes can be turned on/off from the Markdown preference pane . You can specify extra HTML rendering options through the Rendering preference pane . You can customize the editor window to you liking in the Editor preferences pane : You can configure various application (that's me!) behaviors in the General preference pane .","title":"Markdown and I"},{"location":"\u751f\u6d3b/life/#the-basics","text":"Before I tell you about all the extra syntaxes and capabilities I have, I'll introduce you to the basics of standard markdown. If you already know markdown, and want to jump straight to learning about the fancier things I can do, I suggest you skip to the Markdown preference pane . Lets jump right in.","title":"The Basics"},{"location":"\u751f\u6d3b/life/#line-breaks","text":"To force a line break, put two spaces and a newline (return) at the end of the line. This two-line bullet won't break This two-line bullet will break Here is the code: 1 2 3 4 5 * This two-line bullet won t break * This two-line bullet will break","title":"Line Breaks"},{"location":"\u751f\u6d3b/life/#strong-and-emphasize","text":"Strong : **Strong** or __Strong__ (Command-B) Emphasize : *Emphasize* or _Emphasize_ [^emphasize] (Command-I)","title":"Strong and Emphasize"},{"location":"\u751f\u6d3b/life/#headers-like-this-one","text":"1 2 3 4 5 Header 1 ======== Header 2 -------- or 1 2 3 4 5 6 # Header 1 ## Header 2 ### Header 3 #### Header 4 ##### Header 5 ###### Header 6","title":"Headers (like this one!)"},{"location":"\u751f\u6d3b/life/#links-and-email","text":"","title":"Links and Email"},{"location":"\u751f\u6d3b/life/#inline","text":"Just put angle brackets around an email and it becomes clickable: uranusjr@gmail.com Same thing with urls: http://macdown.uranusjr.com http://macdown.uranusjr.com Perhaps you want to some link text like this: Macdown Website [Macdown Website](http://macdown.uranusjr.com \"Title\") (The title is optional)","title":"Inline"},{"location":"\u751f\u6d3b/life/#reference-style","text":"Sometimes it looks too messy to include big long urls inline, or you want to keep all your urls together. Make a link [a link][arbitrary_id] then on it's own line anywhere else in the file: [arbitrary_id]: http://macdown.uranusjr.com \"Title\" If the link text itself would make a good id, you can link like this [like this][] , then on it's own line anywhere else in the file: [like this]: http://macdown.uranusjr.com","title":"Reference style"},{"location":"\u751f\u6d3b/life/#images","text":"","title":"Images"},{"location":"\u751f\u6d3b/life/#inline_1","text":"![Alt Image Text](path/or/url/to.jpg \"Optional Title\")","title":"Inline"},{"location":"\u751f\u6d3b/life/#reference-style_1","text":"![Alt Image Text][image-id] on it's own line elsewhere: [image-id]: path/or/url/to.jpg \"Optional Title\"","title":"Reference style"},{"location":"\u751f\u6d3b/life/#lists","text":"Lists must be preceded by a blank line (or block element) Unordered lists start each item with a * - works too Indent a level to make a nested list Ordered lists are supported. Start each item (number-period-space) like 1. It doesn't matter what number you use, I will render them sequentially So you might want to start each line with 1. and let me sort it out Here is the code: 1 2 3 4 5 6 7 8 * Lists must be preceded by a blank line (or block element) * Unordered lists start each item with a `*` - `-` works too * Indent a level to make a nested list 1. Ordered lists are supported. 2. Start each item (number-period-space) like `1. ` 42. It doesn t matter what number you use, I will render them sequentially 1. So you might want to start each line with `1.` and let me sort it out","title":"Lists"},{"location":"\u751f\u6d3b/life/#block-quote","text":"Angle brackets are used for block quotes. Technically not every line needs to start with a as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. Lists Links Etc. Here is the code: 1 2 3 4 5 6 7 8 9 10 11 12 Angle brackets ` ` are used for block quotes. Technically not every line needs to start with a ` ` as long as there are no empty lines between paragraphs. Looks kinda ugly though. Block quotes can be nested. Multiple Levels Most markdown syntaxes work inside block quotes. * Lists * [Links][arbitrary_id] * Etc.","title":"Block Quote"},{"location":"\u751f\u6d3b/life/#inline-code","text":"Inline code is indicated by surrounding it with backticks: `Inline code` If your code has `backticks` that need to be displayed, you can use double backticks: ``Code with `backticks` `` (mind the spaces preceding the final set of backticks)","title":"Inline Code"},{"location":"\u751f\u6d3b/life/#block-code","text":"If you indent at least four spaces or one tab, I'll display a code block. 1 2 3 4 print( This is a code block ) print( The block must be preceded by a blank line ) print( Then indent at least 4 spaces or 1 tab ) print( Nesting does nothing. Your code is displayed Literally ) I also know how to do something called Fenced Code Blocks which I will tell you about later.","title":"Block Code"},{"location":"\u751f\u6d3b/life/#horizontal-rules","text":"If you type three asterisks *** or three dashes --- on a line, I'll display a horizontal rule:","title":"Horizontal Rules"},{"location":"\u751f\u6d3b/life/#document-formatting","text":"The Smartypants extension automatically transforms straight quotes ( \" and ' ) in your text into typographer\u2019s quotes ( \u201c , \u201d , \u2018 , and \u2019 ) according to the context. Very useful if you\u2019re a typography freak like I am. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence.","title":"Document Formatting"},{"location":"\u751f\u6d3b/life/#block-formatting","text":"","title":"Block Formatting"},{"location":"\u751f\u6d3b/life/#table","text":"This is a table: First Header Second Header Content Cell Content Cell Content Cell Content Cell You can align cell contents with syntax like this: Left Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 The left- and right-most pipes ( | ) are only aesthetic, and can be omitted. The spaces don\u2019t matter, either. Alignment depends solely on : marks.","title":"Table"},{"location":"\u751f\u6d3b/life/#fenced-code-block","text":"This is a fenced code block: 1 print( Hello world! ) You can also use waves ( ~ ) instead of back ticks ( ` ): 1 print( Hello world! ) You can add an optional language ID at the end of the first line. The language ID will only be used to highlight the code inside if you tick the Enable highlighting in code blocks option. This is what happens if you enable it: I support many popular languages as well as some generic syntax descriptions that can be used if your language of choice is not supported. See relevant sections on the official site for a full list of supported syntaxes.","title":"Fenced Code Block"},{"location":"\u751f\u6d3b/life/#inline-formatting","text":"The following is a list of optional inline markups supported: Option name Markup Result if enabled Intra-word emphasis So A*maz*ing So A maz ing Strikethrough \\~~Much wow\\~~ Much wow Underline [^under] _So doge_ So doge Quote [^quote] \\\"Such editor\\\" Such editor Highlight \\==So good\\== So good Superscript hoge\\^(fuga) hoge fuga Autolink http://t.co http://t.co Footnotes [\\^4] and [\\^4]: [^4] and footnote 4 [^4]: You don't have to use a number. Arbitrary things like [^footy note4] and [^footy note4]: will also work. But they will render as numbered footnotes. Also, no need to keep your footnotes in order, I will sort out the order for you so they appear in the same order they were referenced in the text body. You can even keep some footnotes near where you referenced them, and collect others at the bottom of the file in the traditional place for footnotes.","title":"Inline Formatting"},{"location":"\u751f\u6d3b/life/#css","text":"You can choose different css files for me to use to render your html. You can even customize or add your own custom css files.","title":"CSS"},{"location":"\u751f\u6d3b/life/#syntax-highlighting","text":"You have already seen how I can syntax highlight your fenced code blocks. See the Fenced Code Block section if you haven\u2019t! You can also choose different themes for syntax highlighting.","title":"Syntax Highlighting"},{"location":"\u751f\u6d3b/life/#tex-like-math-syntax","text":"I can also render TeX-like math syntaxes, if you allow me to.[^math] I can do inline math like this: \\( 1 + 1 \\) or this (in MathML): 1 + 1 , and block math: \\[ A^T_S = B \\] or (in MathML) A S T = B","title":"TeX-like Math Syntax"},{"location":"\u751f\u6d3b/life/#task-list-syntax","text":"[x] I can render checkbox list syntax [x] I support nesting [x] I support ordered and unordered lists [ ] I don't support clicking checkboxes directly in the html window","title":"Task List Syntax"},{"location":"\u751f\u6d3b/life/#jekyll-front-matter","text":"If you like, I can display Jekyll front-matter in a nice table. Just make sure you put the front-matter at the very beginning of the file, and fence it with --- . For example: 1 2 3 4 --- title: Macdown is my friend date: 2014-06-06 20:00:00 ---","title":"Jekyll front-matter"},{"location":"\u751f\u6d3b/life/#render-newline-literally","text":"Normally I require you to put two spaces and a newline (aka return) at the end of a line in order to create a line break. If you like, I can render a newline any time you end a line with a newline. However, if you enable this, markdown that looks lovely when I render it might look pretty funky when you let some other program render it.","title":"Render newline literally"},{"location":"\u751f\u6d3b/life/#styling","text":"My editor provides syntax highlighting. You can edit the base font and the coloring/sizing theme. I provided some default themes (courtesy of Mou \u2019s creator, Chen Luo) if you don\u2019t know where to start. You can also edit, or even add new themes if you want to! Just click the Reveal button, and start moving things around. Remember to use the correct file extension ( .styles ), though. I\u2019m picky about that. I offer auto-completion and other functions to ease your editing experience. If you don\u2019t like it, however, you can turn them off.","title":"Styling"},{"location":"\u751f\u6d3b/life/#hack-on","text":"That\u2019s about it. Thanks for listening. I\u2019ll be quiet from now on (unless there\u2019s an update about the app\u2014I\u2019ll remind you for that!). Happy writing! [^emphasize]: If Underlines is turned on, _this notation_ will render as underlined instead of emphasized [^under]: If Underline is disabled _this_ will be rendered as emphasized instead of being underlined. [^quote]: Quote replaces literal \" characters with html q tags. Quote and Smartypants are syntactically incompatible. If both are enabled, Quote takes precedence. Note that Quote is different from blockquote , which is part of standard Markdown. [^math]: Internet connection required.","title":"Hack On"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/","text":"Dstor\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u5b9a\u4e49 TOC \u4e00\u3001\u652f\u6301\u7684\u64cd\u4f5c\u5217\u8868 \u4e8c\u3001\u516c\u5171\u8bf7\u6c42\u5934\u90e8 \u4e09\u3001\u516c\u5171\u54cd\u5e94\u72b6\u6001\u7801 \u56db\u3001\u63a5\u53e3\u8be6\u7ec6\u8bf4\u660e 1\u3001\u5173\u4e8eService\u7684\u64cd\u4f5c 2\u3001\u5173\u4e8ebucket\u7684\u64cd\u4f5c 2.1\u3001PUT Bucket 2.2\u3001DELETE Bucket 2.3\u3001HEAD Bucket 2.4\u3001GET Bucket(List Object) 2.5\u3001PUT Bucket Lifecycle 2.6\u3001GET Bucket Lifecycle 2.7\u3001DELETE Bucket Lifecycle 3\u3001\u5173\u4e8eobject\u7684\u64cd\u4f5c 3.1\u3001PUT Object 3.2\u3001HEAD Object 3.3\u3001GET Object 3.4\u3001DELETE Object 3.5\u3001COPY Object 4\u3001\u5173\u4e8eMultipart Upload\u7684\u64cd\u4f5c 4.1\u3001Initiate Multipart Upload 4.2\u3001Upload Part 4.3\u3001Complete Multipart Upload 4.4\u3001Abort Multipart Upload 4.5\u3001List Parts \u4e00\u3001\u652f\u6301\u7684\u64cd\u4f5c\u5217\u8868 \u63a5\u53e3\u540d\u79f0 \u63a5\u53e3\u8bf4\u660e GET Service\uff08List Bucket\uff09 \u5217\u51fa\u4e00\u4e2a\u7528\u6237\u4e0b\u6240\u6709\u7684bucket PUT Bucket \u521b\u5efabucket\uff0c\u53ea\u80fd\u662f\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\u7ec4\u5408\u7684\u5b57\u7b26\u4e32 DELETE Bucket \u5220\u9664bucket\uff0c\u82e5bucket\u975e\u7a7a\uff0c\u9700\u5148\u5220\u6389\u4e0b\u9762\u6240\u6709\u6587\u4ef6 Head Bucket \u83b7\u53d6bucket\u4fe1\u606f\uff0c\u4e5f\u79f0\u4f5cGET Bucket Info Get Bucket (List Object) \u5217\u51fa\u4e00\u4e2a\u7528\u6237\u4e0b\u7684\u5bf9\u8c61\uff0c\u63a5\u53e3\u4e5f\u79f0\u4f5cGET Bucket PUT Bucket Lifecycle \u8bbe\u7f6e\u6216\u66ff\u6362\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 GET Bucket Lifecycle \u83b7\u53d6\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 DELETE Bucket Lifecycle \u5220\u9664\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 PUT Object \u4e0a\u4f20\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u540d\u5b57\u7b26\u4e32\u652f\u6301utf8\u548cgbk\u7f16\u7801 Head Object \u83b7\u53d6\u5bf9\u8c61\u4fe1\u606f\uff0c\u63a5\u53e3\u4e5f\u79f0\u4f5cGet Object Info GET Object \u83b7\u53d6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u540d\u5b57\u7b26\u4e32\u652f\u6301utf8\u548cgbk\u7f16\u7801 DELETE Object \u5220\u9664\u4e00\u4e2a\u5bf9\u8c61 Copy Object \u62f7\u8d1d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027 Initiate Multipart Upload \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u4e00\u4e2aDstor\u521b\u5efa\u7684\u5168\u5c40\u552f\u4e00\u7684Upload ID Upload Part \u6839\u636e\u6307\u5b9a\u7684Object\u540d\u548cUpload ID\u6765\u5206\u5757\uff08Part\uff09\u4e0a\u4f20\u6570\u636e Complete Multipart Upload \u5728\u5c06\u6240\u6709\u6570\u636ePart\u90fd\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u5fc5\u987b\u8c03\u7528\u6b64\u63a5\u53e3\u6765\u5b8c\u6210\u6574\u4e2a\u6587\u4ef6\u7684Multipart Upload Abort Multipart Upload \u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684Upload ID\u4e2d\u6b62\u5176\u5bf9\u5e94\u7684Multipart Upload\u4e8b\u4ef6 List Parts \u7f57\u5217\u51fa\u6307\u5b9aUpload ID\u6240\u5c5e\u7684\u6240\u6709\u5df2\u7ecf\u4e0a\u4f20\u6210\u529fPart GET_BUCKET_ACL \u8fd9\u4e9b\u63a5\u53e3\u5b9e\u9645\u672a\u5b9e\u73b0\uff0c\u4ec5\u4e3a\u9002\u914ds3\u6d4b\u8bd5\u548c\u5ba2\u6237\u7aef\u8fd4\u56de\u9ed8\u8ba4\u503c GET_BUCKET_OBJECT_VERSIONS GET_BUCKET_LOCATION GET_BUCKET_VERSIONING GET_OBJECT_ACL \u4e8c\u3001\u516c\u5171\u8bf7\u6c42\u5934\u90e8 Request Header Description CONTENT_LENGTH Length of the request body. DATE Request time and date (in UTC). HOST The name of the host server. AUTHORIZATION Authorization token. \u4e09\u3001\u516c\u5171\u54cd\u5e94\u72b6\u6001\u7801 HTTP Status Response Code 100 Continue 200 Success 201 Created 202 Accepted 204 NoContent 206 Partial content 304 NotModified 400 InvalidArgument 400 InvalidDigest 400 BadDigest 400 InvalidBucketName 400 InvalidObjectName 400 UnresolvableGrantByEmailAddress 400 InvalidPart 400 InvalidPartOrder 400 RequestTimeout 400 EntityTooLarge 403 AccessDenied 403 UserSuspended 403 RequestTimeTooSkewed 404 NoSuchKey 404 NoSuchBucket 404 NoSuchUpload 405 MethodNotAllowed 408 RequestTimeout 409 BucketAlreadyExists 409 BucketNotEmpty 411 MissingContentLength 412 PreconditionFailed 416 InvalidRange 422 UnprocessableEntity 500 InternalError \u56db\u3001\u63a5\u53e3\u8be6\u7ec6\u8bf4\u660e 1\u3001\u5173\u4e8eService\u7684\u64cd\u4f5c 1.1\u3001GET Service \u5bf9\u4e8e\u670d\u52a1\u5730\u5740\u4f5cGet\u8bf7\u6c42\u53ef\u4ee5\u8fd4\u56de\u8bf7\u6c42\u8005\u62e5\u6709\u7684Bucket\u5217\u8868\uff0c\u5176\u4e2d\u201c/\u201d\u8868\u793a\u6839\u76ee\u5f55\u3002 1.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 GET / HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 1.1.2\u3001\u8bf7\u6c42\u53c2\u6570 \u65e0 1.1.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements) \u540d\u79f0 \u63cf\u8ff0 ListAllMyBucketsResult \u4fdd\u5b58Get Service\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9: Owner, Buckets \u7236\u8282\u70b9\uff1aNone Owner \u7528\u4e8e\u5b58\u653eBucket\u62e5\u6709\u8005\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult ID Bucket\u62e5\u6709\u8005\u7684\u7528\u6237ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Owner DisplayName Bucket\u62e5\u6709\u8005\u7684\u540d\u79f0 (\u76ee\u524d\u548cID\u4e00\u81f4)\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Owner Buckets \u4fdd\u5b58\u591a\u4e2aBucket\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket \u7236\u8282\u70b9\uff1aListAllMyBucketsResult Bucket \u4fdd\u5b58bucket\u4fe1\u606f\u7684\u5bb9\u5668. \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aName, CreationDate, Location \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets Name Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets.Bucket CreateDate Bucket\u521b\u5efa\u65f6\u95f4 \u7c7b\u578b\uff1a\u65f6\u95f4 (\u683c\u5f0f\uff1ayyyy-mm-ddThh:mm:ss.timezone, e.g., 2011-12-01T12:27:13.000Z) \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets.Bucket 1.1.4\u3001\u7ec6\u8282\u5206\u6790 GetService\u8fd9\u4e2aAPI\u53ea\u5bf9\u9a8c\u8bc1\u901a\u8fc7\u7684\u7528\u6237\u6709\u6548\u3002 \u5982\u679c\u8bf7\u6c42\u4e2d\u6ca1\u6709\u7528\u6237\u9a8c\u8bc1\u4fe1\u606f\uff08\u5373\u533f\u540d\u8bbf\u95ee\uff09\uff0c\u8fd4\u56de403 Forbidden\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5f53\u6240\u6709\u7684bucket\u90fd\u8fd4\u56de\u65f6\uff0c\u8fd4\u56de\u7684xml\u4e2d\u4e0d\u5305\u542bPrefix\u3001Marker\u3001MaxKeys\u3001IsTruncated\u3001NextMarker\u8282\u70b9\uff0c\u5982\u679c\u8fd8\u6709\u90e8\u5206\u7ed3\u679c\u672a\u8fd4\u56de\uff0c\u5219\u589e\u52a0\u4e0a\u8ff0\u8282\u70b9\uff0c\u5176\u4e2dNextMarker\u7528\u4e8e\u7ee7\u7eed\u67e5\u8be2\u65f6\u7ed9marker\u8d4b\u503c\u3002 1.1.5\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\u2160 1 2 3 4 GET / HTTP / 1.1 Host : api.dstor.dnion.com Date : Thu, 15 Mar 2017 11:18:32 GMT Authorization : AWS nxj7dtl1c24jwhcyl5hpvnhi:COS3OQkfQPnKmYZTEHYv2qUl5jI= \u8fd4\u56de\u793a\u4f8b\u2160 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 HTTP/1.1 200 OK Date: Thu, 15 Mar 2017 11:18:32 GMT Content-Type: application/xml Content-Length: 556 Connection: keep-alive x-amz-request-id: tx00000000000000000027b-0057835f2e-107c-default ?xml version= 1.0 encoding= UTF-8 ? ListAllMyBucketsResult Owner ID 12345 /ID DisplayName dnionstore /DisplayName /Owner Buckets Bucket CreationDate 2016-12-17T18:12:43.000Z /CreationDate Name test-bucket1 /Name /Bucket Bucket CreationDate 2016-12-25T11:21:04.000Z /CreationDate Name test-bucket2 /Name /Bucket /Buckets /ListAllMyBucketsResult \u8bf7\u6c42\u793a\u4f8b\u2161 1 2 3 4 GET /?prefix=xz02tphky6fjfiuc max-keys=1 HTTP / 1.1 Host : api.dstor.dnion.com Date : Thu, 15 Mar 2017 11:18:32 GMT Authorization : AWS nxj7dtl1c24jwhcyl5hpvnhi:COS3OQkfQPnKmYZTEHYv2qUl5jI= \u8fd4\u56de\u793a\u4f8b\u2161 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 HTTP/1.1 200 OK Date: Thu, 15 Mar 2017 11:18:32 GMT Content-Type: application/xml Content-Length: 545 Connection: keep-alive x-amz-request-id: tx00000000000000000027b-0057835f2e-107d-default ?xml version= 1.0 encoding= UTF-8 ? ListAllMyBucketsResult Prefix xz02tphky6fjfiuc /Prefix Marker /Marker MaxKeys 1 /MaxKeys IsTruncated true /IsTruncated NextMarker xz02tphky6fjfiuc0 /NextMarker Owner ID 12345 /ID DisplayName dnionstore /DisplayName /Owner Buckets Bucket CreationDate 2016-05-15T11:18:32.000Z /CreationDate Name test-bucket1 /Name /Bucket /Buckets /ListAllMyBucketsResult 2\u3001\u5173\u4e8ebucket\u7684\u64cd\u4f5c 2.1\u3001PUT Bucket PUT Bucket\u7528\u4e8e\u521b\u5efaBucket\uff08\u4e0d\u652f\u6301\u533f\u540d\u8bbf\u95ee\uff09\u3002 2.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 PUT /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.1.2\u3001\u7ec6\u8282\u5206\u6790 \u5982\u679c\u8bf7\u6c42\u7684Bucket\u5df2\u7ecf\u5b58\u5728\uff0c\u5e76\u4e14\u8bf7\u6c42\u8005\u662f\u6240\u6709\u8005\uff0c\u8fd4\u56de200 OK\u6210\u529f\u3002 \u5982\u679c\u60f3\u521b\u5efa\u7684Bucket\u4e0d\u7b26\u5408\u547d\u540d\u89c4\u8303\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aInvalidBucketName\u3002 \u5982\u679c\u7528\u6237\u53d1\u8d77PUT Bucket\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u4f20\u5165\u7528\u6237\u9a8c\u8bc1\u4fe1\u606f\uff0c\u8fd4\u56de403 Forbidden\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679cPutBucket\u7684\u65f6\u5019\u53d1\u73b0\u5df2\u7ecf\u8d85\u8fc7bucket\u6700\u5927\u521b\u5efa\u6570\u65f6\uff0c\u9ed8\u8ba41000\u4e2a\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aTooManyBuckets\u3002 \u521b\u5efa\u7684Bucket\uff0c\u53ef\u4ee5\u6307\u5b9aBucket\u7684\u5b58\u50a8\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3aStandard\u3002 2.1.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 PUT /test-bucket/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 03:15:40 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:77Dvh5wQgIjWjwO/KyRt8dOPfo8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 OK x-amz-request-id: tx00000000000000000027b-0057835f2e-107b-default Date: Fri, 24 Feb 2017 03:15:40 GMT Content-Length: 0 Connection: keep-alive 2.2\u3001DELETE Bucket Delete Bucket\u7528\u4e8e\u5220\u9664\u67d0\u4e2aBucket\u3002 2.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 DELETE /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.2.2\u3001\u7ec6\u8282\u5206\u6790 \u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 no content\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u4e3a\u4e86\u9632\u6b62\u8bef\u5220\u9664\u7684\u53d1\u751f\uff0cDstor\u4e0d\u5141\u8bb8\u7528\u6237\u5220\u9664\u4e00\u4e2a\u975e\u7a7a\u7684Bucket\u3002 \u5982\u679c\u8bd5\u56fe\u5220\u9664\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\u7684Bucket\uff0c\u8fd4\u56de409 Conflict\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aBucketNotEmpty\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u5220\u9664\u8fd9\u4e2aBucket\u3002\u5982\u679c\u8bd5\u56fe\u5220\u9664\u4e00\u4e2a\u6ca1\u6709\u5bf9\u5e94\u6743\u9650\u7684Bucket\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 2.2.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /test-bucket/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 05:31:04 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:ceOEyZavKY4QcjoUWYSpYbJ3naA= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 No Content x-amz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2017 05:31:04 GMT Connection: keep-alive Content-Length: 0 2.3\u3001HEAD Bucket HEAD Bucket\u64cd\u4f5c\u7528\u4e8e\u786e\u8ba4bucket\u662f\u5426\u5b58\u5728\u4ee5\u53ca\u5ba2\u6237\u7aef\u662f\u5426\u5177\u6709\u8be5bucket\u7684\u8bbf\u95ee\u6743\u9650\u3002 2.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 HEAD /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.3.2\u3001\u7ec6\u8282\u5206\u6790 \u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u67e5\u770bBucket\u7684\u4fe1\u606f\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u9519\u8bef,\u9519\u8bef\u7801\uff1aAccessDenied\u3002 2.3.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 HEAD /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Sat, 12 Sep 2015 07:51:28 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc: BuG4rRK+zNhH1AcF51NNHD39zXw= \u6210\u529f\u83b7\u53d6Bucket\u4fe1\u606f\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 x-amz-request-id: 534B371674E88A4D8906008B Date: Sat, 12 Sep 2015 07:51:28 GMT Connection: keep-alive Content-Length: 0 2.4\u3001Get Bucket(List Object) Get Bucket\u64cd\u4f5c\u53ef\u7528\u6765list Bucket\u4e2d\u6240\u6709Object\u7684\u4fe1\u606f\u3002 2.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 GET /bucketname/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.4.2\u3001\u8bf7\u6c42\u53c2\u6570 GetBucket\uff08ListObject\uff09\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7prefix\uff0cmarker\uff0cdelimiter\u548cmax-keys\u5bf9list\u505a\u9650\u5b9a\uff0c\u8fd4\u56de\u90e8\u5206\u7ed3\u679c\u3002 \u540d\u79f0 \u63cf\u8ff0 delimiter \u662f\u4e00\u4e2a\u7528\u4e8e\u5bf9Object\u540d\u5b57\u8fdb\u884c\u5206\u7ec4\u7684\u5b57\u7b26\u3002\u6240\u6709\u540d\u5b57\u5305\u542b\u6307\u5b9a\u7684\u524d\u7f00\u4e14\u7b2c\u4e00\u6b21\u51fa\u73b0delimiter\u5b57\u7b26\u4e4b\u95f4\u7684object\u4f5c\u4e3a\u516c\u5171\u524d\u7f00\u2014CommonPrefixes\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 marker \u8bbe\u5b9a\u7ed3\u679c\u4ecemarker\u4e4b\u540e\u6309\u5b57\u6bcd\u6392\u5e8f\u7684\u7b2c\u4e00\u4e2a\u5f00\u59cb\u8fd4\u56de\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 max-keys \u9650\u5b9a\u6b64\u6b21\u8fd4\u56deobject\u7684\u6700\u5927\u6570\uff0c\u5982\u679c\u4e0d\u8bbe\u5b9a\uff0c\u9ed8\u8ba4\u4e3a100\uff0cmax-keys\u53d6\u503c\u4e0d\u80fd\u5927\u4e8e1000\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a100 prefix \u9650\u5b9a\u8fd4\u56de\u7684object key\u5fc5\u987b\u4ee5prefix\u4f5c\u4e3a\u524d\u7f00\u3002\u6ce8\u610f\u4f7f\u7528prefix\u67e5\u8be2\u65f6\uff0c\u8fd4\u56de\u7684key\u4e2d\u4ecd\u4f1a\u5305\u542bprefix\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 2.4.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements) \u540d\u79f0 \u63cf\u8ff0 Contents \u4fdd\u5b58\u6bcf\u4e2a\u8fd4\u56deObject meta\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u7236\u8282\u70b9\uff1aListBucketResult CommonPrefixes \u5982\u679c\u8bf7\u6c42\u4e2d\u6307\u5b9a\u4e86delimiter\u53c2\u6570\uff0c\u5219\u5728Dstor\u8fd4\u56de\u7684\u54cd\u5e94\u4e2d\u5305\u542bCommonPrefixes\u5143\u7d20\u3002\u8be5\u5143\u7d20\u6807\u660e\u90a3\u4e9b\u4ee5delimiter\u7ed3\u5c3e\uff0c\u5e76\u6709\u5171\u540c\u524d\u7f00\u7684object\u540d\u79f0\u7684\u96c6\u5408\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Delimiter \u662f\u4e00\u4e2a\u7528\u4e8e\u5bf9Object\u540d\u5b57\u8fdb\u884c\u5206\u7ec4\u7684\u5b57\u7b26\u3002\u6240\u6709\u540d\u5b57\u5305\u542b\u6307\u5b9a\u7684\u524d\u7f00\u4e14\u7b2c\u4e00\u6b21\u51fa\u73b0delimiter\u5b57\u7b26\u4e4b\u95f4\u7684object\u4f5c\u4e3a\u4e00\u7ec4\u5143\u7d20\u2014\u2014CommonPrefixes\uff0c\u76ee\u524d\u53ea\u652f\u6301\u659c\u6760\u201d/\u201d\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult DisplayName Object \u62e5\u6709\u8005\u7684\u540d\u5b57\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents.Owner ETag ETag (entity tag) \u5728\u6bcf\u4e2aObject\u751f\u6210\u7684\u65f6\u5019\u88ab\u521b\u5efa\uff0c\u7528\u4e8e\u6807\u793a\u4e00\u4e2aObject\u7684\u5185\u5bb9\u3002\u5bf9\u4e8ePut Object\u8bf7\u6c42\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684MD5\u503c\uff1b\u5bf9\u4e8e\u5176\u4ed6\u65b9\u5f0f\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684UUID\u3002ETag\u503c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5Object\u5185\u5bb9\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002\u4e0d\u5efa\u8bae\u7528\u6237\u4f7f\u7528ETag\u6765\u4f5c\u4e3aObject\u5185\u5bb9\u7684MD5\u6821\u9a8c\u6570\u636e\u5b8c\u6574\u6027\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents ID Bucket\u62e5\u6709\u8005\u7684\u7528\u6237ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents.Owner IsTruncated \u6307\u660e\u662f\u5426\u6240\u6709\u7684\u7ed3\u679c\u90fd\u5df2\u7ecf\u8fd4\u56de\uff1b \u201ctrue\u201d\u8868\u793a\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff1b\u201cfalse\u201d\u8868\u793a\u672c\u6b21\u5df2\u7ecf\u8fd4\u56de\u4e86\u5168\u90e8\u7ed3\u679c\u3002 \u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32 \u6709\u6548\u503c\uff1atrue\u3001false \u7236\u8282\u70b9\uff1aListBucketResult Key Object\u7684Key. \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents LastModified Object\u6700\u540e\u88ab\u4fee\u6539\u7684\u65f6\u95f4\u3002 \u7c7b\u578b\uff1a\u65f6\u95f4 \u7236\u8282\u70b9\uff1aListBucketResult.Contents ListBucketResult \u4fdd\u5b58Get Bucket\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668. \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aName, Prefix, Marker, MaxKeys, Delimiter, IsTruncated, Nextmarker, Contents \u7236\u8282\u70b9\uff1aNone Marker \u6807\u660e\u8fd9\u6b21Get Bucket\uff08List Object\uff09\u7684\u8d77\u70b9\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult MaxKeys \u54cd\u5e94\u8bf7\u6c42\u5185\u8fd4\u56de\u7ed3\u679c\u7684\u6700\u5927\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Name Bucket\u540d\u5b57 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Owner \u4fdd\u5b58Bucket\u62e5\u6709\u8005\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aDisplayName, ID \u7236\u8282\u70b9\uff1aListBucketResult Prefix \u672c\u6b21\u67e5\u8be2\u7ed3\u679c\u7684\u5f00\u59cb\u524d\u7f00\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Size Object\u7684\u5b57\u8282\u6570\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents StorageClass Object\u7684\u5b58\u50a8\u7c7b\u578b\uff0c\u652f\u6301\u201cStandard\u201d\u3001\u201cIA\u201d\u3001\u201cArchive\u201d\u3002\uff08\u76ee\u524d\u53ea\u6709\u90e8\u5206\u533a\u57df\u652f\u6301\u201cArchive\u201d\u7c7b\u578b\uff09 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents 2.4.4\u3001\u7ec6\u8282\u5206\u6790 \u5982\u679c\u8bbf\u95ee\u7684Bucket\u4e0d\u5b58\u5728\uff0c\u5305\u62ec\u8bd5\u56fe\u8bbf\u95ee\u56e0\u4e3a\u547d\u540d\u4e0d\u89c4\u8303\u65e0\u6cd5\u521b\u5efa\u7684Bucket\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u5982\u679c\u6ca1\u6709\u8bbf\u95ee\u8be5Bucket\u7684\u6743\u9650\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u56e0\u4e3amax-keys\u7684\u8bbe\u5b9a\u65e0\u6cd5\u4e00\u6b21\u5b8c\u6210listing\uff0c\u8fd4\u56de\u7ed3\u679c\u4f1a\u9644\u52a0\u4e00\u4e2a \uff0c\u63d0\u793a\u7ee7\u7eedlisting\u53ef\u4ee5\u4ee5\u6b64\u4e3amarker\u3002NextMarker\u4e2d\u7684\u503c\u4ecd\u5728list\u7ed3\u679c\u4e4b\u4e2d\u3002 \u5728\u505a\u6761\u4ef6\u67e5\u8be2\u65f6\uff0c\u5373\u4f7fmarker\u5b9e\u9645\u5728\u5217\u8868\u4e2d\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u4e5f\u4ece\u7b26\u5408marker\u5b57\u6bcd\u6392\u5e8f\u7684\u4e0b\u4e00\u4e2a\u5f00\u59cb\u6253\u5370\u3002\u5982\u679cmax-keys\u5c0f\u4e8e0\u6216\u8005\u5927\u4e8e1000\uff0c\u5c06\u8fd4\u56de400 Bad Request\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 \u82e5prefix\uff0cmarker\uff0cdelimiter\u53c2\u6570\u4e0d\u7b26\u5408\u957f\u5ea6\u8981\u6c42\uff0c\u8fd4\u56de400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 prefix\uff0cmarker\u7528\u6765\u5b9e\u73b0\u5206\u9875\u663e\u793a\u6548\u679c\uff0c\u53c2\u6570\u7684\u957f\u5ea6\u5fc5\u987b\u5c0f\u4e8e1024\u5b57\u8282\u3002 \u5982\u679c\u628aprefix\u8bbe\u4e3a\u67d0\u4e2a\u6587\u4ef6\u5939\u540d\uff0c\u5c31\u53ef\u4ee5\u7f57\u5217\u4ee5\u6b64prefix\u5f00\u5934\u7684\u6587\u4ef6\uff0c\u5373\u8be5\u6587\u4ef6\u5939\u4e0b\u9012\u5f52\u7684\u6240\u6709\u7684\u6587\u4ef6\u548c\u5b50\u6587\u4ef6\u5939\u3002\u5982\u679c\u518d\u628adelimiter\u8bbe\u7f6e\u4e3a / \u65f6\uff0c\u8fd4\u56de\u503c\u5c31\u53ea\u7f57\u5217\u8be5\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5939\u4e0b\u7684\u5b50\u6587\u4ef6\u540d\u8fd4\u56de\u5728CommonPrefixes\u90e8\u5206\uff0c\u5b50\u6587\u4ef6\u5939\u4e0b\u9012\u5f52\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u4e0d\u88ab\u663e\u793a\u3002\u5982\u4e00\u4e2abucket\u5b58\u5728\u4e09\u4e2aobject :fun/test.jpg\uff0c fun/movie/001.avi\uff0c fun/movie/007.avi\u3002\u82e5\u8bbe\u5b9aprefix\u4e3a\u201dfun/\u201d \uff0c\u5219\u8fd4\u56de\u4e09\u4e2aobject\uff1b\u5982\u679c\u589e\u52a0\u8bbe\u5b9adelimiter\u4e3a\u201c/\u201d\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\u201dfun/test.jpg\u201d\u548c\u524d\u7f00\u201dfun/movie/\u201d\uff1b\u5373\u5b9e\u73b0\u4e86\u6587\u4ef6\u5939\u7684\u903b\u8f91\u3002 2.4.5\u3001\u793a\u4f8b \u5728bucket\u201ctest-bucket\u201d\u5185\u67094\u4e2aobject\uff0c\u540d\u5b57\u5206\u522b\u4e3a\uff1a \u009f test1.jpg \u009f fun/test2.jpg \u009f fun/movie/001.avi \u009f fun/movie/007.avi \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 GET /bucketname/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 08:43:27 GMT Authorization : AWS 96786O1TF69Z0YB4I7O1:uI0ll22EgdycsVhCbFBxpHdHeOE= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 HTTP/1.1 200 OK x-awz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2012 08:43:27 GMT Content-Type: application/xml Content-Length: 1866 Connection: keep-alive ?xml version= 1.0 encoding= UTF-8 ? ListBucketResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/ Name bucketname /Name Prefix /Prefix Marker /Marker MaxKeys 100 /MaxKeys Delimiter /Delimiter IsTruncated false /IsTruncated Contents Key fun/movie/001.avi /Key LastModified 2012-02-24T08:43:07.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key fun/movie/007.avi /Key LastModified 2012-02-24T08:43:27.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key fun/test2.jpg /Key LastModified 2012-02-24T08:42:32.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key test1.jpg /Key LastModified 2012-02-24T06:07:48.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents /ListBucketResult \u8bf7\u6c42\u793a\u4f8b(\u542bprefix\u548cdelimiter\u53c2\u6570)\uff1a 1 2 3 4 GET /bucketname/?prefix=fun/ delimiter=/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2012 08:43:27 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:DNrnx7xHk3sgysx7I8U9I9IY1vY= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 HTTP/1.1 200 OK x-awz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2012 08:43:27 GMT Content-Type: application/xml Content-Length: 712 Connection: keep-alive ?xml version= 1.0 encoding= UTF-8 ? ListBucketResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/\u201d Name bucketname /Name Prefix fun/ /Prefix Marker /Marker MaxKeys 100 /MaxKeys Delimiter / /Delimiter IsTruncated false /IsTruncated Contents Key fun/test2.jpg /Key LastModified 2012-02-24T08:42:32.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents CommonPrefixes Prefix fun/movie/ /Prefix /CommonPrefixes /ListBucketResult 2.5\u3001Put Bucket Lifecycle Bucket\u7684\u62e5\u6709\u8005\u53ef\u4ee5\u901a\u8fc7Put Bucket Lifecycle\u6765\u8bbe\u7f6eBucket\u7684Lifecycle\u914d\u7f6e\u3002Lifecycle\u5f00\u542f\u540e\uff0cDstor\u5c06\u6309\u7167\u914d\u7f6e\uff0c\u5b9a\u671f\u81ea\u52a8\u5220\u9664\u6216\u8f6c\u50a8\u4e0eLifecycle\u89c4\u5219\u76f8\u5339\u914d\u7684Object\u3002 2.5.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 PUT /bucketname/?lifecycle HTTP / 1.1 Date : GMT Date Content-Length\uff1aContentLength Content-Type: application/xml Authorization: AWS AccessKeyId:SignatureValue Host: api.dstor.dnion.com ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID RuleID /ID Prefix Prefix /Prefix Status Status /Status Expiration Days Days /Days /Expiration /Rule /LifecycleConfiguration 2.5.2\u3001\u8bf7\u6c42\u5143\u7d20(Request Elements) \u540d\u79f0 \u63cf\u8ff0 Days \u6307\u5b9a\u89c4\u5219\u5728\u5bf9\u8c61\u6700\u540e\u4fee\u6539\u65f6\u95f4\u8fc7\u540e\u591a\u5c11\u5929\u751f\u6548\u3002 \u7c7b\u578b\uff1a\u6b63\u6574\u6570 \u7236\u8282\u70b9\uff1aExpiration Expiration \u6307\u5b9aObject\u89c4\u5219\u7684\u8fc7\u671f\u5c5e\u6027\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aDays\u6216CreatedBeforeDate \u7236\u8282\u70b9\uff1aRule ID \u89c4\u5219\u552f\u4e00\u7684ID\u3002\u6700\u591a\u7531255\u5b57\u8282\u7ec4\u6210\u3002\u5f53\u7528\u6237\u6ca1\u6709\u6307\u5b9a\uff0c\u6216\u8005\u8be5\u503c\u4e3a\u7a7a\u65f6\uff0cDstor\u4f1a\u4e3a\u7528\u6237\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u503c\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1a\u65e0 \u7236\u8282\u70b9\uff1aRule LifecycleConfiguration Lifecycle\u914d\u7f6e\u7684\u5bb9\u5668\uff0c\u6700\u591a\u53ef\u5bb9\u7eb31000\u6761\u89c4\u5219\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aRule \u7236\u8282\u70b9\uff1a\u65e0 Prefix \u6307\u5b9a\u89c4\u5219\u6240\u9002\u7528\u7684\u524d\u7f00\u3002\u53ea\u6709\u5339\u914d\u524d\u7f00\u7684\u5bf9\u8c61\u624d\u53ef\u80fd\u88ab\u8be5\u89c4\u5219\u6240\u5f71\u54cd\u3002\u4e0d\u53ef\u91cd\u53e0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1a\u65e0 \u7236\u8282\u70b9\uff1aRule Rule \u8868\u8ff0\u4e00\u6761\u89c4\u5219 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aID\uff0cPrefix\uff0cStatus\uff0cExpiration \u7236\u8282\u70b9\uff1aLifecycleConfiguration Status \u5982\u679c\u5176\u503c\u4e3aEnabled\uff0c\u90a3\u4e48Dstor\u4f1a\u5b9a\u671f\u6267\u884c\u8be5\u89c4\u5219\uff1b\u5982\u679c\u662fDisabled\uff0c\u90a3\u4e48Dstor\u4f1a\u5ffd\u7565\u8be5\u89c4\u5219\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aRule \u6709\u6548\u503c\uff1aEnabled\uff0cDisabled 2.5.3\u3001\u7ec6\u8282\u5206\u6790 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u53d1\u8d77Put Bucket Lifecycle\u8bf7\u6c42\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u6b64\u524d\u6ca1\u6709\u8bbe\u7f6e\u8fc7Lifecycle\uff0c\u6b64\u64cd\u4f5c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Lifecycle\u914d\u7f6e\uff1b\u5426\u5219\uff0c\u5c31\u8986\u5199\u5148\u524d\u7684\u914d\u7f6e\u3002 \u5bf9Object\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u76ee\u524d\u662f\u4ee5\u6574\u5929\u4e3a\u5355\u4f4d\uff0c\u5e76\u4e14\u7531\u4e8eDstor\u540e\u53f0\u5220\u9664\u8fc7\u671f\u5bf9\u8c61\u7684\u65f6\u95f4\u5e76\u4e0d\u662f\u5b9e\u65f6\u7684\uff0cObject\u5b9e\u9645\u88ab\u5220\u9664\u7684\u65f6\u95f4\u53ef\u80fd\u4f1a\u6bd4\u89c4\u5219\u8bbe\u7f6e\u7684\u65f6\u95f4\u8981\u665a\u4e00\u5929\u3002 2.5.4\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 PUT /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Content-Length : 443 Date : Thu , 8 Jun 2017 13:08:38 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:PYbzsdWSMrAIWAlMW8luWekJ8= ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID delete objects after one day /ID Prefix logs/ /Prefix Status Enabled /Status Expiration Days 1 /Days /Expiration /Rule Rule ID objects expire after 10 years /ID Prefix data/ /Prefix Status Enabled /Status Expiration Days 3600 /Days /Expiration /Rule /LifecycleConfiguration \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 OK x-amz-request-id: 534B371674E88A4D8906008B Date: Thu , 8 Jun 2017 13:08:38 GMT Content-Length: 0 Connection: keep-alive 2.6\u3001Get Bucket Lifecycle Get Bucket Lifecycle\u7528\u4e8e\u67e5\u770bBucket\u7684Lifecycle\u914d\u7f6e\u3002 2.6.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 GET /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.6.2\u3001\u7ec6\u8282\u5206\u6790 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u67e5\u770bBucket\u7684Lifecycle\u914d\u7f6e\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u9519\u8bef,\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679cBucket\u6216Lifecycle\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aNoSuchBucket\u6216NoSuchLifecycle\u3002 2.6.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 Get /bucketname/?lifecycle HTTP/1.1 Host: api.dstor.dnion.com Date: Mon, 14 Apr 2014 01:17:29 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:ceOEyZavKY4QcjoUWYSpYbJ3naA= \u5df2\u8bbe\u7f6eLifecycle\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 HTTP/1.1 200 x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:29 GMT Connection: keep-alive Content-Length: 255 ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID delete after one day /ID Prefix logs/ /Prefix Status Enabled /Status Expiration Days 1 /Days /Expiration /Rule /LifecycleConfiguration \u672a\u8bbe\u7f6eLifecycle\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 404 x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:29 GMT Connection: keep-alive Content-Length: 0 2.7\u3001Delete Bucket Lifecycle \u901a\u8fc7Delete Bucket Lifecycle\u6765\u5220\u9664\u6307\u5b9aBucket\u7684\u751f\u547d\u5468\u671f\u914d\u7f6e\u3002 2.7.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 DELETE /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 2.7.2\u3001\u7ec6\u8282\u5206\u6790 \u672c\u64cd\u4f5c\u4f1a\u5220\u9664\u6307\u5b9aBucket\u7684\u6240\u6709\u7684\u751f\u547d\u5468\u671f\u89c4\u5219\u3002\u6b64\u540e\uff0c\u8be5Bucket\u4e2d\u4e0d\u4f1a\u6709Object\u88ab\u81ea\u52a8\u5220\u9664\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u5220\u9664Bucket\u7684Lifecycle\u914d\u7f6e\u3002\u5982\u679c\u8bd5\u56fe\u64cd\u4f5c\u4e00\u4e2a\u4e0d\u5c5e\u4e8e\u4f60\u7684Bucket\uff0cDstor\u8fd4\u56de403 Forbidden\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aAccessDenied\u3002 2.7.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : Mon, 14 Apr 2014 01:17:35 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:6ZVHOehYzxoC1yxRydPQs/CnMZU= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 No Content x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:35 GMT Connection: keep-alive Content-Length: 0 3\u3001\u5173\u4e8eobject\u7684\u64cd\u4f5c 3.1\u3001PUT Object PUT Object\u7528\u4e8e\u666e\u901a\u65b9\u5f0f\uff08\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u5206\u7247\u4e0a\u4f20\uff09\u4e0a\u4f20\u6587\u4ef6\u3002 3.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 5 6 PUT /BucketName/ObjectName HTTP / 1.1 Content-Length\uff1aContentLength Content-Type: ContentType Host: api.dstor.dnion.com Date: GMT Date Authorization: AWS AccessKeyId:SignatureValue 3.1.2\u3001\u8bf7\u6c42Header \u540d\u79f0 \u63cf\u8ff0 Content-MD5 \u6839\u636e\u534f\u8baeRFC 1864\u5bf9\u6d88\u606f\u5185\u5bb9\uff08\u4e0d\u5305\u62ec\u5934\u90e8\uff09\u8ba1\u7b97MD5\u503c\u83b7\u5f97128\u6bd4\u7279\u4f4d\u6570\u5b57\uff0c\u5bf9\u8be5\u6570\u5b57\u8fdb\u884cbase64\u7f16\u7801\u4e3a\u4e00\u4e2a\u6d88\u606f\u7684Content-MD5\u503c\u3002\u8be5\u8bf7\u6c42\u5934\u53ef\u7528\u4e8e\u6d88\u606f\u5408\u6cd5\u6027\u7684\u68c0\u67e5\uff08\u6d88\u606f\u5185\u5bb9\u662f\u5426\u4e0e\u53d1\u9001\u65f6\u4e00\u81f4\uff09\u3002\u867d\u7136\u8be5\u8bf7\u6c42\u5934\u662f\u53ef\u9009\u9879\uff0cDstor\u5efa\u8bae\u7528\u6237\u4f7f\u7528\u8be5\u8bf7\u6c42\u5934\u8fdb\u884c\u7aef\u5230\u7aef\u68c0\u67e5\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 \u9650\u5236\uff1a\u65e0 Expires \u8fc7\u671f\u65f6\u95f4\uff1b\u66f4\u8be6\u7ec6\u63cf\u8ff0\u8bf7\u53c2\u7167 RFC2616 \u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 \u6ce8\u610f \uff1aDstor\u4e0d\u4f1a\u5bf9\u8fd9\u4e2a\u503c\u8fdb\u884c\u9650\u5236\u548c\u9a8c\u8bc1 3.1.3\u3001\u7ec6\u8282\u5206\u6790 \u5982\u679c\u7528\u6237\u4e0a\u4f20\u4e86Content-MD5\u8bf7\u6c42\u5934\uff0cDstor\u4f1a\u8ba1\u7b97body\u7684Content-MD5\u5e76\u68c0\u67e5\u4e00\u81f4\u6027\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c06\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002 \u5982\u679c\u8bf7\u6c42\u5934\u4e2d\u7684\u201cContent-Length\u201d\u503c\u5c0f\u4e8e\u5b9e\u9645\u8bf7\u6c42\u4f53\uff08body\uff09\u4e2d\u4f20\u8f93\u7684\u6570\u636e\u957f\u5ea6\uff0cDstor\u5c06\u8fd4\u56de\u5931\u8d25\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u7684\u540c\u540d\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\uff0c\u5e76\u4e14\u6709\u8bbf\u95ee\u6743\u9650\u3002\u65b0\u6dfb\u52a0\u7684\u6587\u4ef6\u5c06\u8986\u76d6\u539f\u6765\u7684\u6587\u4ef6\uff0c\u6210\u529f\u8fd4\u56de200 OK\u3002 \u5982\u679c\u5728PUT Object\u7684\u65f6\u5019\uff0c\u643a\u5e26\u4ee5x-amz-meta-\u4e3a\u524d\u7f00\u7684\u53c2\u6570\uff0c\u5219\u89c6\u4e3auser meta\uff0c\u6bd4\u5982x-amz-meta-location\u3002\u4e00\u4e2aObject\u53ef\u4ee5\u6709\u591a\u4e2a\u7c7b\u4f3c\u7684\u53c2\u6570\uff0c\u4f46\u6240\u6709\u7684user meta\u603b\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc78k\u3002 \u5982\u679cHeader\u4e2d\u6ca1\u6709\u52a0\u5165Content length\u53c2\u6570\uff0c\u4f1a\u8fd4\u56de411 Length Required\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aMissingContentLength\u3002 \u5982\u679c\u8bbe\u5b9a\u4e86\u957f\u5ea6\uff0c\u4f46\u662f\u6ca1\u6709\u53d1\u9001\u6d88\u606fBody\uff0c\u6216\u8005\u53d1\u9001\u7684body\u5927\u5c0f\u5c0f\u4e8e\u7ed9\u5b9a\u5927\u5c0f\uff0c\u670d\u52a1\u5668\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230time out\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aRequestTimeout\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u6240\u5728\u7684Bucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u6240\u5728\u7684Bucket\u6ca1\u6709\u8bbf\u95ee\u6743\u9650\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u6dfb\u52a0\u6587\u4ef6\u957f\u5ea6\u8d85\u8fc75G(\u8d85\u8fc75G\u7684\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528Mutipart Upload\u65b9\u5f0f\u4e0a\u4f20)\uff0c\u8fd4\u56de\u9519\u8bef\u6d88\u606f400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 \u5982\u679c\u4f20\u5165\u7684Object key\u957f\u5ea6\u5927\u4e8e1023\u5b57\u8282\uff0c\u8fd4\u56de400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidObjectName\u3002 PUT\u4e00\u4e2aObject\u7684\u65f6\u5019\uff0cDstor\u652f\u63015\u4e2a HTTP RFC2616 \u534f\u8bae\u89c4\u5b9a\u7684Header \u5b57\u6bb5\uff1aCache-Control\u3001Expires\u3001Content-Encoding\u3001Content-Disposition\u3001Content-Type\u3002\u5982\u679c\u4e0a\u4f20Object\u65f6\u8bbe\u7f6e\u4e86\u8fd9\u4e9bHeader\uff0c\u5219\u8fd9\u4e2aObject\u88ab\u4e0b\u8f7d\u65f6\uff0c\u76f8\u5e94\u7684Header\u503c\u4f1a\u88ab\u81ea\u52a8\u8bbe\u7f6e\u6210\u4e0a\u4f20\u65f6\u7684\u503c\u3002 3.1.4\u3001Content-MD5\u8ba1\u7b97\u89c4\u5219 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u4ee5\u4e0a\u4f20\u7684\u5185\u5bb9\u4e3a 123456789 \u6765\u8bf4\uff0c\u8ba1\u7b97\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684 Content - MD5 \u6b63\u786e\u7684\u8ba1\u7b97\u65b9\u5f0f\uff1a 1. \u5148\u8ba1\u7b97 MD5 \u52a0\u5bc6\u7684\u4e8c\u8fdb\u5236\u6570\u7ec4\uff08 128 \u4f4d\uff09\u3002 2. \u518d\u5bf9\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u8fdb\u884c base64 \u7f16\u7801\uff08\u800c\u4e0d\u662f\u5bf9 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801\uff09\u3002 \u4ee5 Python \u4e3a\u4f8b\u5b50\uff1a \u6b63\u786e\u8ba1\u7b97\u7684\u4ee3\u7801\u4e3a\uff1a import base64 , hashlib hash = hashlib . md5 () hash . update ( 0123456789 ) base64 . b64encode ( hash . digest ()) eB5eJF1ptWaXm4bijSPyxw== \u9700\u8981\u6ce8\u610f \u6b63\u786e\u7684\u662f\uff1a hash . digest () \uff0c\u8ba1\u7b97\u51fa\u8fdb\u5236\u6570\u7ec4\uff08 128 \u4f4d\uff09 hash . digest () x \\x1e ^$]i \\xb5 f \\x97\\x9b\\x86\\xe2\\x8d # \\xf2\\xc7 \u5e38\u89c1\u9519\u8bef\u662f\u76f4\u63a5\u5bf9\u8ba1\u7b97\u51fa\u7684 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801\u8fdb\u884c base64 \u7f16\u7801\u3002 \u4f8b\u5982\uff0c\u9519\u8bef\u7684\u662f\uff1a hash . hexdigest () \uff0c\u8ba1\u7b97\u5f97\u5230\u53ef\u89c1\u7684 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801 hash . hexdigest () 781e5e245d69b566979b86e28d23f2c7 \u9519\u8bef\u7684 MD5 \u503c\u8fdb\u884c base64 \u7f16\u7801\u540e\u7684\u7ed3\u679c\uff1a base64 . b64encode ( hash . hexdigest ()) NzgxZTVlMjQ1ZDY5YjU2Njk3OWI4NmUyOGQyM2YyYzc= 3.1.5\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 PUT /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Content-Encoding : utf-8 Date : Fri, 24 Feb 2017 06:03:28 GMT Content-Type : image/jpg Content-Length : 344606 Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:kZoYNv66bsmc10+dcGKw5x2PRrk= [344606 bytes of object data] \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 HTTP/1.1 200 OK Date: Fri, 24 Feb 2017 18:52:34 GMT Content-Length: 0 Connection: keep-alive x-amz-request-id: 5650BD72207FB30443962F9A ETag: A797938C31D59EDD08D86188F6D5B872 3.2\u3001HEAD Object Head Object\u53ea\u8fd4\u56de\u67d0\u4e2aObject\u7684meta\u4fe1\u606f\uff0c\u4e0d\u8fd4\u56de\u6587\u4ef6\u5185\u5bb9\u3002 3.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 HEAD /ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 3.2.2\u3001\u7ec6\u8282\u5206\u6790 \u4e0d\u8bba\u6b63\u5e38\u8fd4\u56de200 OK\u8fd8\u662f\u975e\u6b63\u5e38\u8fd4\u56de\uff0cHead Object\u90fd\u4e0d\u8fd4\u56de\u6d88\u606f\u4f53\u3002 \u5982\u679c\u7528\u6237\u5728PutObject\u7684\u65f6\u5019\u4f20\u5165\u4ee5x-amz-meta-\u4e3a\u5f00\u5934\u7684user meta\uff0c\u6bd4\u5982x-amz-meta-location\uff0c\u8fd4\u56de\u6d88\u606f\u65f6\uff0c\u8fd4\u56de\u8fd9\u4e9buser meta\u3002 \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u8fd4\u56de404 Not Found\u9519\u8bef\u3002 \u54cd\u5e94\u5934\u4e2dContent-Length\u3001ETag\u3001Content-Md5 \u5747\u4e3a\u76ee\u6807\u6587\u4ef6\u7684\u5143\u4fe1\u606f\u3002 3.2.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 HEAD /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 06:38:30 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:UNQDb7GapEgJCZkcde6OhZ9Jfe8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 HTTP/1.1 200 OK x-amz-request-id: 3a89276f-2e2d-7965-3ff9-51c875b99c41 Date: Fri, 24 Feb 2017 06:38:30 GMT Last-Modified: Fri, 24 Feb 2012 06:07:48 GMT ETag: fba9dede5f27731c9771645a39863328 Content-Length: 344606 Content-Type: image/jpg Connection: keep-alive 3.3\u3001GET Object \u7528\u4e8e\u83b7\u53d6\u67d0\u4e2aObject\uff0c\u6b64\u64cd\u4f5c\u8981\u6c42\u7528\u6237\u5bf9\u8be5Object\u6709\u8bfb\u6743\u9650\u3002 3.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 5 GET /BucketName/ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue Range : bytes=ByteRange(\u53ef\u9009) 3.3.2\u3001\u8bf7\u6c42Header \u540d\u79f0 \u63cf\u8ff0 Range \u6307\u5b9a\u6587\u4ef6\u4f20\u8f93\u7684\u8303\u56f4\u3002\u5982\uff0c\u8bbe\u5b9a bytes=0-9\uff0c\u8868\u793a\u4f20\u9001\u7b2c0\u5230\u7b2c9\u8fd910\u4e2a\u5b57\u7b26\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 3.3.3\u3001\u7ec6\u8282\u5206\u6790 GET Object\u901a\u8fc7range\u53c2\u6570\u53ef\u4ee5\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684Object\u5efa\u8bae\u4f7f\u7528\u8be5\u529f\u80fd\u3002 \u5982\u679c\u5728\u8bf7\u6c42\u5934\u4e2d\u4f7f\u7528Range\u53c2\u6570\uff1b\u5219\u8fd4\u56de\u6d88\u606f\u4e2d\u4f1a\u5305\u542b\u6574\u4e2a\u6587\u4ef6\u7684\u957f\u5ea6\u548c\u6b64\u6b21\u8fd4\u56de\u7684\u8303\u56f4\uff0c\u4f8b\u5982\uff1aContent-Range: bytes 0-9/44\uff0c\u8868\u793a\u6574\u4e2a\u6587\u4ef6\u957f\u5ea6\u4e3a44\uff0c\u6b64\u6b21\u8fd4\u56de\u7684\u8303\u56f4\u4e3a0-9\u3002\u5982\u679c\u4e0d\u7b26\u5408\u8303\u56f4\u89c4\u8303\uff0c\u5219\u8fd4\u56de400\u9519\u8bef\u3002 \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u8fd4\u56de404 Not Found\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchKey\u3002 \u5728\u81ea\u5b9a\u4e49Dstor\u8fd4\u56de\u8bf7\u6c42\u4e2d\u7684\u4e00\u4e9bHeader\u65f6\uff0c\u53ea\u6709\u8bf7\u6c42\u5904\u7406\u6210\u529f\uff08\u5373\u8fd4\u56de\u7801\u4e3a200\u65f6\uff09\uff0cDstor\u624d\u4f1a\u5c06\u8bf7\u6c42\u7684header\u8bbe\u7f6e\u6210\u7528\u6237GET\u8bf7\u6c42\u53c2\u6570\u4e2d\u6307\u5b9a\u7684\u503c\u3002 3.3.4\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 GET /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 06:38:30 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:UNQDb7GapEgJCZkcde6OhZ9Jfe8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 HTTP/1.1 200 OK x-amz-request-id: 3a89276f-2e2d-7965-3ff9-51c875b99c41 Date: Fri, 24 Feb 2017 06:38:30 GMT Last-Modified: Fri, 24 Feb 2012 06:07:48 GMT ETag: 5B3C1A2E053D763E1B002CC607C5A0FE Content-Type: image/jpg Content-Length: 344606 [344606 bytes of object data] Range\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 GET /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 05:38:42 GMT Range : bytes=10-100 Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:qZzjF3DUtd+yK16BdhGtFcCVknM= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 HTTP/1.1 206 Partial Content x-amz-request-id: 28f6508f-15ea-8224-234e-c0ce40734b89 x-amz-object-type: Normal Date: Fri, 24 Feb 2017 05:38:42 GMT ETag: 5B3C1A2E053D763E1B002CC607C5A0FE Accept-Ranges: bytes Content-Range: bytes 10-100/344606 Content-Type: image/jpg Content-Length: 91 [91 bytes of object data] 3.4\u3001DELETE Object DeleteObject\u7528\u4e8e\u5220\u9664\u67d0\u4e2aObject\u3002 3.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 DELETE /BucketName/ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 3.4.2\u3001\u7ec6\u8282\u5206\u6790 DeleteObject\u8981\u6c42\u5bf9\u8be5Object\u8981\u6709\u5199\u6743\u9650\u3002 \u5982\u679c\u8981\u5220\u9664\u7684Object\u4e0d\u5b58\u5728\uff0cDstor\u4e5f\u8fd4\u56de\u72b6\u6001\u7801204\uff08 No Content\uff09\u3002 \u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u3002 3.4.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 07:45:28 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:zUglwRPGkbByZxm1+y4eyu+NIUs= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 NoContent x-amz-request-id: 559CC9BDC755F95A64485981 Date: Fri, 24 Feb 2017 07:45:28 GMT Content-Length: 0 Connection: keep-alive 3.5\u3001Copy Object 4\u3001\u5173\u4e8eMultipart Upload\u7684\u64cd\u4f5c \u9664\u4e86\u901a\u8fc7PUT Object\u63a5\u53e3\u4e0a\u4f20\u6587\u4ef6\u5230Dstor\u4ee5\u5916\uff0cDstor\u8fd8\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u4e0a\u4f20\u6a21\u5f0f\u2014\u2014Multipart Upload\u3002\u7528\u6237\u53ef\u4ee5\u5728\u5982\u4e0b\u7684\u5e94\u7528\u573a\u666f\u5185\uff08\u4f46\u4e0d\u4ec5\u9650\u4e8e\u6b64\uff09\uff0c\u4f7f\u7528Multipart Upload\u4e0a\u4f20\u6a21\u5f0f\uff0c\u5982\uff1a \u9700\u8981\u652f\u6301\u65ad\u70b9\u4e0a\u4f20\u3002 \u4e0a\u4f20\u8d85\u8fc7100MB\u5927\u5c0f\u7684\u6587\u4ef6\u3002 \u7f51\u7edc\u6761\u4ef6\u8f83\u5dee\uff0c\u548cDstor\u7684\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u94fe\u63a5\u7ecf\u5e38\u65ad\u5f00\u3002 \u9700\u8981\u6d41\u5f0f\u5730\u4e0a\u4f20\u6587\u4ef6\u3002 * \u4e0a\u4f20\u6587\u4ef6\u4e4b\u524d\uff0c\u65e0\u6cd5\u786e\u5b9a\u4e0a\u4f20\u6587\u4ef6\u7684\u603b\u5927\u5c0f\u3002 4.1\u3001Initiate Multipart Upload \u4f7f\u7528Multipart Upload\u6a21\u5f0f\u4f20\u8f93\u6570\u636e\u524d\uff0c\u5fc5\u987b\u5148\u8c03\u7528\u8be5\u63a5\u53e3\u6765\u901a\u77e5Dstor\u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u4e00\u4e2aDstor\u670d\u52a1\u5668\u521b\u5efa\u7684\u5168\u5c40\u552f\u4e00\u7684Upload ID\uff0c\u7528\u4e8e\u6807\u8bc6\u672c\u6b21Multipart Upload\u4e8b\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2aID\u6765\u53d1\u8d77\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u5982\u4e2d\u6b62Multipart Upload\u3001\u67e5\u8be2Multipart Upload\u7b49\u3002 4.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 POST /BucketName/ObjectName?uploads HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT date Authorization : AWS AccessKeyId:SignatureValue 4.1.2\u3001\u54cd\u5e94\u5143\u7d20(Response Elements) \u540d\u79f0 \u63cf\u8ff0 Bucket \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u7684Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult InitiateMultipartUploadResult \u4fdd\u5b58Initiate Multipart Upload\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, UploadId \u7236\u8282\u70b9\uff1aNone Key \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u7684Object\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult UploadId \u552f\u4e00\u6807\u793a\u6b64\u6b21Multipart Upload\u4e8b\u4ef6\u7684ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult 4.1.3\u3001\u7ec6\u8282\u5206\u6790 \u8be5\u64cd\u4f5c\u8ba1\u7b97\u8ba4\u8bc1\u7b7e\u540d\u7684\u65f6\u5019\uff0c\u9700\u8981\u52a0\u201c?uploads\u201d\u5230CanonicalizedResource\u4e2d\u3002 \u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\uff0c\u652f\u6301\u5982\u4e0b\u6807\u51c6\u7684HTTP\u8bf7\u6c42\u5934\uff1a Content-Encoding\uff0cContent-Type\uff0cExpires\uff0c\u4ee5\u53ca\u4ee5\u201cx-amz-meta-\u201d\u5f00\u5934\u7684\u7528\u6237\u81ea\u5b9a\u4e49Headers\u3002\u5177\u4f53\u542b\u4e49\u8bf7\u53c2\u89c1PUT Object\u63a5\u53e3\u3002 \u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5df2\u7ecf\u5b58\u5728\u7684\u540c\u540dobject\u3002 \u670d\u52a1\u5668\u6536\u5230\u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\u540e\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2aXML\u683c\u5f0f\u7684\u8bf7\u6c42\u4f53\u3002\u8be5\u8bf7\u6c42\u4f53\u5185\u6709\u4e09\u4e2a\u5143\u7d20\uff1aBucket\uff0cKey\u548cUploadID\u3002\u8bf7\u8bb0\u5f55\u4e0b\u5176\u4e2d\u7684UploadID\uff0c\u4ee5\u7528\u4e8e\u540e\u7eed\u7684Multipart\u76f8\u5173\u64cd\u4f5c\u3002 4.1.4\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 POST /test-bucket/test.data?uploads HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 08:32:21 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:/cluRFtRwMTZpC2hTj4F67AGdM4= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 HTTP/1.1 200 OK Content-Length: 230 Connection: keep-alive x-amz-request-id: 42c25703-7503-fbd8-670a-bda01eaec618 Date: Fri, 24 Feb 2017 08:32:21 GMT Content-Type: application/xml ?xml version= 1.0 encoding= UTF-8 ? InitiateMultipartUploadResult xmlns= \u201chttp://s3.amazonaws.com/doc/2006-03-01/\u201d Bucket test-bucket /Bucket Key test.data /Key UploadId 0004B9894A22E5B1888A1E29F8236E2D /UploadId /InitiateMultipartUploadResult 4.2\u3001Upload Part \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e4b\u540e\uff0c\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684Object\u540d\u548cUpload ID\u6765\u5206\u5757\uff08Part\uff09\u4e0a\u4f20\u6570\u636e\u3002\u6bcf\u4e00\u4e2a\u4e0a\u4f20\u7684Part\u90fd\u6709\u4e00\u4e2a\u6807\u8bc6\u5b83\u7684\u53f7\u7801\uff08part number\uff0c\u8303\u56f4\u662f1~10,000\uff09\u3002\u5bf9\u4e8e\u540c\u4e00\u4e2aUpload ID\uff0c\u8be5\u53f7\u7801\u4e0d\u4f46\u552f\u4e00\u6807\u8bc6\u8fd9\u4e00\u5757\u6570\u636e\uff0c\u4e5f\u6807\u8bc6\u4e86\u8fd9\u5757\u6570\u636e\u5728\u6574\u4e2a\u6587\u4ef6\u5185\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5982\u679c\u4f60\u7528\u540c\u4e00\u4e2apart\u53f7\u7801\uff0c\u4e0a\u4f20\u4e86\u65b0\u7684\u6570\u636e\uff0c\u90a3\u4e48Dstor\u4e0a\u5df2\u6709\u7684\u8fd9\u4e2a\u53f7\u7801\u7684Part\u6570\u636e\u5c06\u88ab\u8986\u76d6\u3002\u9664\u4e86\u6700\u540e\u4e00\u5757Part\u4ee5\u5916\uff0c\u5176\u4ed6\u7684part\u6700\u5c0f\u4e3a100KB\uff1b\u6700\u540e\u4e00\u5757Part\u6ca1\u6709\u5927\u5c0f\u9650\u5236\u3002 4.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 5 PUT /BucketName/ObjectName?partNumber=PartNumber uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Content-Length : Size Authorization : AWS AccessKeyId:SignatureValue 4.2.2\u3001\u7ec6\u8282\u5206\u6790 \u8c03\u7528\u8be5\u63a5\u53e3\u4e0a\u4f20Part\u6570\u636e\u524d\uff0c\u5fc5\u987b\u8c03\u7528Initiate Multipart Upload\u63a5\u53e3\uff0c\u83b7\u53d6\u4e00\u4e2aDstor\u670d\u52a1\u5668\u9881\u53d1\u7684Upload ID\u3002 Multipart Upload\u8981\u6c42\u9664\u6700\u540e\u4e00\u4e2aPart\u4ee5\u5916\uff0c\u5176\u4ed6\u7684Part\u5927\u5c0f\u90fd\u8981\u5927\u4e8e100KB\u3002\u4f46\u662fUpload Part\u63a5\u53e3\u5e76\u4e0d\u4f1a\u7acb\u5373\u6821\u9a8c\u4e0a\u4f20Part\u7684\u5927\u5c0f\uff08\u56e0\u4e3a\u4e0d\u77e5\u9053\u662f\u5426\u4e3a\u6700\u540e\u4e00\u5757\uff09\uff1b\u53ea\u6709\u5f53Complete Multipart Upload\u7684\u65f6\u5019\u624d\u4f1a\u6821\u9a8c\u3002 Dstor\u4f1a\u5c06\u670d\u52a1\u5668\u7aef\u6536\u5230Part\u6570\u636e\u7684MD5\u503c\u653e\u5728ETag\u5934\u5185\u8fd4\u56de\u7ed9\u7528\u6237\u3002 Part\u53f7\u7801\u7684\u8303\u56f4\u662f1~10000\u3002\u5982\u679c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0cDstor\u5c06\u8fd4\u56deInvalidArgument\u7684\u9519\u8bef\u7801\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u5728\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u51fa\u73b0\u9519\u8bef\uff0c\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u65f6\u643a\u5e26Content-MD5\uff0cDstor\u4f1a\u8ba1\u7b97\u4e0a\u4f20\u6570\u636e\u7684MD5\u4e0e\u7528\u6237\u4e0a\u4f20\u7684MD5\u503c\u6bd4\u8f83\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002 4.2.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 5 6 7 PUT /test-bucket/test.data?partNumber=1 uploadId=0004B9895DBBB6EC98E36 HTTP / 1.1 Host : api.dstor.dnion.com Content-Length\uff1a6291456 Date: Fri, 24 Feb 2017 08:32:21 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:J/lICfXEvPmmSW86bBAfMmUmWjI= [6291456 bytes data] \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 5 HTTP/1.1 200 OK Connection: keep-alive ETag: 7265F4D211B56873A381D321F586E4A9 x-amz-request-id: 3e6aba62-1eae-d246-6118-8ff42cd0c21a Date: Fri, 24 Feb 2017 08:32:21 GMT 4.3\u3001Complete Multipart Upload \u5728\u5c06\u6240\u6709\u6570\u636ePart\u90fd\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u5fc5\u987b\u8c03\u7528Complete Multipart Upload API\u6765\u5b8c\u6210\u6574\u4e2a\u6587\u4ef6\u7684Multipart Upload\u3002\u5728\u6267\u884c\u8be5\u64cd\u4f5c\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u63d0\u4f9b\u6240\u6709\u6709\u6548\u7684\u6570\u636ePart\u7684\u5217\u8868\uff08\u5305\u62ecpart\u53f7\u7801\u548cETAG\uff09\uff1bDstor\u6536\u5230\u7528\u6237\u63d0\u4ea4\u7684Part\u5217\u8868\u540e\uff0c\u4f1a\u9010\u4e00\u9a8c\u8bc1\u6bcf\u4e2a\u6570\u636ePart\u7684\u6709\u6548\u6027\u3002\u5f53\u6240\u6709\u7684\u6570\u636ePart\u9a8c\u8bc1\u901a\u8fc7\u540e\uff0cDstor\u5c06\u628a\u8fd9\u4e9b\u6570\u636epart\u7ec4\u5408\u6210\u4e00\u4e2a\u5b8c\u6574\u7684Object\u3002 4.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 5 6 7 8 9 10 11 12 13 POST /BucketName/ObjectName?uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Content-Length : Size Authorization : AWS AccessKeyId:SignatureValue CompleteMultipartUpload Part PartNumber PartNumber /PartNumber ETag ETag /ETag /Part ... /CompleteMultipartUpload 4.3.2\u3001\u8bf7\u6c42\u53c2\u6570(Request Parameters) Complete Multipart Upload\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7encoding-type\u5bf9\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u540d\u79f0 \u63cf\u8ff0 encoding-type \u6307\u5b9a\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\uff0c\u76ee\u524d\u652f\u6301url\u7f16\u7801\u3002Key\u4f7f\u7528UTF-8\u5b57\u7b26\uff0c\u4f46xml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u89e3\u6790\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\uff0c\u6bd4\u5982ascii\u503c\u4ece0\u523010\u7684\u5b57\u7b26\u3002\u5bf9\u4e8eKey\u4e2d\u5305\u542bxml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u7684\u63a7\u5236\u5b57\u7b26\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aencoding-type\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0,\u53ef\u9009\u503c\uff1aurl 4.3.3\u3001\u8bf7\u6c42\u5143\u7d20(Request Elements) \u540d\u79f0 \u63cf\u8ff0 CompleteMultipartUpload \u4fdd\u5b58Complete Multipart Upload\u8bf7\u6c42\u5185\u5bb9\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1a\u4e00\u4e2a\u6216\u591a\u4e2aPart\u5143\u7d20 \u7236\u8282\u70b9\uff1a\u65e0 ETag Part\u6210\u529f\u4e0a\u4f20\u540e\uff0cDstor\u8fd4\u56de\u7684ETag\u503c\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aPart Part \u4fdd\u5b58\u5df2\u7ecf\u4e0a\u4f20Part\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aETag, PartNumber \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult PartNumber Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aPart 4.3.4\u3001\u54cd\u5e94\u5143\u7d20(Response Elements) \u540d\u79f0 \u63cf\u8ff0 Bucket Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult CompleteMultipartUploadResult \u4fdd\u5b58Complete Multipart Upload\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, ETag, Location \u7236\u8282\u70b9\uff1aNone ETag ETag (entity tag) \u5728\u6bcf\u4e2aObject\u751f\u6210\u7684\u65f6\u5019\u88ab\u521b\u5efa\uff0c\u7528\u4e8e\u6807\u793a\u4e00\u4e2aObject\u7684\u5185\u5bb9\u3002Complete Multipart Upload\u8bf7\u6c42\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684UUID\u3002ETag\u503c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5Object\u5185\u5bb9\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002. \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult Location \u65b0\u521b\u5efaObject\u7684URL\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult Key \u65b0\u521b\u5efaObject\u7684\u540d\u5b57\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult EncodingType \u6307\u660e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7f16\u7801\u4f7f\u7528\u7684\u7c7b\u578b\u3002\u5982\u679c\u8bf7\u6c42\u7684\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86encoding-type\uff0c\u90a3\u8fd4\u56de\u7684\u7ed3\u679c\u4f1a\u5bf9Key\u8fdb\u884c\u7f16\u7801\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1a\u5bb9\u5668 4.3.5\u3001\u7ec6\u8282\u5206\u6790 Complete Multipart Upload\u65f6\uff0c\u4f1a\u786e\u8ba4\u9664\u6700\u540e\u4e00\u5757\u4ee5\u5916\u6240\u6709\u5757\u7684\u5927\u5c0f\u90fd\u5927\u4e8e100KB\uff0c\u5e76\u68c0\u67e5\u7528\u6237\u63d0\u4ea4\u7684Partlist\u4e2d\u7684\u6bcf\u4e00\u4e2aPart\u53f7\u7801\u548cEtag\u3002\u6240\u4ee5\u5728\u4e0a\u4f20Part\u65f6\uff0c\u5ba2\u6237\u7aef\u9664\u4e86\u9700\u8981\u8bb0\u5f55Part\u53f7\u7801\u5916\uff0c\u8fd8\u9700\u8981\u8bb0\u5f55\u6bcf\u6b21\u4e0a\u4f20Part\u6210\u529f\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684ETag\u503c\u3002 Dstor\u5904\u7406Complete Multipart Upload\u8bf7\u6c42\u65f6\uff0c\u4f1a\u6301\u7eed\u4e00\u5b9a\u7684\u65f6\u95f4\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u548cDstor\u4e4b\u95f4\u7684\u94fe\u63a5\u65ad\u6389\uff0cDstor\u4ecd\u4f1a\u7ee7\u7eed\u5c06\u8bf7\u6c42\u505a\u5b8c\u3002 \u7528\u6237\u63d0\u4ea4\u7684Part List\u4e2d,Part\u53f7\u7801\u53ef\u4ee5\u662f\u4e0d\u8fde\u7eed\u7684\u3002\u4f8b\u5982\u7b2c\u4e00\u5757\u7684Part\u53f7\u7801\u662f1\uff1b\u7b2c\u4e8c\u5757\u7684Part\u53f7\u7801\u662f5\u3002 Dstor\u5904\u7406Complete Multipart Upload\u8bf7\u6c42\u6210\u529f\u540e\uff0c\u8be5Upload ID\u5c31\u4f1a\u53d8\u6210\u65e0\u6548\u3002 \u540c\u4e00\u4e2aObject\u53ef\u4ee5\u540c\u65f6\u62e5\u6709\u4e0d\u540c\u7684Upload Id\uff0c\u5f53Complete\u4e00\u4e2aUpload ID\u540e\uff0c\u8be5Object\u7684\u5176\u4ed6Upload ID\u4e0d\u53d7\u5f71\u54cd\u3002 \u82e5\u8c03\u7528Initiate Multipart Upload\u63a5\u53e3\u65f6\uff0c\u6307\u5b9a\u4e86x-amz-server-side-encryption\u8bf7\u6c42\u5934\uff0c\u5219\u5728Complete Multipart Upload\u7684\u54cd\u5e94\u5934\u4e2d\uff0c\u4f1a\u8fd4\u56dex-amz-server-side-encryption\uff0c\u5176\u503c\u8868\u660e\u8be5Object\u7684\u670d\u52a1\u5668\u7aef\u52a0\u5bc6\u7b97\u6cd5\u3002 \u5982\u679c\u7528\u6237\u4e0a\u4f20\u4e86Content-MD5\u8bf7\u6c42\u5934\uff0cDstor\u4f1a\u8ba1\u7b97body\u7684Content-MD5\u5e76\u68c0\u67e5\u4e00\u81f4\u6027\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c06\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002 4.3.6\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 POST /test-bucket/multipart.data? uploadId=0004B9B2D2F7815C432C9057C03134D4 HTTP/1.1 Host: api.dstor.dnion.com Content-Length: 1056 Date: Fri, 24 Feb 2017 10:19:18 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:8VwFhFUWmVecK6jQlHlXMK/zMT0= CompleteMultipartUpload Part PartNumber 1 /PartNumber ETag 3349DC700140D7F86A078484278075A9 /ETag /Part Part PartNumber 2 /PartNumber ETag 8EFDA8BE206636A695359836FE0A0E0A /ETag /Part Part PartNumber 3 /PartNumber ETag 8C315065167132444177411FDA149B92 /ETag /Part /CompleteMultipartUpload \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 5 6 7 8 9 10 11 12 13 HTTP/1.1 200 OK Content-Length: 329 Content-Type: Application/xml Connection: keep-alive x-amz-request-id: 594f0751-3b1e-168f-4501-4ac71d217d6e Date: Fri, 24 Feb 2017 10:19:18 GMT ?xml version= 1.0 encoding= UTF-8 ? CompleteMultipartUploadResult xmlns= \u201chttp://s3.amazonaws.com/doc/2006-03-01/\u201d Bucket test-bucket /Bucket Key test.data /Key ETag B864DB6A936D376F9F8D3ED3BBE540DD-3 /ETag /CompleteMultipartUploadResult 4.4\u3001Abort Multipart Upload \u8be5\u63a5\u53e3\u53ef\u4ee5\u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684Upload ID\u4e2d\u6b62\u5176\u5bf9\u5e94\u7684Multipart Upload\u4e8b\u4ef6\u3002\u5f53\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u88ab\u4e2d\u6b62\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u4f7f\u7528\u8fd9\u4e2aUpload ID\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u5df2\u7ecf\u4e0a\u4f20\u7684Part\u6570\u636e\u4e5f\u4f1a\u88ab\u5220\u9664\u3002 4.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 DELETE /BucketName/ObjectName?uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue 4.4.2\u3001\u7ec6\u8282\u5206\u6790 \u4e2d\u6b62\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u65f6\uff0c\u5982\u679c\u5176\u6240\u5c5e\u7684\u67d0\u4e9bPart\u4ecd\u7136\u5728\u4e0a\u4f20\uff0c\u90a3\u4e48\u8fd9\u6b21\u4e2d\u6b62\u64cd\u4f5c\u5c06\u65e0\u6cd5\u5220\u9664\u8fd9\u4e9bPart\u3002\u6240\u4ee5\u5982\u679c\u5b58\u5728\u5e76\u53d1\u8bbf\u95ee\u7684\u60c5\u51b5\uff0c\u4e3a\u4e86\u5f7b\u5e95\u91ca\u653eDstor\u4e0a\u7684\u7a7a\u95f4\uff0c\u9700\u8981\u8c03\u7528\u51e0\u6b21Abort Multipart Upload\u63a5\u53e3\u3002 \u5982\u679c\u8f93\u5165\u7684Upload Id\u4e0d\u5b58\u5728\uff0cDstor\u4f1a\u8fd4\u56de404\u9519\u8bef\uff0c\u9519\u8bef\u7801\u4e3a\uff1aNoSuchUpload\u3002 4.4.3\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 Delete /bucketname/multipart.data? uploadId=0004B9895DBBB6EC98E HTTP/1.1 Host: api.dstor.dnion.com Date: Wed, 22 Feb 2012 08:32:21 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:J/lICfXEvPmmSW86bBAfMmUmWjI= \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 HTTP/1.1 204 Connection: keep-alive x-amz-request-id: 059a22ba-6ba9-daed-5f3a-e48027df344d Date: Wed, 22 Feb 2012 08:32:21 GMT 4.5\u3001List Parts List Parts\u547d\u4ee4\u53ef\u4ee5\u7f57\u5217\u51fa\u6307\u5b9aUpload ID\u6240\u5c5e\u7684\u6240\u6709\u5df2\u7ecf\u4e0a\u4f20\u6210\u529fPart\u3002 4.5.1\u3001\u8bf7\u6c42\u8bed\u6cd5 1 2 3 4 Get /BucketName/ObjectName?uploadId=UploadId HTTP/1.1 Host: api.dstor.dnion.com Date: GMT Date Authorization: AWS AccessKeyId:SignatureValue 4.5.2\u3001\u8bf7\u6c42\u53c2\u6570(Request Parameters) \u540d\u79f0 \u63cf\u8ff0 uploadId Multipart Upload\u4e8b\u4ef6\u7684ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 max-parts \u89c4\u5b9a\u5728Dstor\u54cd\u5e94\u4e2d\u7684\u6700\u5927Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u9ed8\u8ba4\u503c\uff1a1,000 part-number-marker \u6307\u5b9aList\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u53ea\u6709Part Number\u6570\u76ee\u5927\u4e8e\u8be5\u53c2\u6570\u7684Part\u4f1a\u88ab\u5217\u51fa\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u9ed8\u8ba4\u503c\uff1a\u65e0 encoding-type \u6307\u5b9a\u5bf9\u8fd4\u56de\u7684\u5185\u5bb9\u8fdb\u884c\u7f16\u7801\uff0c\u6307\u5b9a\u7f16\u7801\u7684\u7c7b\u578b\u3002Key\u4f7f\u7528UTF-8\u5b57\u7b26\uff0c\u4f46xml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u89e3\u6790\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\uff0c\u6bd4\u5982ascii\u503c\u4ece0\u523010\u7684\u5b57\u7b26\u3002\u5bf9\u4e8eKey\u4e2d\u5305\u542bxml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u7684\u63a7\u5236\u5b57\u7b26\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aencoding-type\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0\uff0c\u53ef\u9009\u503c\uff1aurl 4.5.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements) \u540d\u79f0 \u63cf\u8ff0 ListPartsResult \u4fdd\u5b58List Part\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, UploadId, PartNumberMarker, NextPartNumberMarker, MaxParts, IsTruncated, Part \u7236\u8282\u70b9\uff1a\u65e0 Bucket Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult EncodingType \u6307\u660e\u5bf9\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u7f16\u7801\u4f7f\u7528\u7684\u7c7b\u578b\u3002\u5982\u679c\u8bf7\u6c42\u7684\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86encoding-type\uff0c\u90a3\u4f1a\u5bf9\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult Key Object\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult UploadId Upload\u4e8b\u4ef6ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult PartNumberMarker \u672c\u6b21List\u7ed3\u679c\u7684Part Number\u8d77\u59cb\u4f4d\u7f6e\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult NextPartNumberMarker \u5982\u679c\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff0c\u54cd\u5e94\u8bf7\u6c42\u4e2d\u5c06\u5305\u542bNextPartNumberMarker\u5143\u7d20\uff0c\u7528\u4e8e\u6807\u660e\u63a5\u4e0b\u6765\u8bf7\u6c42\u7684PartNumberMarker\u503c\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult MaxParts \u8fd4\u56de\u8bf7\u6c42\u4e2d\u6700\u5927\u7684Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult IsTruncated \u6807\u660e\u662f\u5426\u672c\u6b21\u8fd4\u56de\u7684List Part\u7ed3\u679c\u5217\u8868\u88ab\u622a\u65ad\u3002\u201ctrue\u201d\u8868\u793a\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff1b\u201cfalse\u201d\u8868\u793a\u672c\u6b21\u5df2\u7ecf\u8fd4\u56de\u4e86\u5168\u90e8\u7ed3\u679c\u3002 \u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32 \u6709\u6548\u503c\uff1atrue\u3001false \u7236\u8282\u70b9\uff1aListPartsResult Part \u4fdd\u5b58Part\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1aPartNumber,LastModified, ETag, Size \u7236\u8282\u70b9\uff1aListPartsResult PartNumber \u6807\u793aPart\u7684\u6570\u5b57\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult.Part LastModified Part\u4e0a\u4f20\u7684\u65f6\u95f4\u3002 \u7c7b\u578b\uff1a\u65e5\u671f \u7236\u8282\u70b9\uff1aListPartsResult.part ETag \u5df2\u4e0a\u4f20Part\u5185\u5bb9\u7684ETag\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult.Part Size \u5df2\u4e0a\u4f20Part\u5927\u5c0f\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult.Part 4.5.4\u3001\u7ec6\u8282\u5206\u6790 List Parts\u652f\u6301max-parts\u548cpart-number-marker\u4e24\u79cd\u8bf7\u6c42\u53c2\u6570\u3002 max-parts\u53c2\u6570\u6700\u5927\u503c\u4e3a1000\uff1b\u9ed8\u8ba4\u503c\u4e5f\u4e3a1000\u3002 \u5728Dstor\u7684\u8fd4\u56de\u7ed3\u679c\u6309\u7167Part\u53f7\u7801\u5347\u5e8f\u6392\u5217\u3002 \u7531\u4e8e\u7f51\u7edc\u4f20\u8f93\u53ef\u80fd\u51fa\u9519\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u7528List Part\u51fa\u6765\u7684\u7ed3\u679c\uff08Part Number\u548cETag\u503c\uff09\u6765\u751f\u6210\u6700\u540eComplete Multipart\u7684Part\u5217\u8868\u3002 4.5.5\u3001\u793a\u4f8b \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 Get /bucketname/multipart.data?uploadId=0004B999EF5A239BB9138C6227D69F95 HTTP/1.1 Host: api.dstor.dnion.com Date: Thu, 23 Feb 2012 07:13:28 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:4qOnUMc9UQWqkz8wDqD3lIsa9P8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 HTTP/1.1 200 Connection: keep-alive Content-length: 1221 Content-type: application/xml x-amz-request-id: 106452c8-10ff-812d-736e-c865294afc1c Date: Thu, 23 Feb 2012 07:13:28 GMT ?xml version= 1.0 encoding= UTF-8 ? ListPartsResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/ Bucket bucketname /Bucket Key multipart.data /Key UploadId 0004B999EF5A239BB9138C6227D69F95 /UploadId NextPartNumberMarker 5 /NextPartNumberMarker MaxParts 1000 /MaxParts IsTruncated false /IsTruncated Part PartNumber 1 /PartNumber LastModified 2012-02-23T07:01:34.000Z /LastModified ETag quot; 3349DC700140D7F86A078484278075A9 quot; /ETag Size 6291456 /Size /Part Part PartNumber 2 /PartNumber LastModified 2012-02-23T07:01:12.000Z /LastModified ETag quot; 3349DC700140D7F86A078484278075A9 quot; /ETag Size 6291456 /Size /Part Part PartNumber 3 /PartNumber LastModified 2012-02-23T07:02:03.000Z /LastModified ETag quot; 7265F4D211B56873A381D321F586E4A9 quot; /ETag Size 1024 /Size /Part /ListPartsResult","title":"Dstor\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u5b9a\u4e49"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#dstor","text":"","title":"Dstor\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u5b9a\u4e49"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#toc","text":"\u4e00\u3001\u652f\u6301\u7684\u64cd\u4f5c\u5217\u8868 \u4e8c\u3001\u516c\u5171\u8bf7\u6c42\u5934\u90e8 \u4e09\u3001\u516c\u5171\u54cd\u5e94\u72b6\u6001\u7801 \u56db\u3001\u63a5\u53e3\u8be6\u7ec6\u8bf4\u660e 1\u3001\u5173\u4e8eService\u7684\u64cd\u4f5c 2\u3001\u5173\u4e8ebucket\u7684\u64cd\u4f5c 2.1\u3001PUT Bucket 2.2\u3001DELETE Bucket 2.3\u3001HEAD Bucket 2.4\u3001GET Bucket(List Object) 2.5\u3001PUT Bucket Lifecycle 2.6\u3001GET Bucket Lifecycle 2.7\u3001DELETE Bucket Lifecycle 3\u3001\u5173\u4e8eobject\u7684\u64cd\u4f5c 3.1\u3001PUT Object 3.2\u3001HEAD Object 3.3\u3001GET Object 3.4\u3001DELETE Object 3.5\u3001COPY Object 4\u3001\u5173\u4e8eMultipart Upload\u7684\u64cd\u4f5c 4.1\u3001Initiate Multipart Upload 4.2\u3001Upload Part 4.3\u3001Complete Multipart Upload 4.4\u3001Abort Multipart Upload 4.5\u3001List Parts","title":"TOC"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#_1","text":"\u63a5\u53e3\u540d\u79f0 \u63a5\u53e3\u8bf4\u660e GET Service\uff08List Bucket\uff09 \u5217\u51fa\u4e00\u4e2a\u7528\u6237\u4e0b\u6240\u6709\u7684bucket PUT Bucket \u521b\u5efabucket\uff0c\u53ea\u80fd\u662f\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\u7ec4\u5408\u7684\u5b57\u7b26\u4e32 DELETE Bucket \u5220\u9664bucket\uff0c\u82e5bucket\u975e\u7a7a\uff0c\u9700\u5148\u5220\u6389\u4e0b\u9762\u6240\u6709\u6587\u4ef6 Head Bucket \u83b7\u53d6bucket\u4fe1\u606f\uff0c\u4e5f\u79f0\u4f5cGET Bucket Info Get Bucket (List Object) \u5217\u51fa\u4e00\u4e2a\u7528\u6237\u4e0b\u7684\u5bf9\u8c61\uff0c\u63a5\u53e3\u4e5f\u79f0\u4f5cGET Bucket PUT Bucket Lifecycle \u8bbe\u7f6e\u6216\u66ff\u6362\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 GET Bucket Lifecycle \u83b7\u53d6\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 DELETE Bucket Lifecycle \u5220\u9664\u4e00\u4e2abucket\u4e0b\u7684\u5bf9\u8c61\u751f\u547d\u5468\u671f\u89c4\u5219 PUT Object \u4e0a\u4f20\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u540d\u5b57\u7b26\u4e32\u652f\u6301utf8\u548cgbk\u7f16\u7801 Head Object \u83b7\u53d6\u5bf9\u8c61\u4fe1\u606f\uff0c\u63a5\u53e3\u4e5f\u79f0\u4f5cGet Object Info GET Object \u83b7\u53d6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u540d\u5b57\u7b26\u4e32\u652f\u6301utf8\u548cgbk\u7f16\u7801 DELETE Object \u5220\u9664\u4e00\u4e2a\u5bf9\u8c61 Copy Object \u62f7\u8d1d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027 Initiate Multipart Upload \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u4e00\u4e2aDstor\u521b\u5efa\u7684\u5168\u5c40\u552f\u4e00\u7684Upload ID Upload Part \u6839\u636e\u6307\u5b9a\u7684Object\u540d\u548cUpload ID\u6765\u5206\u5757\uff08Part\uff09\u4e0a\u4f20\u6570\u636e Complete Multipart Upload \u5728\u5c06\u6240\u6709\u6570\u636ePart\u90fd\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u5fc5\u987b\u8c03\u7528\u6b64\u63a5\u53e3\u6765\u5b8c\u6210\u6574\u4e2a\u6587\u4ef6\u7684Multipart Upload Abort Multipart Upload \u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684Upload ID\u4e2d\u6b62\u5176\u5bf9\u5e94\u7684Multipart Upload\u4e8b\u4ef6 List Parts \u7f57\u5217\u51fa\u6307\u5b9aUpload ID\u6240\u5c5e\u7684\u6240\u6709\u5df2\u7ecf\u4e0a\u4f20\u6210\u529fPart GET_BUCKET_ACL \u8fd9\u4e9b\u63a5\u53e3\u5b9e\u9645\u672a\u5b9e\u73b0\uff0c\u4ec5\u4e3a\u9002\u914ds3\u6d4b\u8bd5\u548c\u5ba2\u6237\u7aef\u8fd4\u56de\u9ed8\u8ba4\u503c GET_BUCKET_OBJECT_VERSIONS GET_BUCKET_LOCATION GET_BUCKET_VERSIONING GET_OBJECT_ACL","title":"\u4e00\u3001\u652f\u6301\u7684\u64cd\u4f5c\u5217\u8868"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#_2","text":"Request Header Description CONTENT_LENGTH Length of the request body. DATE Request time and date (in UTC). HOST The name of the host server. AUTHORIZATION Authorization token.","title":"\u4e8c\u3001\u516c\u5171\u8bf7\u6c42\u5934\u90e8"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#_3","text":"HTTP Status Response Code 100 Continue 200 Success 201 Created 202 Accepted 204 NoContent 206 Partial content 304 NotModified 400 InvalidArgument 400 InvalidDigest 400 BadDigest 400 InvalidBucketName 400 InvalidObjectName 400 UnresolvableGrantByEmailAddress 400 InvalidPart 400 InvalidPartOrder 400 RequestTimeout 400 EntityTooLarge 403 AccessDenied 403 UserSuspended 403 RequestTimeTooSkewed 404 NoSuchKey 404 NoSuchBucket 404 NoSuchUpload 405 MethodNotAllowed 408 RequestTimeout 409 BucketAlreadyExists 409 BucketNotEmpty 411 MissingContentLength 412 PreconditionFailed 416 InvalidRange 422 UnprocessableEntity 500 InternalError","title":"\u4e09\u3001\u516c\u5171\u54cd\u5e94\u72b6\u6001\u7801"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#_4","text":"","title":"\u56db\u3001\u63a5\u53e3\u8be6\u7ec6\u8bf4\u660e"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#1service","text":"","title":"1\u3001\u5173\u4e8eService\u7684\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#11get-service","text":"\u5bf9\u4e8e\u670d\u52a1\u5730\u5740\u4f5cGet\u8bf7\u6c42\u53ef\u4ee5\u8fd4\u56de\u8bf7\u6c42\u8005\u62e5\u6709\u7684Bucket\u5217\u8868\uff0c\u5176\u4e2d\u201c/\u201d\u8868\u793a\u6839\u76ee\u5f55\u3002","title":"1.1\u3001GET Service"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#111","text":"1 2 3 4 GET / HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"1.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#112","text":"\u65e0","title":"1.1.2\u3001\u8bf7\u6c42\u53c2\u6570"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#113response-elements","text":"\u540d\u79f0 \u63cf\u8ff0 ListAllMyBucketsResult \u4fdd\u5b58Get Service\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9: Owner, Buckets \u7236\u8282\u70b9\uff1aNone Owner \u7528\u4e8e\u5b58\u653eBucket\u62e5\u6709\u8005\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult ID Bucket\u62e5\u6709\u8005\u7684\u7528\u6237ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Owner DisplayName Bucket\u62e5\u6709\u8005\u7684\u540d\u79f0 (\u76ee\u524d\u548cID\u4e00\u81f4)\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Owner Buckets \u4fdd\u5b58\u591a\u4e2aBucket\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket \u7236\u8282\u70b9\uff1aListAllMyBucketsResult Bucket \u4fdd\u5b58bucket\u4fe1\u606f\u7684\u5bb9\u5668. \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aName, CreationDate, Location \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets Name Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets.Bucket CreateDate Bucket\u521b\u5efa\u65f6\u95f4 \u7c7b\u578b\uff1a\u65f6\u95f4 (\u683c\u5f0f\uff1ayyyy-mm-ddThh:mm:ss.timezone, e.g., 2011-12-01T12:27:13.000Z) \u7236\u8282\u70b9\uff1aListAllMyBucketsResult.Buckets.Bucket","title":"1.1.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#114","text":"GetService\u8fd9\u4e2aAPI\u53ea\u5bf9\u9a8c\u8bc1\u901a\u8fc7\u7684\u7528\u6237\u6709\u6548\u3002 \u5982\u679c\u8bf7\u6c42\u4e2d\u6ca1\u6709\u7528\u6237\u9a8c\u8bc1\u4fe1\u606f\uff08\u5373\u533f\u540d\u8bbf\u95ee\uff09\uff0c\u8fd4\u56de403 Forbidden\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5f53\u6240\u6709\u7684bucket\u90fd\u8fd4\u56de\u65f6\uff0c\u8fd4\u56de\u7684xml\u4e2d\u4e0d\u5305\u542bPrefix\u3001Marker\u3001MaxKeys\u3001IsTruncated\u3001NextMarker\u8282\u70b9\uff0c\u5982\u679c\u8fd8\u6709\u90e8\u5206\u7ed3\u679c\u672a\u8fd4\u56de\uff0c\u5219\u589e\u52a0\u4e0a\u8ff0\u8282\u70b9\uff0c\u5176\u4e2dNextMarker\u7528\u4e8e\u7ee7\u7eed\u67e5\u8be2\u65f6\u7ed9marker\u8d4b\u503c\u3002","title":"1.1.4\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#115","text":"\u8bf7\u6c42\u793a\u4f8b\u2160 1 2 3 4 GET / HTTP / 1.1 Host : api.dstor.dnion.com Date : Thu, 15 Mar 2017 11:18:32 GMT Authorization : AWS nxj7dtl1c24jwhcyl5hpvnhi:COS3OQkfQPnKmYZTEHYv2qUl5jI= \u8fd4\u56de\u793a\u4f8b\u2160 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 HTTP/1.1 200 OK Date: Thu, 15 Mar 2017 11:18:32 GMT Content-Type: application/xml Content-Length: 556 Connection: keep-alive x-amz-request-id: tx00000000000000000027b-0057835f2e-107c-default ?xml version= 1.0 encoding= UTF-8 ? ListAllMyBucketsResult Owner ID 12345 /ID DisplayName dnionstore /DisplayName /Owner Buckets Bucket CreationDate 2016-12-17T18:12:43.000Z /CreationDate Name test-bucket1 /Name /Bucket Bucket CreationDate 2016-12-25T11:21:04.000Z /CreationDate Name test-bucket2 /Name /Bucket /Buckets /ListAllMyBucketsResult \u8bf7\u6c42\u793a\u4f8b\u2161 1 2 3 4 GET /?prefix=xz02tphky6fjfiuc max-keys=1 HTTP / 1.1 Host : api.dstor.dnion.com Date : Thu, 15 Mar 2017 11:18:32 GMT Authorization : AWS nxj7dtl1c24jwhcyl5hpvnhi:COS3OQkfQPnKmYZTEHYv2qUl5jI= \u8fd4\u56de\u793a\u4f8b\u2161 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 HTTP/1.1 200 OK Date: Thu, 15 Mar 2017 11:18:32 GMT Content-Type: application/xml Content-Length: 545 Connection: keep-alive x-amz-request-id: tx00000000000000000027b-0057835f2e-107d-default ?xml version= 1.0 encoding= UTF-8 ? ListAllMyBucketsResult Prefix xz02tphky6fjfiuc /Prefix Marker /Marker MaxKeys 1 /MaxKeys IsTruncated true /IsTruncated NextMarker xz02tphky6fjfiuc0 /NextMarker Owner ID 12345 /ID DisplayName dnionstore /DisplayName /Owner Buckets Bucket CreationDate 2016-05-15T11:18:32.000Z /CreationDate Name test-bucket1 /Name /Bucket /Buckets /ListAllMyBucketsResult","title":"1.1.5\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#2bucket","text":"","title":"2\u3001\u5173\u4e8ebucket\u7684\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#21put-bucket","text":"PUT Bucket\u7528\u4e8e\u521b\u5efaBucket\uff08\u4e0d\u652f\u6301\u533f\u540d\u8bbf\u95ee\uff09\u3002","title":"2.1\u3001PUT Bucket"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#211","text":"1 2 3 4 PUT /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#212","text":"\u5982\u679c\u8bf7\u6c42\u7684Bucket\u5df2\u7ecf\u5b58\u5728\uff0c\u5e76\u4e14\u8bf7\u6c42\u8005\u662f\u6240\u6709\u8005\uff0c\u8fd4\u56de200 OK\u6210\u529f\u3002 \u5982\u679c\u60f3\u521b\u5efa\u7684Bucket\u4e0d\u7b26\u5408\u547d\u540d\u89c4\u8303\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aInvalidBucketName\u3002 \u5982\u679c\u7528\u6237\u53d1\u8d77PUT Bucket\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u4f20\u5165\u7528\u6237\u9a8c\u8bc1\u4fe1\u606f\uff0c\u8fd4\u56de403 Forbidden\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679cPutBucket\u7684\u65f6\u5019\u53d1\u73b0\u5df2\u7ecf\u8d85\u8fc7bucket\u6700\u5927\u521b\u5efa\u6570\u65f6\uff0c\u9ed8\u8ba41000\u4e2a\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aTooManyBuckets\u3002 \u521b\u5efa\u7684Bucket\uff0c\u53ef\u4ee5\u6307\u5b9aBucket\u7684\u5b58\u50a8\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3aStandard\u3002","title":"2.1.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#213","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 PUT /test-bucket/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 03:15:40 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:77Dvh5wQgIjWjwO/KyRt8dOPfo8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 OK x-amz-request-id: tx00000000000000000027b-0057835f2e-107b-default Date: Fri, 24 Feb 2017 03:15:40 GMT Content-Length: 0 Connection: keep-alive","title":"2.1.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#22delete-bucket","text":"Delete Bucket\u7528\u4e8e\u5220\u9664\u67d0\u4e2aBucket\u3002","title":"2.2\u3001DELETE Bucket"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#221","text":"1 2 3 4 DELETE /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#222","text":"\u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 no content\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u4e3a\u4e86\u9632\u6b62\u8bef\u5220\u9664\u7684\u53d1\u751f\uff0cDstor\u4e0d\u5141\u8bb8\u7528\u6237\u5220\u9664\u4e00\u4e2a\u975e\u7a7a\u7684Bucket\u3002 \u5982\u679c\u8bd5\u56fe\u5220\u9664\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\u7684Bucket\uff0c\u8fd4\u56de409 Conflict\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aBucketNotEmpty\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u5220\u9664\u8fd9\u4e2aBucket\u3002\u5982\u679c\u8bd5\u56fe\u5220\u9664\u4e00\u4e2a\u6ca1\u6709\u5bf9\u5e94\u6743\u9650\u7684Bucket\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002","title":"2.2.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#223","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /test-bucket/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 05:31:04 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:ceOEyZavKY4QcjoUWYSpYbJ3naA= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 No Content x-amz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2017 05:31:04 GMT Connection: keep-alive Content-Length: 0","title":"2.2.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#23head-bucket","text":"HEAD Bucket\u64cd\u4f5c\u7528\u4e8e\u786e\u8ba4bucket\u662f\u5426\u5b58\u5728\u4ee5\u53ca\u5ba2\u6237\u7aef\u662f\u5426\u5177\u6709\u8be5bucket\u7684\u8bbf\u95ee\u6743\u9650\u3002","title":"2.3\u3001HEAD Bucket"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#231","text":"1 2 3 4 HEAD /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#232","text":"\u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u67e5\u770bBucket\u7684\u4fe1\u606f\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u9519\u8bef,\u9519\u8bef\u7801\uff1aAccessDenied\u3002","title":"2.3.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#233","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 HEAD /BucketName/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Sat, 12 Sep 2015 07:51:28 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc: BuG4rRK+zNhH1AcF51NNHD39zXw= \u6210\u529f\u83b7\u53d6Bucket\u4fe1\u606f\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 x-amz-request-id: 534B371674E88A4D8906008B Date: Sat, 12 Sep 2015 07:51:28 GMT Connection: keep-alive Content-Length: 0","title":"2.3.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#24get-bucketlist-object","text":"Get Bucket\u64cd\u4f5c\u53ef\u7528\u6765list Bucket\u4e2d\u6240\u6709Object\u7684\u4fe1\u606f\u3002","title":"2.4\u3001Get Bucket(List Object)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#241","text":"1 2 3 4 GET /bucketname/ HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#242","text":"GetBucket\uff08ListObject\uff09\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7prefix\uff0cmarker\uff0cdelimiter\u548cmax-keys\u5bf9list\u505a\u9650\u5b9a\uff0c\u8fd4\u56de\u90e8\u5206\u7ed3\u679c\u3002 \u540d\u79f0 \u63cf\u8ff0 delimiter \u662f\u4e00\u4e2a\u7528\u4e8e\u5bf9Object\u540d\u5b57\u8fdb\u884c\u5206\u7ec4\u7684\u5b57\u7b26\u3002\u6240\u6709\u540d\u5b57\u5305\u542b\u6307\u5b9a\u7684\u524d\u7f00\u4e14\u7b2c\u4e00\u6b21\u51fa\u73b0delimiter\u5b57\u7b26\u4e4b\u95f4\u7684object\u4f5c\u4e3a\u516c\u5171\u524d\u7f00\u2014CommonPrefixes\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 marker \u8bbe\u5b9a\u7ed3\u679c\u4ecemarker\u4e4b\u540e\u6309\u5b57\u6bcd\u6392\u5e8f\u7684\u7b2c\u4e00\u4e2a\u5f00\u59cb\u8fd4\u56de\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 max-keys \u9650\u5b9a\u6b64\u6b21\u8fd4\u56deobject\u7684\u6700\u5927\u6570\uff0c\u5982\u679c\u4e0d\u8bbe\u5b9a\uff0c\u9ed8\u8ba4\u4e3a100\uff0cmax-keys\u53d6\u503c\u4e0d\u80fd\u5927\u4e8e1000\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a100 prefix \u9650\u5b9a\u8fd4\u56de\u7684object key\u5fc5\u987b\u4ee5prefix\u4f5c\u4e3a\u524d\u7f00\u3002\u6ce8\u610f\u4f7f\u7528prefix\u67e5\u8be2\u65f6\uff0c\u8fd4\u56de\u7684key\u4e2d\u4ecd\u4f1a\u5305\u542bprefix\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0","title":"2.4.2\u3001\u8bf7\u6c42\u53c2\u6570"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#243response-elements","text":"\u540d\u79f0 \u63cf\u8ff0 Contents \u4fdd\u5b58\u6bcf\u4e2a\u8fd4\u56deObject meta\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u7236\u8282\u70b9\uff1aListBucketResult CommonPrefixes \u5982\u679c\u8bf7\u6c42\u4e2d\u6307\u5b9a\u4e86delimiter\u53c2\u6570\uff0c\u5219\u5728Dstor\u8fd4\u56de\u7684\u54cd\u5e94\u4e2d\u5305\u542bCommonPrefixes\u5143\u7d20\u3002\u8be5\u5143\u7d20\u6807\u660e\u90a3\u4e9b\u4ee5delimiter\u7ed3\u5c3e\uff0c\u5e76\u6709\u5171\u540c\u524d\u7f00\u7684object\u540d\u79f0\u7684\u96c6\u5408\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Delimiter \u662f\u4e00\u4e2a\u7528\u4e8e\u5bf9Object\u540d\u5b57\u8fdb\u884c\u5206\u7ec4\u7684\u5b57\u7b26\u3002\u6240\u6709\u540d\u5b57\u5305\u542b\u6307\u5b9a\u7684\u524d\u7f00\u4e14\u7b2c\u4e00\u6b21\u51fa\u73b0delimiter\u5b57\u7b26\u4e4b\u95f4\u7684object\u4f5c\u4e3a\u4e00\u7ec4\u5143\u7d20\u2014\u2014CommonPrefixes\uff0c\u76ee\u524d\u53ea\u652f\u6301\u659c\u6760\u201d/\u201d\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult DisplayName Object \u62e5\u6709\u8005\u7684\u540d\u5b57\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents.Owner ETag ETag (entity tag) \u5728\u6bcf\u4e2aObject\u751f\u6210\u7684\u65f6\u5019\u88ab\u521b\u5efa\uff0c\u7528\u4e8e\u6807\u793a\u4e00\u4e2aObject\u7684\u5185\u5bb9\u3002\u5bf9\u4e8ePut Object\u8bf7\u6c42\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684MD5\u503c\uff1b\u5bf9\u4e8e\u5176\u4ed6\u65b9\u5f0f\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684UUID\u3002ETag\u503c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5Object\u5185\u5bb9\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002\u4e0d\u5efa\u8bae\u7528\u6237\u4f7f\u7528ETag\u6765\u4f5c\u4e3aObject\u5185\u5bb9\u7684MD5\u6821\u9a8c\u6570\u636e\u5b8c\u6574\u6027\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents ID Bucket\u62e5\u6709\u8005\u7684\u7528\u6237ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents.Owner IsTruncated \u6307\u660e\u662f\u5426\u6240\u6709\u7684\u7ed3\u679c\u90fd\u5df2\u7ecf\u8fd4\u56de\uff1b \u201ctrue\u201d\u8868\u793a\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff1b\u201cfalse\u201d\u8868\u793a\u672c\u6b21\u5df2\u7ecf\u8fd4\u56de\u4e86\u5168\u90e8\u7ed3\u679c\u3002 \u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32 \u6709\u6548\u503c\uff1atrue\u3001false \u7236\u8282\u70b9\uff1aListBucketResult Key Object\u7684Key. \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents LastModified Object\u6700\u540e\u88ab\u4fee\u6539\u7684\u65f6\u95f4\u3002 \u7c7b\u578b\uff1a\u65f6\u95f4 \u7236\u8282\u70b9\uff1aListBucketResult.Contents ListBucketResult \u4fdd\u5b58Get Bucket\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668. \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aName, Prefix, Marker, MaxKeys, Delimiter, IsTruncated, Nextmarker, Contents \u7236\u8282\u70b9\uff1aNone Marker \u6807\u660e\u8fd9\u6b21Get Bucket\uff08List Object\uff09\u7684\u8d77\u70b9\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult MaxKeys \u54cd\u5e94\u8bf7\u6c42\u5185\u8fd4\u56de\u7ed3\u679c\u7684\u6700\u5927\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Name Bucket\u540d\u5b57 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Owner \u4fdd\u5b58Bucket\u62e5\u6709\u8005\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aDisplayName, ID \u7236\u8282\u70b9\uff1aListBucketResult Prefix \u672c\u6b21\u67e5\u8be2\u7ed3\u679c\u7684\u5f00\u59cb\u524d\u7f00\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult Size Object\u7684\u5b57\u8282\u6570\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents StorageClass Object\u7684\u5b58\u50a8\u7c7b\u578b\uff0c\u652f\u6301\u201cStandard\u201d\u3001\u201cIA\u201d\u3001\u201cArchive\u201d\u3002\uff08\u76ee\u524d\u53ea\u6709\u90e8\u5206\u533a\u57df\u652f\u6301\u201cArchive\u201d\u7c7b\u578b\uff09 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListBucketResult.Contents","title":"2.4.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#244","text":"\u5982\u679c\u8bbf\u95ee\u7684Bucket\u4e0d\u5b58\u5728\uff0c\u5305\u62ec\u8bd5\u56fe\u8bbf\u95ee\u56e0\u4e3a\u547d\u540d\u4e0d\u89c4\u8303\u65e0\u6cd5\u521b\u5efa\u7684Bucket\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u5982\u679c\u6ca1\u6709\u8bbf\u95ee\u8be5Bucket\u7684\u6743\u9650\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u56e0\u4e3amax-keys\u7684\u8bbe\u5b9a\u65e0\u6cd5\u4e00\u6b21\u5b8c\u6210listing\uff0c\u8fd4\u56de\u7ed3\u679c\u4f1a\u9644\u52a0\u4e00\u4e2a \uff0c\u63d0\u793a\u7ee7\u7eedlisting\u53ef\u4ee5\u4ee5\u6b64\u4e3amarker\u3002NextMarker\u4e2d\u7684\u503c\u4ecd\u5728list\u7ed3\u679c\u4e4b\u4e2d\u3002 \u5728\u505a\u6761\u4ef6\u67e5\u8be2\u65f6\uff0c\u5373\u4f7fmarker\u5b9e\u9645\u5728\u5217\u8868\u4e2d\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u4e5f\u4ece\u7b26\u5408marker\u5b57\u6bcd\u6392\u5e8f\u7684\u4e0b\u4e00\u4e2a\u5f00\u59cb\u6253\u5370\u3002\u5982\u679cmax-keys\u5c0f\u4e8e0\u6216\u8005\u5927\u4e8e1000\uff0c\u5c06\u8fd4\u56de400 Bad Request\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 \u82e5prefix\uff0cmarker\uff0cdelimiter\u53c2\u6570\u4e0d\u7b26\u5408\u957f\u5ea6\u8981\u6c42\uff0c\u8fd4\u56de400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 prefix\uff0cmarker\u7528\u6765\u5b9e\u73b0\u5206\u9875\u663e\u793a\u6548\u679c\uff0c\u53c2\u6570\u7684\u957f\u5ea6\u5fc5\u987b\u5c0f\u4e8e1024\u5b57\u8282\u3002 \u5982\u679c\u628aprefix\u8bbe\u4e3a\u67d0\u4e2a\u6587\u4ef6\u5939\u540d\uff0c\u5c31\u53ef\u4ee5\u7f57\u5217\u4ee5\u6b64prefix\u5f00\u5934\u7684\u6587\u4ef6\uff0c\u5373\u8be5\u6587\u4ef6\u5939\u4e0b\u9012\u5f52\u7684\u6240\u6709\u7684\u6587\u4ef6\u548c\u5b50\u6587\u4ef6\u5939\u3002\u5982\u679c\u518d\u628adelimiter\u8bbe\u7f6e\u4e3a / \u65f6\uff0c\u8fd4\u56de\u503c\u5c31\u53ea\u7f57\u5217\u8be5\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5939\u4e0b\u7684\u5b50\u6587\u4ef6\u540d\u8fd4\u56de\u5728CommonPrefixes\u90e8\u5206\uff0c\u5b50\u6587\u4ef6\u5939\u4e0b\u9012\u5f52\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u4e0d\u88ab\u663e\u793a\u3002\u5982\u4e00\u4e2abucket\u5b58\u5728\u4e09\u4e2aobject :fun/test.jpg\uff0c fun/movie/001.avi\uff0c fun/movie/007.avi\u3002\u82e5\u8bbe\u5b9aprefix\u4e3a\u201dfun/\u201d \uff0c\u5219\u8fd4\u56de\u4e09\u4e2aobject\uff1b\u5982\u679c\u589e\u52a0\u8bbe\u5b9adelimiter\u4e3a\u201c/\u201d\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\u201dfun/test.jpg\u201d\u548c\u524d\u7f00\u201dfun/movie/\u201d\uff1b\u5373\u5b9e\u73b0\u4e86\u6587\u4ef6\u5939\u7684\u903b\u8f91\u3002","title":"2.4.4\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#245","text":"\u5728bucket\u201ctest-bucket\u201d\u5185\u67094\u4e2aobject\uff0c\u540d\u5b57\u5206\u522b\u4e3a\uff1a \u009f test1.jpg \u009f fun/test2.jpg \u009f fun/movie/001.avi \u009f fun/movie/007.avi \u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 GET /bucketname/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 08:43:27 GMT Authorization : AWS 96786O1TF69Z0YB4I7O1:uI0ll22EgdycsVhCbFBxpHdHeOE= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 HTTP/1.1 200 OK x-awz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2012 08:43:27 GMT Content-Type: application/xml Content-Length: 1866 Connection: keep-alive ?xml version= 1.0 encoding= UTF-8 ? ListBucketResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/ Name bucketname /Name Prefix /Prefix Marker /Marker MaxKeys 100 /MaxKeys Delimiter /Delimiter IsTruncated false /IsTruncated Contents Key fun/movie/001.avi /Key LastModified 2012-02-24T08:43:07.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key fun/movie/007.avi /Key LastModified 2012-02-24T08:43:27.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key fun/test2.jpg /Key LastModified 2012-02-24T08:42:32.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents Contents Key test1.jpg /Key LastModified 2012-02-24T06:07:48.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents /ListBucketResult \u8bf7\u6c42\u793a\u4f8b(\u542bprefix\u548cdelimiter\u53c2\u6570)\uff1a 1 2 3 4 GET /bucketname/?prefix=fun/ delimiter=/ HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2012 08:43:27 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:DNrnx7xHk3sgysx7I8U9I9IY1vY= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 HTTP/1.1 200 OK x-awz-request-id: 534B371674E88A4D8906008B Date: Fri, 24 Feb 2012 08:43:27 GMT Content-Type: application/xml Content-Length: 712 Connection: keep-alive ?xml version= 1.0 encoding= UTF-8 ? ListBucketResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/\u201d Name bucketname /Name Prefix fun/ /Prefix Marker /Marker MaxKeys 100 /MaxKeys Delimiter / /Delimiter IsTruncated false /IsTruncated Contents Key fun/test2.jpg /Key LastModified 2012-02-24T08:42:32.000Z /LastModified ETag quot; 5B3C1A2E053D763E1B002CC607C5A0FE quot; /ETag Type Normal /Type Size 344606 /Size StorageClass Standard /StorageClass Owner ID new_user7 /ID DisplayName new_user7 /DisplayName /Owner /Contents CommonPrefixes Prefix fun/movie/ /Prefix /CommonPrefixes /ListBucketResult","title":"2.4.5\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#25put-bucket-lifecycle","text":"Bucket\u7684\u62e5\u6709\u8005\u53ef\u4ee5\u901a\u8fc7Put Bucket Lifecycle\u6765\u8bbe\u7f6eBucket\u7684Lifecycle\u914d\u7f6e\u3002Lifecycle\u5f00\u542f\u540e\uff0cDstor\u5c06\u6309\u7167\u914d\u7f6e\uff0c\u5b9a\u671f\u81ea\u52a8\u5220\u9664\u6216\u8f6c\u50a8\u4e0eLifecycle\u89c4\u5219\u76f8\u5339\u914d\u7684Object\u3002","title":"2.5\u3001Put Bucket Lifecycle"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#251","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 PUT /bucketname/?lifecycle HTTP / 1.1 Date : GMT Date Content-Length\uff1aContentLength Content-Type: application/xml Authorization: AWS AccessKeyId:SignatureValue Host: api.dstor.dnion.com ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID RuleID /ID Prefix Prefix /Prefix Status Status /Status Expiration Days Days /Days /Expiration /Rule /LifecycleConfiguration","title":"2.5.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#252request-elements","text":"\u540d\u79f0 \u63cf\u8ff0 Days \u6307\u5b9a\u89c4\u5219\u5728\u5bf9\u8c61\u6700\u540e\u4fee\u6539\u65f6\u95f4\u8fc7\u540e\u591a\u5c11\u5929\u751f\u6548\u3002 \u7c7b\u578b\uff1a\u6b63\u6574\u6570 \u7236\u8282\u70b9\uff1aExpiration Expiration \u6307\u5b9aObject\u89c4\u5219\u7684\u8fc7\u671f\u5c5e\u6027\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aDays\u6216CreatedBeforeDate \u7236\u8282\u70b9\uff1aRule ID \u89c4\u5219\u552f\u4e00\u7684ID\u3002\u6700\u591a\u7531255\u5b57\u8282\u7ec4\u6210\u3002\u5f53\u7528\u6237\u6ca1\u6709\u6307\u5b9a\uff0c\u6216\u8005\u8be5\u503c\u4e3a\u7a7a\u65f6\uff0cDstor\u4f1a\u4e3a\u7528\u6237\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u503c\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1a\u65e0 \u7236\u8282\u70b9\uff1aRule LifecycleConfiguration Lifecycle\u914d\u7f6e\u7684\u5bb9\u5668\uff0c\u6700\u591a\u53ef\u5bb9\u7eb31000\u6761\u89c4\u5219\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aRule \u7236\u8282\u70b9\uff1a\u65e0 Prefix \u6307\u5b9a\u89c4\u5219\u6240\u9002\u7528\u7684\u524d\u7f00\u3002\u53ea\u6709\u5339\u914d\u524d\u7f00\u7684\u5bf9\u8c61\u624d\u53ef\u80fd\u88ab\u8be5\u89c4\u5219\u6240\u5f71\u54cd\u3002\u4e0d\u53ef\u91cd\u53e0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1a\u65e0 \u7236\u8282\u70b9\uff1aRule Rule \u8868\u8ff0\u4e00\u6761\u89c4\u5219 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aID\uff0cPrefix\uff0cStatus\uff0cExpiration \u7236\u8282\u70b9\uff1aLifecycleConfiguration Status \u5982\u679c\u5176\u503c\u4e3aEnabled\uff0c\u90a3\u4e48Dstor\u4f1a\u5b9a\u671f\u6267\u884c\u8be5\u89c4\u5219\uff1b\u5982\u679c\u662fDisabled\uff0c\u90a3\u4e48Dstor\u4f1a\u5ffd\u7565\u8be5\u89c4\u5219\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aRule \u6709\u6548\u503c\uff1aEnabled\uff0cDisabled","title":"2.5.2\u3001\u8bf7\u6c42\u5143\u7d20(Request Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#253","text":"\u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u53d1\u8d77Put Bucket Lifecycle\u8bf7\u6c42\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u6b64\u524d\u6ca1\u6709\u8bbe\u7f6e\u8fc7Lifecycle\uff0c\u6b64\u64cd\u4f5c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Lifecycle\u914d\u7f6e\uff1b\u5426\u5219\uff0c\u5c31\u8986\u5199\u5148\u524d\u7684\u914d\u7f6e\u3002 \u5bf9Object\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u76ee\u524d\u662f\u4ee5\u6574\u5929\u4e3a\u5355\u4f4d\uff0c\u5e76\u4e14\u7531\u4e8eDstor\u540e\u53f0\u5220\u9664\u8fc7\u671f\u5bf9\u8c61\u7684\u65f6\u95f4\u5e76\u4e0d\u662f\u5b9e\u65f6\u7684\uff0cObject\u5b9e\u9645\u88ab\u5220\u9664\u7684\u65f6\u95f4\u53ef\u80fd\u4f1a\u6bd4\u89c4\u5219\u8bbe\u7f6e\u7684\u65f6\u95f4\u8981\u665a\u4e00\u5929\u3002","title":"2.5.3\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#254","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 PUT /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Content-Length : 443 Date : Thu , 8 Jun 2017 13:08:38 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:PYbzsdWSMrAIWAlMW8luWekJ8= ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID delete objects after one day /ID Prefix logs/ /Prefix Status Enabled /Status Expiration Days 1 /Days /Expiration /Rule Rule ID objects expire after 10 years /ID Prefix data/ /Prefix Status Enabled /Status Expiration Days 3600 /Days /Expiration /Rule /LifecycleConfiguration \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 200 OK x-amz-request-id: 534B371674E88A4D8906008B Date: Thu , 8 Jun 2017 13:08:38 GMT Content-Length: 0 Connection: keep-alive","title":"2.5.4\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#26get-bucket-lifecycle","text":"Get Bucket Lifecycle\u7528\u4e8e\u67e5\u770bBucket\u7684Lifecycle\u914d\u7f6e\u3002","title":"2.6\u3001Get Bucket Lifecycle"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#261","text":"1 2 3 4 GET /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.6.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#262","text":"\u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u67e5\u770bBucket\u7684Lifecycle\u914d\u7f6e\uff0c\u5426\u5219\u8fd4\u56de403 Forbidden\u9519\u8bef,\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679cBucket\u6216Lifecycle\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aNoSuchBucket\u6216NoSuchLifecycle\u3002","title":"2.6.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#263","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 Get /bucketname/?lifecycle HTTP/1.1 Host: api.dstor.dnion.com Date: Mon, 14 Apr 2014 01:17:29 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:ceOEyZavKY4QcjoUWYSpYbJ3naA= \u5df2\u8bbe\u7f6eLifecycle\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 HTTP/1.1 200 x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:29 GMT Connection: keep-alive Content-Length: 255 ?xml version= 1.0 encoding= UTF-8 ? LifecycleConfiguration Rule ID delete after one day /ID Prefix logs/ /Prefix Status Enabled /Status Expiration Days 1 /Days /Expiration /Rule /LifecycleConfiguration \u672a\u8bbe\u7f6eLifecycle\u7684\u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 404 x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:29 GMT Connection: keep-alive Content-Length: 0","title":"2.6.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#27delete-bucket-lifecycle","text":"\u901a\u8fc7Delete Bucket Lifecycle\u6765\u5220\u9664\u6307\u5b9aBucket\u7684\u751f\u547d\u5468\u671f\u914d\u7f6e\u3002","title":"2.7\u3001Delete Bucket Lifecycle"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#271","text":"1 2 3 4 DELETE /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"2.7.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#272","text":"\u672c\u64cd\u4f5c\u4f1a\u5220\u9664\u6307\u5b9aBucket\u7684\u6240\u6709\u7684\u751f\u547d\u5468\u671f\u89c4\u5219\u3002\u6b64\u540e\uff0c\u8be5Bucket\u4e2d\u4e0d\u4f1a\u6709Object\u88ab\u81ea\u52a8\u5220\u9664\u3002 \u53ea\u6709Bucket\u7684\u62e5\u6709\u8005\u624d\u80fd\u5220\u9664Bucket\u7684Lifecycle\u914d\u7f6e\u3002\u5982\u679c\u8bd5\u56fe\u64cd\u4f5c\u4e00\u4e2a\u4e0d\u5c5e\u4e8e\u4f60\u7684Bucket\uff0cDstor\u8fd4\u56de403 Forbidden\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1aAccessDenied\u3002","title":"2.7.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#273","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /bucketname/?lifecycle HTTP / 1.1 Host : api.dstor.dnion.com Date : Mon, 14 Apr 2014 01:17:35 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:6ZVHOehYzxoC1yxRydPQs/CnMZU= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 No Content x-amz-request-id: 534B371674E88A4D8906008B Date: Mon, 14 Apr 2014 01:17:35 GMT Connection: keep-alive Content-Length: 0","title":"2.7.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#3object","text":"","title":"3\u3001\u5173\u4e8eobject\u7684\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#31put-object","text":"PUT Object\u7528\u4e8e\u666e\u901a\u65b9\u5f0f\uff08\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u5206\u7247\u4e0a\u4f20\uff09\u4e0a\u4f20\u6587\u4ef6\u3002","title":"3.1\u3001PUT Object"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#311","text":"1 2 3 4 5 6 PUT /BucketName/ObjectName HTTP / 1.1 Content-Length\uff1aContentLength Content-Type: ContentType Host: api.dstor.dnion.com Date: GMT Date Authorization: AWS AccessKeyId:SignatureValue","title":"3.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#312header","text":"\u540d\u79f0 \u63cf\u8ff0 Content-MD5 \u6839\u636e\u534f\u8baeRFC 1864\u5bf9\u6d88\u606f\u5185\u5bb9\uff08\u4e0d\u5305\u62ec\u5934\u90e8\uff09\u8ba1\u7b97MD5\u503c\u83b7\u5f97128\u6bd4\u7279\u4f4d\u6570\u5b57\uff0c\u5bf9\u8be5\u6570\u5b57\u8fdb\u884cbase64\u7f16\u7801\u4e3a\u4e00\u4e2a\u6d88\u606f\u7684Content-MD5\u503c\u3002\u8be5\u8bf7\u6c42\u5934\u53ef\u7528\u4e8e\u6d88\u606f\u5408\u6cd5\u6027\u7684\u68c0\u67e5\uff08\u6d88\u606f\u5185\u5bb9\u662f\u5426\u4e0e\u53d1\u9001\u65f6\u4e00\u81f4\uff09\u3002\u867d\u7136\u8be5\u8bf7\u6c42\u5934\u662f\u53ef\u9009\u9879\uff0cDstor\u5efa\u8bae\u7528\u6237\u4f7f\u7528\u8be5\u8bf7\u6c42\u5934\u8fdb\u884c\u7aef\u5230\u7aef\u68c0\u67e5\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 \u9650\u5236\uff1a\u65e0 Expires \u8fc7\u671f\u65f6\u95f4\uff1b\u66f4\u8be6\u7ec6\u63cf\u8ff0\u8bf7\u53c2\u7167 RFC2616 \u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 \u6ce8\u610f \uff1aDstor\u4e0d\u4f1a\u5bf9\u8fd9\u4e2a\u503c\u8fdb\u884c\u9650\u5236\u548c\u9a8c\u8bc1","title":"3.1.2\u3001\u8bf7\u6c42Header"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#313","text":"\u5982\u679c\u7528\u6237\u4e0a\u4f20\u4e86Content-MD5\u8bf7\u6c42\u5934\uff0cDstor\u4f1a\u8ba1\u7b97body\u7684Content-MD5\u5e76\u68c0\u67e5\u4e00\u81f4\u6027\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c06\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002 \u5982\u679c\u8bf7\u6c42\u5934\u4e2d\u7684\u201cContent-Length\u201d\u503c\u5c0f\u4e8e\u5b9e\u9645\u8bf7\u6c42\u4f53\uff08body\uff09\u4e2d\u4f20\u8f93\u7684\u6570\u636e\u957f\u5ea6\uff0cDstor\u5c06\u8fd4\u56de\u5931\u8d25\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u7684\u540c\u540d\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\uff0c\u5e76\u4e14\u6709\u8bbf\u95ee\u6743\u9650\u3002\u65b0\u6dfb\u52a0\u7684\u6587\u4ef6\u5c06\u8986\u76d6\u539f\u6765\u7684\u6587\u4ef6\uff0c\u6210\u529f\u8fd4\u56de200 OK\u3002 \u5982\u679c\u5728PUT Object\u7684\u65f6\u5019\uff0c\u643a\u5e26\u4ee5x-amz-meta-\u4e3a\u524d\u7f00\u7684\u53c2\u6570\uff0c\u5219\u89c6\u4e3auser meta\uff0c\u6bd4\u5982x-amz-meta-location\u3002\u4e00\u4e2aObject\u53ef\u4ee5\u6709\u591a\u4e2a\u7c7b\u4f3c\u7684\u53c2\u6570\uff0c\u4f46\u6240\u6709\u7684user meta\u603b\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc78k\u3002 \u5982\u679cHeader\u4e2d\u6ca1\u6709\u52a0\u5165Content length\u53c2\u6570\uff0c\u4f1a\u8fd4\u56de411 Length Required\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aMissingContentLength\u3002 \u5982\u679c\u8bbe\u5b9a\u4e86\u957f\u5ea6\uff0c\u4f46\u662f\u6ca1\u6709\u53d1\u9001\u6d88\u606fBody\uff0c\u6216\u8005\u53d1\u9001\u7684body\u5927\u5c0f\u5c0f\u4e8e\u7ed9\u5b9a\u5927\u5c0f\uff0c\u670d\u52a1\u5668\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230time out\uff0c\u8fd4\u56de400 Bad Request\u6d88\u606f\u3002\u9519\u8bef\u7801\uff1aRequestTimeout\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u6240\u5728\u7684Bucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchBucket\u3002 \u5982\u679c\u8bd5\u56fe\u6dfb\u52a0\u7684Object\u6240\u5728\u7684Bucket\u6ca1\u6709\u8bbf\u95ee\u6743\u9650\uff0c\u8fd4\u56de403 Forbidden\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aAccessDenied\u3002 \u5982\u679c\u6dfb\u52a0\u6587\u4ef6\u957f\u5ea6\u8d85\u8fc75G(\u8d85\u8fc75G\u7684\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528Mutipart Upload\u65b9\u5f0f\u4e0a\u4f20)\uff0c\u8fd4\u56de\u9519\u8bef\u6d88\u606f400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidArgument\u3002 \u5982\u679c\u4f20\u5165\u7684Object key\u957f\u5ea6\u5927\u4e8e1023\u5b57\u8282\uff0c\u8fd4\u56de400 Bad Request\u3002\u9519\u8bef\u7801\uff1aInvalidObjectName\u3002 PUT\u4e00\u4e2aObject\u7684\u65f6\u5019\uff0cDstor\u652f\u63015\u4e2a HTTP RFC2616 \u534f\u8bae\u89c4\u5b9a\u7684Header \u5b57\u6bb5\uff1aCache-Control\u3001Expires\u3001Content-Encoding\u3001Content-Disposition\u3001Content-Type\u3002\u5982\u679c\u4e0a\u4f20Object\u65f6\u8bbe\u7f6e\u4e86\u8fd9\u4e9bHeader\uff0c\u5219\u8fd9\u4e2aObject\u88ab\u4e0b\u8f7d\u65f6\uff0c\u76f8\u5e94\u7684Header\u503c\u4f1a\u88ab\u81ea\u52a8\u8bbe\u7f6e\u6210\u4e0a\u4f20\u65f6\u7684\u503c\u3002","title":"3.1.3\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#314content-md5","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u4ee5\u4e0a\u4f20\u7684\u5185\u5bb9\u4e3a 123456789 \u6765\u8bf4\uff0c\u8ba1\u7b97\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684 Content - MD5 \u6b63\u786e\u7684\u8ba1\u7b97\u65b9\u5f0f\uff1a 1. \u5148\u8ba1\u7b97 MD5 \u52a0\u5bc6\u7684\u4e8c\u8fdb\u5236\u6570\u7ec4\uff08 128 \u4f4d\uff09\u3002 2. \u518d\u5bf9\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u8fdb\u884c base64 \u7f16\u7801\uff08\u800c\u4e0d\u662f\u5bf9 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801\uff09\u3002 \u4ee5 Python \u4e3a\u4f8b\u5b50\uff1a \u6b63\u786e\u8ba1\u7b97\u7684\u4ee3\u7801\u4e3a\uff1a import base64 , hashlib hash = hashlib . md5 () hash . update ( 0123456789 ) base64 . b64encode ( hash . digest ()) eB5eJF1ptWaXm4bijSPyxw== \u9700\u8981\u6ce8\u610f \u6b63\u786e\u7684\u662f\uff1a hash . digest () \uff0c\u8ba1\u7b97\u51fa\u8fdb\u5236\u6570\u7ec4\uff08 128 \u4f4d\uff09 hash . digest () x \\x1e ^$]i \\xb5 f \\x97\\x9b\\x86\\xe2\\x8d # \\xf2\\xc7 \u5e38\u89c1\u9519\u8bef\u662f\u76f4\u63a5\u5bf9\u8ba1\u7b97\u51fa\u7684 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801\u8fdb\u884c base64 \u7f16\u7801\u3002 \u4f8b\u5982\uff0c\u9519\u8bef\u7684\u662f\uff1a hash . hexdigest () \uff0c\u8ba1\u7b97\u5f97\u5230\u53ef\u89c1\u7684 32 \u4f4d\u5b57\u7b26\u4e32\u7f16\u7801 hash . hexdigest () 781e5e245d69b566979b86e28d23f2c7 \u9519\u8bef\u7684 MD5 \u503c\u8fdb\u884c base64 \u7f16\u7801\u540e\u7684\u7ed3\u679c\uff1a base64 . b64encode ( hash . hexdigest ()) NzgxZTVlMjQ1ZDY5YjU2Njk3OWI4NmUyOGQyM2YyYzc=","title":"3.1.4\u3001Content-MD5\u8ba1\u7b97\u89c4\u5219"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#315","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 PUT /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Content-Encoding : utf-8 Date : Fri, 24 Feb 2017 06:03:28 GMT Content-Type : image/jpg Content-Length : 344606 Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:kZoYNv66bsmc10+dcGKw5x2PRrk= [344606 bytes of object data] \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 HTTP/1.1 200 OK Date: Fri, 24 Feb 2017 18:52:34 GMT Content-Length: 0 Connection: keep-alive x-amz-request-id: 5650BD72207FB30443962F9A ETag: A797938C31D59EDD08D86188F6D5B872","title":"3.1.5\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#32head-object","text":"Head Object\u53ea\u8fd4\u56de\u67d0\u4e2aObject\u7684meta\u4fe1\u606f\uff0c\u4e0d\u8fd4\u56de\u6587\u4ef6\u5185\u5bb9\u3002","title":"3.2\u3001HEAD Object"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#321","text":"1 2 3 4 HEAD /ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"3.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#322","text":"\u4e0d\u8bba\u6b63\u5e38\u8fd4\u56de200 OK\u8fd8\u662f\u975e\u6b63\u5e38\u8fd4\u56de\uff0cHead Object\u90fd\u4e0d\u8fd4\u56de\u6d88\u606f\u4f53\u3002 \u5982\u679c\u7528\u6237\u5728PutObject\u7684\u65f6\u5019\u4f20\u5165\u4ee5x-amz-meta-\u4e3a\u5f00\u5934\u7684user meta\uff0c\u6bd4\u5982x-amz-meta-location\uff0c\u8fd4\u56de\u6d88\u606f\u65f6\uff0c\u8fd4\u56de\u8fd9\u4e9buser meta\u3002 \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u8fd4\u56de404 Not Found\u9519\u8bef\u3002 \u54cd\u5e94\u5934\u4e2dContent-Length\u3001ETag\u3001Content-Md5 \u5747\u4e3a\u76ee\u6807\u6587\u4ef6\u7684\u5143\u4fe1\u606f\u3002","title":"3.2.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#323","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 HEAD /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 06:38:30 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:UNQDb7GapEgJCZkcde6OhZ9Jfe8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 HTTP/1.1 200 OK x-amz-request-id: 3a89276f-2e2d-7965-3ff9-51c875b99c41 Date: Fri, 24 Feb 2017 06:38:30 GMT Last-Modified: Fri, 24 Feb 2012 06:07:48 GMT ETag: fba9dede5f27731c9771645a39863328 Content-Length: 344606 Content-Type: image/jpg Connection: keep-alive","title":"3.2.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#33get-object","text":"\u7528\u4e8e\u83b7\u53d6\u67d0\u4e2aObject\uff0c\u6b64\u64cd\u4f5c\u8981\u6c42\u7528\u6237\u5bf9\u8be5Object\u6709\u8bfb\u6743\u9650\u3002","title":"3.3\u3001GET Object"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#331","text":"1 2 3 4 5 GET /BucketName/ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue Range : bytes=ByteRange(\u53ef\u9009)","title":"3.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#332header","text":"\u540d\u79f0 \u63cf\u8ff0 Range \u6307\u5b9a\u6587\u4ef6\u4f20\u8f93\u7684\u8303\u56f4\u3002\u5982\uff0c\u8bbe\u5b9a bytes=0-9\uff0c\u8868\u793a\u4f20\u9001\u7b2c0\u5230\u7b2c9\u8fd910\u4e2a\u5b57\u7b26\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0","title":"3.3.2\u3001\u8bf7\u6c42Header"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#333","text":"GET Object\u901a\u8fc7range\u53c2\u6570\u53ef\u4ee5\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684Object\u5efa\u8bae\u4f7f\u7528\u8be5\u529f\u80fd\u3002 \u5982\u679c\u5728\u8bf7\u6c42\u5934\u4e2d\u4f7f\u7528Range\u53c2\u6570\uff1b\u5219\u8fd4\u56de\u6d88\u606f\u4e2d\u4f1a\u5305\u542b\u6574\u4e2a\u6587\u4ef6\u7684\u957f\u5ea6\u548c\u6b64\u6b21\u8fd4\u56de\u7684\u8303\u56f4\uff0c\u4f8b\u5982\uff1aContent-Range: bytes 0-9/44\uff0c\u8868\u793a\u6574\u4e2a\u6587\u4ef6\u957f\u5ea6\u4e3a44\uff0c\u6b64\u6b21\u8fd4\u56de\u7684\u8303\u56f4\u4e3a0-9\u3002\u5982\u679c\u4e0d\u7b26\u5408\u8303\u56f4\u89c4\u8303\uff0c\u5219\u8fd4\u56de400\u9519\u8bef\u3002 \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u8fd4\u56de404 Not Found\u9519\u8bef\u3002\u9519\u8bef\u7801\uff1aNoSuchKey\u3002 \u5728\u81ea\u5b9a\u4e49Dstor\u8fd4\u56de\u8bf7\u6c42\u4e2d\u7684\u4e00\u4e9bHeader\u65f6\uff0c\u53ea\u6709\u8bf7\u6c42\u5904\u7406\u6210\u529f\uff08\u5373\u8fd4\u56de\u7801\u4e3a200\u65f6\uff09\uff0cDstor\u624d\u4f1a\u5c06\u8bf7\u6c42\u7684header\u8bbe\u7f6e\u6210\u7528\u6237GET\u8bf7\u6c42\u53c2\u6570\u4e2d\u6307\u5b9a\u7684\u503c\u3002","title":"3.3.3\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#334","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 GET /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 06:38:30 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:UNQDb7GapEgJCZkcde6OhZ9Jfe8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 HTTP/1.1 200 OK x-amz-request-id: 3a89276f-2e2d-7965-3ff9-51c875b99c41 Date: Fri, 24 Feb 2017 06:38:30 GMT Last-Modified: Fri, 24 Feb 2012 06:07:48 GMT ETag: 5B3C1A2E053D763E1B002CC607C5A0FE Content-Type: image/jpg Content-Length: 344606 [344606 bytes of object data] Range\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 5 GET /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 05:38:42 GMT Range : bytes=10-100 Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:qZzjF3DUtd+yK16BdhGtFcCVknM= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 HTTP/1.1 206 Partial Content x-amz-request-id: 28f6508f-15ea-8224-234e-c0ce40734b89 x-amz-object-type: Normal Date: Fri, 24 Feb 2017 05:38:42 GMT ETag: 5B3C1A2E053D763E1B002CC607C5A0FE Accept-Ranges: bytes Content-Range: bytes 10-100/344606 Content-Type: image/jpg Content-Length: 91 [91 bytes of object data]","title":"3.3.4\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#34delete-object","text":"DeleteObject\u7528\u4e8e\u5220\u9664\u67d0\u4e2aObject\u3002","title":"3.4\u3001DELETE Object"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#341","text":"1 2 3 4 DELETE /BucketName/ObjectName HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"3.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#342","text":"DeleteObject\u8981\u6c42\u5bf9\u8be5Object\u8981\u6709\u5199\u6743\u9650\u3002 \u5982\u679c\u8981\u5220\u9664\u7684Object\u4e0d\u5b58\u5728\uff0cDstor\u4e5f\u8fd4\u56de\u72b6\u6001\u7801204\uff08 No Content\uff09\u3002 \u5982\u679cBucket\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404 Not Found\u3002","title":"3.4.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#343","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 DELETE /test-bucket/test.jpg HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 07:45:28 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:zUglwRPGkbByZxm1+y4eyu+NIUs= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 HTTP/1.1 204 NoContent x-amz-request-id: 559CC9BDC755F95A64485981 Date: Fri, 24 Feb 2017 07:45:28 GMT Content-Length: 0 Connection: keep-alive","title":"3.4.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#35copy-object","text":"","title":"3.5\u3001Copy Object"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#4multipart-upload","text":"\u9664\u4e86\u901a\u8fc7PUT Object\u63a5\u53e3\u4e0a\u4f20\u6587\u4ef6\u5230Dstor\u4ee5\u5916\uff0cDstor\u8fd8\u63d0\u4f9b\u4e86\u53e6\u5916\u4e00\u79cd\u4e0a\u4f20\u6a21\u5f0f\u2014\u2014Multipart Upload\u3002\u7528\u6237\u53ef\u4ee5\u5728\u5982\u4e0b\u7684\u5e94\u7528\u573a\u666f\u5185\uff08\u4f46\u4e0d\u4ec5\u9650\u4e8e\u6b64\uff09\uff0c\u4f7f\u7528Multipart Upload\u4e0a\u4f20\u6a21\u5f0f\uff0c\u5982\uff1a \u9700\u8981\u652f\u6301\u65ad\u70b9\u4e0a\u4f20\u3002 \u4e0a\u4f20\u8d85\u8fc7100MB\u5927\u5c0f\u7684\u6587\u4ef6\u3002 \u7f51\u7edc\u6761\u4ef6\u8f83\u5dee\uff0c\u548cDstor\u7684\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u94fe\u63a5\u7ecf\u5e38\u65ad\u5f00\u3002 \u9700\u8981\u6d41\u5f0f\u5730\u4e0a\u4f20\u6587\u4ef6\u3002 * \u4e0a\u4f20\u6587\u4ef6\u4e4b\u524d\uff0c\u65e0\u6cd5\u786e\u5b9a\u4e0a\u4f20\u6587\u4ef6\u7684\u603b\u5927\u5c0f\u3002","title":"4\u3001\u5173\u4e8eMultipart Upload\u7684\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#41initiate-multipart-upload","text":"\u4f7f\u7528Multipart Upload\u6a21\u5f0f\u4f20\u8f93\u6570\u636e\u524d\uff0c\u5fc5\u987b\u5148\u8c03\u7528\u8be5\u63a5\u53e3\u6765\u901a\u77e5Dstor\u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u4e00\u4e2aDstor\u670d\u52a1\u5668\u521b\u5efa\u7684\u5168\u5c40\u552f\u4e00\u7684Upload ID\uff0c\u7528\u4e8e\u6807\u8bc6\u672c\u6b21Multipart Upload\u4e8b\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2aID\u6765\u53d1\u8d77\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u5982\u4e2d\u6b62Multipart Upload\u3001\u67e5\u8be2Multipart Upload\u7b49\u3002","title":"4.1\u3001Initiate Multipart Upload"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#411","text":"1 2 3 4 POST /BucketName/ObjectName?uploads HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT date Authorization : AWS AccessKeyId:SignatureValue","title":"4.1.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#412response-elements","text":"\u540d\u79f0 \u63cf\u8ff0 Bucket \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u7684Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult InitiateMultipartUploadResult \u4fdd\u5b58Initiate Multipart Upload\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, UploadId \u7236\u8282\u70b9\uff1aNone Key \u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u7684Object\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult UploadId \u552f\u4e00\u6807\u793a\u6b64\u6b21Multipart Upload\u4e8b\u4ef6\u7684ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult","title":"4.1.2\u3001\u54cd\u5e94\u5143\u7d20(Response Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#413","text":"\u8be5\u64cd\u4f5c\u8ba1\u7b97\u8ba4\u8bc1\u7b7e\u540d\u7684\u65f6\u5019\uff0c\u9700\u8981\u52a0\u201c?uploads\u201d\u5230CanonicalizedResource\u4e2d\u3002 \u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\uff0c\u652f\u6301\u5982\u4e0b\u6807\u51c6\u7684HTTP\u8bf7\u6c42\u5934\uff1a Content-Encoding\uff0cContent-Type\uff0cExpires\uff0c\u4ee5\u53ca\u4ee5\u201cx-amz-meta-\u201d\u5f00\u5934\u7684\u7528\u6237\u81ea\u5b9a\u4e49Headers\u3002\u5177\u4f53\u542b\u4e49\u8bf7\u53c2\u89c1PUT Object\u63a5\u53e3\u3002 \u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5df2\u7ecf\u5b58\u5728\u7684\u540c\u540dobject\u3002 \u670d\u52a1\u5668\u6536\u5230\u521d\u59cb\u5316Multipart Upload\u8bf7\u6c42\u540e\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2aXML\u683c\u5f0f\u7684\u8bf7\u6c42\u4f53\u3002\u8be5\u8bf7\u6c42\u4f53\u5185\u6709\u4e09\u4e2a\u5143\u7d20\uff1aBucket\uff0cKey\u548cUploadID\u3002\u8bf7\u8bb0\u5f55\u4e0b\u5176\u4e2d\u7684UploadID\uff0c\u4ee5\u7528\u4e8e\u540e\u7eed\u7684Multipart\u76f8\u5173\u64cd\u4f5c\u3002","title":"4.1.3\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#414","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 POST /test-bucket/test.data?uploads HTTP / 1.1 Host : api.dstor.dnion.com Date : Fri, 24 Feb 2017 08:32:21 GMT Authorization : AWS qn6qrrqxo2oawuk53otfjbyc:/cluRFtRwMTZpC2hTj4F67AGdM4= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 HTTP/1.1 200 OK Content-Length: 230 Connection: keep-alive x-amz-request-id: 42c25703-7503-fbd8-670a-bda01eaec618 Date: Fri, 24 Feb 2017 08:32:21 GMT Content-Type: application/xml ?xml version= 1.0 encoding= UTF-8 ? InitiateMultipartUploadResult xmlns= \u201chttp://s3.amazonaws.com/doc/2006-03-01/\u201d Bucket test-bucket /Bucket Key test.data /Key UploadId 0004B9894A22E5B1888A1E29F8236E2D /UploadId /InitiateMultipartUploadResult","title":"4.1.4\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#42upload-part","text":"\u521d\u59cb\u5316\u4e00\u4e2aMultipart Upload\u4e4b\u540e\uff0c\u53ef\u4ee5\u6839\u636e\u6307\u5b9a\u7684Object\u540d\u548cUpload ID\u6765\u5206\u5757\uff08Part\uff09\u4e0a\u4f20\u6570\u636e\u3002\u6bcf\u4e00\u4e2a\u4e0a\u4f20\u7684Part\u90fd\u6709\u4e00\u4e2a\u6807\u8bc6\u5b83\u7684\u53f7\u7801\uff08part number\uff0c\u8303\u56f4\u662f1~10,000\uff09\u3002\u5bf9\u4e8e\u540c\u4e00\u4e2aUpload ID\uff0c\u8be5\u53f7\u7801\u4e0d\u4f46\u552f\u4e00\u6807\u8bc6\u8fd9\u4e00\u5757\u6570\u636e\uff0c\u4e5f\u6807\u8bc6\u4e86\u8fd9\u5757\u6570\u636e\u5728\u6574\u4e2a\u6587\u4ef6\u5185\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5982\u679c\u4f60\u7528\u540c\u4e00\u4e2apart\u53f7\u7801\uff0c\u4e0a\u4f20\u4e86\u65b0\u7684\u6570\u636e\uff0c\u90a3\u4e48Dstor\u4e0a\u5df2\u6709\u7684\u8fd9\u4e2a\u53f7\u7801\u7684Part\u6570\u636e\u5c06\u88ab\u8986\u76d6\u3002\u9664\u4e86\u6700\u540e\u4e00\u5757Part\u4ee5\u5916\uff0c\u5176\u4ed6\u7684part\u6700\u5c0f\u4e3a100KB\uff1b\u6700\u540e\u4e00\u5757Part\u6ca1\u6709\u5927\u5c0f\u9650\u5236\u3002","title":"4.2\u3001Upload Part"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#421","text":"1 2 3 4 5 PUT /BucketName/ObjectName?partNumber=PartNumber uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Content-Length : Size Authorization : AWS AccessKeyId:SignatureValue","title":"4.2.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#422","text":"\u8c03\u7528\u8be5\u63a5\u53e3\u4e0a\u4f20Part\u6570\u636e\u524d\uff0c\u5fc5\u987b\u8c03\u7528Initiate Multipart Upload\u63a5\u53e3\uff0c\u83b7\u53d6\u4e00\u4e2aDstor\u670d\u52a1\u5668\u9881\u53d1\u7684Upload ID\u3002 Multipart Upload\u8981\u6c42\u9664\u6700\u540e\u4e00\u4e2aPart\u4ee5\u5916\uff0c\u5176\u4ed6\u7684Part\u5927\u5c0f\u90fd\u8981\u5927\u4e8e100KB\u3002\u4f46\u662fUpload Part\u63a5\u53e3\u5e76\u4e0d\u4f1a\u7acb\u5373\u6821\u9a8c\u4e0a\u4f20Part\u7684\u5927\u5c0f\uff08\u56e0\u4e3a\u4e0d\u77e5\u9053\u662f\u5426\u4e3a\u6700\u540e\u4e00\u5757\uff09\uff1b\u53ea\u6709\u5f53Complete Multipart Upload\u7684\u65f6\u5019\u624d\u4f1a\u6821\u9a8c\u3002 Dstor\u4f1a\u5c06\u670d\u52a1\u5668\u7aef\u6536\u5230Part\u6570\u636e\u7684MD5\u503c\u653e\u5728ETag\u5934\u5185\u8fd4\u56de\u7ed9\u7528\u6237\u3002 Part\u53f7\u7801\u7684\u8303\u56f4\u662f1~10000\u3002\u5982\u679c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0cDstor\u5c06\u8fd4\u56deInvalidArgument\u7684\u9519\u8bef\u7801\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u5728\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u51fa\u73b0\u9519\u8bef\uff0c\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u65f6\u643a\u5e26Content-MD5\uff0cDstor\u4f1a\u8ba1\u7b97\u4e0a\u4f20\u6570\u636e\u7684MD5\u4e0e\u7528\u6237\u4e0a\u4f20\u7684MD5\u503c\u6bd4\u8f83\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002","title":"4.2.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#423","text":"\u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 5 6 7 PUT /test-bucket/test.data?partNumber=1 uploadId=0004B9895DBBB6EC98E36 HTTP / 1.1 Host : api.dstor.dnion.com Content-Length\uff1a6291456 Date: Fri, 24 Feb 2017 08:32:21 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:J/lICfXEvPmmSW86bBAfMmUmWjI= [6291456 bytes data] \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 5 HTTP/1.1 200 OK Connection: keep-alive ETag: 7265F4D211B56873A381D321F586E4A9 x-amz-request-id: 3e6aba62-1eae-d246-6118-8ff42cd0c21a Date: Fri, 24 Feb 2017 08:32:21 GMT","title":"4.2.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#43complete-multipart-upload","text":"\u5728\u5c06\u6240\u6709\u6570\u636ePart\u90fd\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u5fc5\u987b\u8c03\u7528Complete Multipart Upload API\u6765\u5b8c\u6210\u6574\u4e2a\u6587\u4ef6\u7684Multipart Upload\u3002\u5728\u6267\u884c\u8be5\u64cd\u4f5c\u65f6\uff0c\u7528\u6237\u5fc5\u987b\u63d0\u4f9b\u6240\u6709\u6709\u6548\u7684\u6570\u636ePart\u7684\u5217\u8868\uff08\u5305\u62ecpart\u53f7\u7801\u548cETAG\uff09\uff1bDstor\u6536\u5230\u7528\u6237\u63d0\u4ea4\u7684Part\u5217\u8868\u540e\uff0c\u4f1a\u9010\u4e00\u9a8c\u8bc1\u6bcf\u4e2a\u6570\u636ePart\u7684\u6709\u6548\u6027\u3002\u5f53\u6240\u6709\u7684\u6570\u636ePart\u9a8c\u8bc1\u901a\u8fc7\u540e\uff0cDstor\u5c06\u628a\u8fd9\u4e9b\u6570\u636epart\u7ec4\u5408\u6210\u4e00\u4e2a\u5b8c\u6574\u7684Object\u3002","title":"4.3\u3001Complete Multipart Upload"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#431","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 POST /BucketName/ObjectName?uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Content-Length : Size Authorization : AWS AccessKeyId:SignatureValue CompleteMultipartUpload Part PartNumber PartNumber /PartNumber ETag ETag /ETag /Part ... /CompleteMultipartUpload","title":"4.3.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#432request-parameters","text":"Complete Multipart Upload\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7encoding-type\u5bf9\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u540d\u79f0 \u63cf\u8ff0 encoding-type \u6307\u5b9a\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\uff0c\u76ee\u524d\u652f\u6301url\u7f16\u7801\u3002Key\u4f7f\u7528UTF-8\u5b57\u7b26\uff0c\u4f46xml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u89e3\u6790\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\uff0c\u6bd4\u5982ascii\u503c\u4ece0\u523010\u7684\u5b57\u7b26\u3002\u5bf9\u4e8eKey\u4e2d\u5305\u542bxml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u7684\u63a7\u5236\u5b57\u7b26\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aencoding-type\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0,\u53ef\u9009\u503c\uff1aurl","title":"4.3.2\u3001\u8bf7\u6c42\u53c2\u6570(Request Parameters)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#433request-elements","text":"\u540d\u79f0 \u63cf\u8ff0 CompleteMultipartUpload \u4fdd\u5b58Complete Multipart Upload\u8bf7\u6c42\u5185\u5bb9\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1a\u4e00\u4e2a\u6216\u591a\u4e2aPart\u5143\u7d20 \u7236\u8282\u70b9\uff1a\u65e0 ETag Part\u6210\u529f\u4e0a\u4f20\u540e\uff0cDstor\u8fd4\u56de\u7684ETag\u503c\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aPart Part \u4fdd\u5b58\u5df2\u7ecf\u4e0a\u4f20Part\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aETag, PartNumber \u7236\u8282\u70b9\uff1aInitiateMultipartUploadResult PartNumber Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aPart","title":"4.3.3\u3001\u8bf7\u6c42\u5143\u7d20(Request Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#434response-elements","text":"\u540d\u79f0 \u63cf\u8ff0 Bucket Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult CompleteMultipartUploadResult \u4fdd\u5b58Complete Multipart Upload\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, ETag, Location \u7236\u8282\u70b9\uff1aNone ETag ETag (entity tag) \u5728\u6bcf\u4e2aObject\u751f\u6210\u7684\u65f6\u5019\u88ab\u521b\u5efa\uff0c\u7528\u4e8e\u6807\u793a\u4e00\u4e2aObject\u7684\u5185\u5bb9\u3002Complete Multipart Upload\u8bf7\u6c42\u521b\u5efa\u7684Object\uff0cETag\u503c\u662f\u5176\u5185\u5bb9\u7684UUID\u3002ETag\u503c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5Object\u5185\u5bb9\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002. \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult Location \u65b0\u521b\u5efaObject\u7684URL\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult Key \u65b0\u521b\u5efaObject\u7684\u540d\u5b57\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aCompleteMultipartUploadResult EncodingType \u6307\u660e\u8fd4\u56de\u7ed3\u679c\u4e2d\u7f16\u7801\u4f7f\u7528\u7684\u7c7b\u578b\u3002\u5982\u679c\u8bf7\u6c42\u7684\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86encoding-type\uff0c\u90a3\u8fd4\u56de\u7684\u7ed3\u679c\u4f1a\u5bf9Key\u8fdb\u884c\u7f16\u7801\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1a\u5bb9\u5668","title":"4.3.4\u3001\u54cd\u5e94\u5143\u7d20(Response Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#435","text":"Complete Multipart Upload\u65f6\uff0c\u4f1a\u786e\u8ba4\u9664\u6700\u540e\u4e00\u5757\u4ee5\u5916\u6240\u6709\u5757\u7684\u5927\u5c0f\u90fd\u5927\u4e8e100KB\uff0c\u5e76\u68c0\u67e5\u7528\u6237\u63d0\u4ea4\u7684Partlist\u4e2d\u7684\u6bcf\u4e00\u4e2aPart\u53f7\u7801\u548cEtag\u3002\u6240\u4ee5\u5728\u4e0a\u4f20Part\u65f6\uff0c\u5ba2\u6237\u7aef\u9664\u4e86\u9700\u8981\u8bb0\u5f55Part\u53f7\u7801\u5916\uff0c\u8fd8\u9700\u8981\u8bb0\u5f55\u6bcf\u6b21\u4e0a\u4f20Part\u6210\u529f\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684ETag\u503c\u3002 Dstor\u5904\u7406Complete Multipart Upload\u8bf7\u6c42\u65f6\uff0c\u4f1a\u6301\u7eed\u4e00\u5b9a\u7684\u65f6\u95f4\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u548cDstor\u4e4b\u95f4\u7684\u94fe\u63a5\u65ad\u6389\uff0cDstor\u4ecd\u4f1a\u7ee7\u7eed\u5c06\u8bf7\u6c42\u505a\u5b8c\u3002 \u7528\u6237\u63d0\u4ea4\u7684Part List\u4e2d,Part\u53f7\u7801\u53ef\u4ee5\u662f\u4e0d\u8fde\u7eed\u7684\u3002\u4f8b\u5982\u7b2c\u4e00\u5757\u7684Part\u53f7\u7801\u662f1\uff1b\u7b2c\u4e8c\u5757\u7684Part\u53f7\u7801\u662f5\u3002 Dstor\u5904\u7406Complete Multipart Upload\u8bf7\u6c42\u6210\u529f\u540e\uff0c\u8be5Upload ID\u5c31\u4f1a\u53d8\u6210\u65e0\u6548\u3002 \u540c\u4e00\u4e2aObject\u53ef\u4ee5\u540c\u65f6\u62e5\u6709\u4e0d\u540c\u7684Upload Id\uff0c\u5f53Complete\u4e00\u4e2aUpload ID\u540e\uff0c\u8be5Object\u7684\u5176\u4ed6Upload ID\u4e0d\u53d7\u5f71\u54cd\u3002 \u82e5\u8c03\u7528Initiate Multipart Upload\u63a5\u53e3\u65f6\uff0c\u6307\u5b9a\u4e86x-amz-server-side-encryption\u8bf7\u6c42\u5934\uff0c\u5219\u5728Complete Multipart Upload\u7684\u54cd\u5e94\u5934\u4e2d\uff0c\u4f1a\u8fd4\u56dex-amz-server-side-encryption\uff0c\u5176\u503c\u8868\u660e\u8be5Object\u7684\u670d\u52a1\u5668\u7aef\u52a0\u5bc6\u7b97\u6cd5\u3002 \u5982\u679c\u7528\u6237\u4e0a\u4f20\u4e86Content-MD5\u8bf7\u6c42\u5934\uff0cDstor\u4f1a\u8ba1\u7b97body\u7684Content-MD5\u5e76\u68c0\u67e5\u4e00\u81f4\u6027\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c06\u8fd4\u56deInvalidDigest\u9519\u8bef\u7801\u3002","title":"4.3.5\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#436","text":"\u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 POST /test-bucket/multipart.data? uploadId=0004B9B2D2F7815C432C9057C03134D4 HTTP/1.1 Host: api.dstor.dnion.com Content-Length: 1056 Date: Fri, 24 Feb 2017 10:19:18 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:8VwFhFUWmVecK6jQlHlXMK/zMT0= CompleteMultipartUpload Part PartNumber 1 /PartNumber ETag 3349DC700140D7F86A078484278075A9 /ETag /Part Part PartNumber 2 /PartNumber ETag 8EFDA8BE206636A695359836FE0A0E0A /ETag /Part Part PartNumber 3 /PartNumber ETag 8C315065167132444177411FDA149B92 /ETag /Part /CompleteMultipartUpload \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 5 6 7 8 9 10 11 12 13 HTTP/1.1 200 OK Content-Length: 329 Content-Type: Application/xml Connection: keep-alive x-amz-request-id: 594f0751-3b1e-168f-4501-4ac71d217d6e Date: Fri, 24 Feb 2017 10:19:18 GMT ?xml version= 1.0 encoding= UTF-8 ? CompleteMultipartUploadResult xmlns= \u201chttp://s3.amazonaws.com/doc/2006-03-01/\u201d Bucket test-bucket /Bucket Key test.data /Key ETag B864DB6A936D376F9F8D3ED3BBE540DD-3 /ETag /CompleteMultipartUploadResult","title":"4.3.6\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#44abort-multipart-upload","text":"\u8be5\u63a5\u53e3\u53ef\u4ee5\u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684Upload ID\u4e2d\u6b62\u5176\u5bf9\u5e94\u7684Multipart Upload\u4e8b\u4ef6\u3002\u5f53\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u88ab\u4e2d\u6b62\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u4f7f\u7528\u8fd9\u4e2aUpload ID\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u5df2\u7ecf\u4e0a\u4f20\u7684Part\u6570\u636e\u4e5f\u4f1a\u88ab\u5220\u9664\u3002","title":"4.4\u3001Abort Multipart Upload"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#441","text":"1 2 3 4 DELETE /BucketName/ObjectName?uploadId=UploadId HTTP / 1.1 Host : api.dstor.dnion.com Date : GMT Date Authorization : AWS AccessKeyId:SignatureValue","title":"4.4.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#442","text":"\u4e2d\u6b62\u4e00\u4e2aMultipart Upload\u4e8b\u4ef6\u65f6\uff0c\u5982\u679c\u5176\u6240\u5c5e\u7684\u67d0\u4e9bPart\u4ecd\u7136\u5728\u4e0a\u4f20\uff0c\u90a3\u4e48\u8fd9\u6b21\u4e2d\u6b62\u64cd\u4f5c\u5c06\u65e0\u6cd5\u5220\u9664\u8fd9\u4e9bPart\u3002\u6240\u4ee5\u5982\u679c\u5b58\u5728\u5e76\u53d1\u8bbf\u95ee\u7684\u60c5\u51b5\uff0c\u4e3a\u4e86\u5f7b\u5e95\u91ca\u653eDstor\u4e0a\u7684\u7a7a\u95f4\uff0c\u9700\u8981\u8c03\u7528\u51e0\u6b21Abort Multipart Upload\u63a5\u53e3\u3002 \u5982\u679c\u8f93\u5165\u7684Upload Id\u4e0d\u5b58\u5728\uff0cDstor\u4f1a\u8fd4\u56de404\u9519\u8bef\uff0c\u9519\u8bef\u7801\u4e3a\uff1aNoSuchUpload\u3002","title":"4.4.2\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#443","text":"\u8bf7\u6c42\u793a\u4f8b: 1 2 3 4 Delete /bucketname/multipart.data? uploadId=0004B9895DBBB6EC98E HTTP/1.1 Host: api.dstor.dnion.com Date: Wed, 22 Feb 2012 08:32:21 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:J/lICfXEvPmmSW86bBAfMmUmWjI= \u8fd4\u56de\u793a\u4f8b: 1 2 3 4 HTTP/1.1 204 Connection: keep-alive x-amz-request-id: 059a22ba-6ba9-daed-5f3a-e48027df344d Date: Wed, 22 Feb 2012 08:32:21 GMT","title":"4.4.3\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#45list-parts","text":"List Parts\u547d\u4ee4\u53ef\u4ee5\u7f57\u5217\u51fa\u6307\u5b9aUpload ID\u6240\u5c5e\u7684\u6240\u6709\u5df2\u7ecf\u4e0a\u4f20\u6210\u529fPart\u3002","title":"4.5\u3001List Parts"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#451","text":"1 2 3 4 Get /BucketName/ObjectName?uploadId=UploadId HTTP/1.1 Host: api.dstor.dnion.com Date: GMT Date Authorization: AWS AccessKeyId:SignatureValue","title":"4.5.1\u3001\u8bf7\u6c42\u8bed\u6cd5"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#452request-parameters","text":"\u540d\u79f0 \u63cf\u8ff0 uploadId Multipart Upload\u4e8b\u4ef6\u7684ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0 max-parts \u89c4\u5b9a\u5728Dstor\u54cd\u5e94\u4e2d\u7684\u6700\u5927Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u9ed8\u8ba4\u503c\uff1a1,000 part-number-marker \u6307\u5b9aList\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u53ea\u6709Part Number\u6570\u76ee\u5927\u4e8e\u8be5\u53c2\u6570\u7684Part\u4f1a\u88ab\u5217\u51fa\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u9ed8\u8ba4\u503c\uff1a\u65e0 encoding-type \u6307\u5b9a\u5bf9\u8fd4\u56de\u7684\u5185\u5bb9\u8fdb\u884c\u7f16\u7801\uff0c\u6307\u5b9a\u7f16\u7801\u7684\u7c7b\u578b\u3002Key\u4f7f\u7528UTF-8\u5b57\u7b26\uff0c\u4f46xml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u89e3\u6790\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\uff0c\u6bd4\u5982ascii\u503c\u4ece0\u523010\u7684\u5b57\u7b26\u3002\u5bf9\u4e8eKey\u4e2d\u5305\u542bxml 1.0\u6807\u51c6\u4e0d\u652f\u6301\u7684\u63a7\u5236\u5b57\u7b26\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aencoding-type\u5bf9\u8fd4\u56de\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u503c\uff1a\u65e0\uff0c\u53ef\u9009\u503c\uff1aurl","title":"4.5.2\u3001\u8bf7\u6c42\u53c2\u6570(Request Parameters)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#453response-elements","text":"\u540d\u79f0 \u63cf\u8ff0 ListPartsResult \u4fdd\u5b58List Part\u8bf7\u6c42\u7ed3\u679c\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5bb9\u5668 \u5b50\u8282\u70b9\uff1aBucket, Key, UploadId, PartNumberMarker, NextPartNumberMarker, MaxParts, IsTruncated, Part \u7236\u8282\u70b9\uff1a\u65e0 Bucket Bucket\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult EncodingType \u6307\u660e\u5bf9\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u7f16\u7801\u4f7f\u7528\u7684\u7c7b\u578b\u3002\u5982\u679c\u8bf7\u6c42\u7684\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86encoding-type\uff0c\u90a3\u4f1a\u5bf9\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684Key\u8fdb\u884c\u7f16\u7801\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult Key Object\u540d\u79f0\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult UploadId Upload\u4e8b\u4ef6ID\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult PartNumberMarker \u672c\u6b21List\u7ed3\u679c\u7684Part Number\u8d77\u59cb\u4f4d\u7f6e\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult NextPartNumberMarker \u5982\u679c\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff0c\u54cd\u5e94\u8bf7\u6c42\u4e2d\u5c06\u5305\u542bNextPartNumberMarker\u5143\u7d20\uff0c\u7528\u4e8e\u6807\u660e\u63a5\u4e0b\u6765\u8bf7\u6c42\u7684PartNumberMarker\u503c\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult MaxParts \u8fd4\u56de\u8bf7\u6c42\u4e2d\u6700\u5927\u7684Part\u6570\u76ee\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult IsTruncated \u6807\u660e\u662f\u5426\u672c\u6b21\u8fd4\u56de\u7684List Part\u7ed3\u679c\u5217\u8868\u88ab\u622a\u65ad\u3002\u201ctrue\u201d\u8868\u793a\u672c\u6b21\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\uff1b\u201cfalse\u201d\u8868\u793a\u672c\u6b21\u5df2\u7ecf\u8fd4\u56de\u4e86\u5168\u90e8\u7ed3\u679c\u3002 \u7c7b\u578b\uff1a\u679a\u4e3e\u5b57\u7b26\u4e32 \u6709\u6548\u503c\uff1atrue\u3001false \u7236\u8282\u70b9\uff1aListPartsResult Part \u4fdd\u5b58Part\u4fe1\u606f\u7684\u5bb9\u5668\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u5b50\u8282\u70b9\uff1aPartNumber,LastModified, ETag, Size \u7236\u8282\u70b9\uff1aListPartsResult PartNumber \u6807\u793aPart\u7684\u6570\u5b57\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult.Part LastModified Part\u4e0a\u4f20\u7684\u65f6\u95f4\u3002 \u7c7b\u578b\uff1a\u65e5\u671f \u7236\u8282\u70b9\uff1aListPartsResult.part ETag \u5df2\u4e0a\u4f20Part\u5185\u5bb9\u7684ETag\u3002 \u7c7b\u578b\uff1a\u5b57\u7b26\u4e32 \u7236\u8282\u70b9\uff1aListPartsResult.Part Size \u5df2\u4e0a\u4f20Part\u5927\u5c0f\u3002 \u7c7b\u578b\uff1a\u6574\u6570 \u7236\u8282\u70b9\uff1aListPartsResult.Part","title":"4.5.3\u3001\u54cd\u5e94\u5143\u7d20(Response Elements)"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#454","text":"List Parts\u652f\u6301max-parts\u548cpart-number-marker\u4e24\u79cd\u8bf7\u6c42\u53c2\u6570\u3002 max-parts\u53c2\u6570\u6700\u5927\u503c\u4e3a1000\uff1b\u9ed8\u8ba4\u503c\u4e5f\u4e3a1000\u3002 \u5728Dstor\u7684\u8fd4\u56de\u7ed3\u679c\u6309\u7167Part\u53f7\u7801\u5347\u5e8f\u6392\u5217\u3002 \u7531\u4e8e\u7f51\u7edc\u4f20\u8f93\u53ef\u80fd\u51fa\u9519\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u7528List Part\u51fa\u6765\u7684\u7ed3\u679c\uff08Part Number\u548cETag\u503c\uff09\u6765\u751f\u6210\u6700\u540eComplete Multipart\u7684Part\u5217\u8868\u3002","title":"4.5.4\u3001\u7ec6\u8282\u5206\u6790"},{"location":"\u8ba1\u7b97\u673a/dstor\u6570\u636e\u63a5\u53e3\u5b9a\u4e49/#455","text":"\u8bf7\u6c42\u793a\u4f8b\uff1a 1 2 3 4 Get /bucketname/multipart.data?uploadId=0004B999EF5A239BB9138C6227D69F95 HTTP/1.1 Host: api.dstor.dnion.com Date: Thu, 23 Feb 2012 07:13:28 GMT Authorization: AWS qn6qrrqxo2oawuk53otfjbyc:4qOnUMc9UQWqkz8wDqD3lIsa9P8= \u8fd4\u56de\u793a\u4f8b\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 HTTP/1.1 200 Connection: keep-alive Content-length: 1221 Content-type: application/xml x-amz-request-id: 106452c8-10ff-812d-736e-c865294afc1c Date: Thu, 23 Feb 2012 07:13:28 GMT ?xml version= 1.0 encoding= UTF-8 ? ListPartsResult xmlns= http://s3.amazonaws.com/doc/2006-03-01/ Bucket bucketname /Bucket Key multipart.data /Key UploadId 0004B999EF5A239BB9138C6227D69F95 /UploadId NextPartNumberMarker 5 /NextPartNumberMarker MaxParts 1000 /MaxParts IsTruncated false /IsTruncated Part PartNumber 1 /PartNumber LastModified 2012-02-23T07:01:34.000Z /LastModified ETag quot; 3349DC700140D7F86A078484278075A9 quot; /ETag Size 6291456 /Size /Part Part PartNumber 2 /PartNumber LastModified 2012-02-23T07:01:12.000Z /LastModified ETag quot; 3349DC700140D7F86A078484278075A9 quot; /ETag Size 6291456 /Size /Part Part PartNumber 3 /PartNumber LastModified 2012-02-23T07:02:03.000Z /LastModified ETag quot; 7265F4D211B56873A381D321F586E4A9 quot; /ETag Size 1024 /Size /Part /ListPartsResult","title":"4.5.5\u3001\u793a\u4f8b"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/","text":"\u4f7fApacheBench\u652f\u6301multi-url \u7531\u4e8e\u6807\u51c6\u7684ab\u53ea\u652f\u6301\u5bf9\u5355\u4e2auri\u8fdb\u884c\u538b\u6d4b\uff0c\u4e0d\u6ee1\u8db3\u5b9e\u9645\u9700\u8981\uff0c\u6545\u505a\u4ee5\u4e0b\u4fee\u6539\uff0c\u4f7fab\u652f\u6301multi-url\u3002 1\u3001\u4e0b\u8f7dApache httpd\u76f8\u5173\u6e90\u7801\u5305\u4ee5\u53ca\u9488\u5bf9ab\u5de5\u5177\u7684patch\u5305 1 2 3 4 wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-1.6.5.tar.gz wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-util-1.6.1.tar.gz wget https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.4.37.tar.gz wget https://github.com/philipgloyne/apachebench-for-multi-url/archive/master.zip \u6ce8\uff1ahttpd\u4f9d\u8d56\u4e8eapr\u548capr-util 2\u3001\u7f16\u8bd1\u5b89\u88c5apr 1 2 3 4 tar -zxf apr-1.6.5.tar.gz cd apr-1.6.5 ./configure --prefix=/usr/local/apr make make install 3\u3001\u7f16\u8bd1\u5b89\u88c5apr-util 1 2 3 4 tar -zxf apr-util-1.6.1.tar.gz cd apr-util-1.6.1 ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr make make install 4\u3001\u66ff\u6362httpd\u6e90\u7801\u91cc\u9762\u7684ab.c\u6587\u4ef6 1 2 3 unzip master.zip tar -zxf httpd-2.4.37.tar.gz \\cp ./apachebench-for-multi-url-master/ab.c ./httpd-2.4.37/support/ 5\u3001\u7f16\u8bd1\u5b89\u88c5httpd 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 cd httpd-2.4.37 ./configure \\ --with-apr=/usr/local/apr \\ --with-apr-util=/usr/local/apr-util \\ --prefix=/usr/local/apache \\ --sysconfdir=/etc/httpd24 \\ --enable-so \\ --enable-ssl \\ --enable-cgi \\ --enable-rewrite \\ --with-zlib \\ --with-pcre \\ --with-mpm=prefork \\ --enable-modules=most \\ --enable-mpms-shared=all make make install 6\u3001\u9a8c\u8bc1\u7ed3\u679c 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #/usr/local/apache/bin/ab -h Usage: /usr/local/apache/bin/ab [options] [http[s]://]hostname[:port]/path Options are: -n requests Number of requests to perform -c concurrency Number of multiple requests to make -t timelimit Seconds to max. wait for responses -b windowsize Size of TCP send/receive buffer, in bytes -p postfile File containing data to POST. Remember also to set -T -u putfile File containing data to PUT. Remember also to set -T -T content-type Content-type header for POSTing, eg. application/x-www-form-urlencoded Default is text/plain -v verbosity How much troubleshooting info to print -w Print out results in HTML tables -i Use HEAD instead of GET -x attributes String to insert as table attributes -y attributes String to insert as tr attributes -z attributes String to insert as td or th attributes -C attribute Add cookie, eg. Apache=1234. (repeatable) -H attribute Add Arbitrary header line, eg. Accept-Encoding: gzip Inserted after all normal header lines. (repeatable) -A attribute Add Basic WWW Authentication, the attributes are a colon separated username and password. -P attribute Add Basic Proxy Authentication, the attributes are a colon separated username and password. -X proxy:port Proxyserver and port number to use -V Print version number and exit -k Use HTTP KeepAlive feature -d Do not show percentiles served table. -S Do not show confidence estimators and warnings. -g filename Output collected data to gnuplot format file. -e filename Output CSV file with percentages served -r Don t exit on socket receive errors. -h Display usage information (this message) -L Use URL list file name, eg. url.txt -Z ciphersuite Specify SSL/TLS cipher suite (See openssl ciphers) -f protocol Specify SSL/TLS protocol (SSL2, SSL3, TLS1, or ALL) \u53ef\u4ee5\u770b\u5230ab\u5df2\u7ecf\u652f\u6301-L\u53c2\u6570\uff08\u4e0a\u9762\u5e2e\u52a9\u4fe1\u606f\u7684\u5012\u6570\u7b2c3\u884c\uff09\uff0c\u5927\u529f\u544a\u6210\u3002","title":"\u4f7fApacheBench\u652f\u6301multi url"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#apachebenchmulti-url","text":"\u7531\u4e8e\u6807\u51c6\u7684ab\u53ea\u652f\u6301\u5bf9\u5355\u4e2auri\u8fdb\u884c\u538b\u6d4b\uff0c\u4e0d\u6ee1\u8db3\u5b9e\u9645\u9700\u8981\uff0c\u6545\u505a\u4ee5\u4e0b\u4fee\u6539\uff0c\u4f7fab\u652f\u6301multi-url\u3002","title":"\u4f7fApacheBench\u652f\u6301multi-url"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#1apache-httpdabpatch","text":"1 2 3 4 wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-1.6.5.tar.gz wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-util-1.6.1.tar.gz wget https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.4.37.tar.gz wget https://github.com/philipgloyne/apachebench-for-multi-url/archive/master.zip \u6ce8\uff1ahttpd\u4f9d\u8d56\u4e8eapr\u548capr-util","title":"1\u3001\u4e0b\u8f7dApache httpd\u76f8\u5173\u6e90\u7801\u5305\u4ee5\u53ca\u9488\u5bf9ab\u5de5\u5177\u7684patch\u5305"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#2apr","text":"1 2 3 4 tar -zxf apr-1.6.5.tar.gz cd apr-1.6.5 ./configure --prefix=/usr/local/apr make make install","title":"2\u3001\u7f16\u8bd1\u5b89\u88c5apr"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#3apr-util","text":"1 2 3 4 tar -zxf apr-util-1.6.1.tar.gz cd apr-util-1.6.1 ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr make make install","title":"3\u3001\u7f16\u8bd1\u5b89\u88c5apr-util"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#4httpdabc","text":"1 2 3 unzip master.zip tar -zxf httpd-2.4.37.tar.gz \\cp ./apachebench-for-multi-url-master/ab.c ./httpd-2.4.37/support/","title":"4\u3001\u66ff\u6362httpd\u6e90\u7801\u91cc\u9762\u7684ab.c\u6587\u4ef6"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#5httpd","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 cd httpd-2.4.37 ./configure \\ --with-apr=/usr/local/apr \\ --with-apr-util=/usr/local/apr-util \\ --prefix=/usr/local/apache \\ --sysconfdir=/etc/httpd24 \\ --enable-so \\ --enable-ssl \\ --enable-cgi \\ --enable-rewrite \\ --with-zlib \\ --with-pcre \\ --with-mpm=prefork \\ --enable-modules=most \\ --enable-mpms-shared=all make make install","title":"5\u3001\u7f16\u8bd1\u5b89\u88c5httpd"},{"location":"\u8ba1\u7b97\u673a/linux/\u4f7fApacheBench\u652f\u6301multi-url/#6","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #/usr/local/apache/bin/ab -h Usage: /usr/local/apache/bin/ab [options] [http[s]://]hostname[:port]/path Options are: -n requests Number of requests to perform -c concurrency Number of multiple requests to make -t timelimit Seconds to max. wait for responses -b windowsize Size of TCP send/receive buffer, in bytes -p postfile File containing data to POST. Remember also to set -T -u putfile File containing data to PUT. Remember also to set -T -T content-type Content-type header for POSTing, eg. application/x-www-form-urlencoded Default is text/plain -v verbosity How much troubleshooting info to print -w Print out results in HTML tables -i Use HEAD instead of GET -x attributes String to insert as table attributes -y attributes String to insert as tr attributes -z attributes String to insert as td or th attributes -C attribute Add cookie, eg. Apache=1234. (repeatable) -H attribute Add Arbitrary header line, eg. Accept-Encoding: gzip Inserted after all normal header lines. (repeatable) -A attribute Add Basic WWW Authentication, the attributes are a colon separated username and password. -P attribute Add Basic Proxy Authentication, the attributes are a colon separated username and password. -X proxy:port Proxyserver and port number to use -V Print version number and exit -k Use HTTP KeepAlive feature -d Do not show percentiles served table. -S Do not show confidence estimators and warnings. -g filename Output collected data to gnuplot format file. -e filename Output CSV file with percentages served -r Don t exit on socket receive errors. -h Display usage information (this message) -L Use URL list file name, eg. url.txt -Z ciphersuite Specify SSL/TLS cipher suite (See openssl ciphers) -f protocol Specify SSL/TLS protocol (SSL2, SSL3, TLS1, or ALL) \u53ef\u4ee5\u770b\u5230ab\u5df2\u7ecf\u652f\u6301-L\u53c2\u6570\uff08\u4e0a\u9762\u5e2e\u52a9\u4fe1\u606f\u7684\u5012\u6570\u7b2c3\u884c\uff09\uff0c\u5927\u529f\u544a\u6210\u3002","title":"6\u3001\u9a8c\u8bc1\u7ed3\u679c"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/","text":"title:matplotlib\u4e2d\u6587\u4e71\u7801\u95ee\u9898 \u4e00\u3001\u73af\u5883 OS\uff1a macOS High Sierra 10.13.6 python\uff1av2.7.15 matplotlib\uff1av2.2.3 \u4e8c\u3001\u73b0\u8c61 \u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4f7f\u7528matplotlib\u5e93\u751f\u6210\u7684\u56fe\u4e2d\uff0c\u4e2d\u6587\u6587\u5b57\u65e0\u6cd5\u6b63\u5e38\u663e\u793a\uff08\u4e71\u7801\uff09\u3002\u7ecf\u8fc7\u4e00\u756a\u6478\u7d22\uff0c\u89e3\u51b3\u65b9\u6848\u603b\u7ed3\u5982\u4e0b\uff1a \u4e09\u3001\u539f\u56e0 \u4e4b\u6240\u4ee5\u4e2d\u6587\u4f1a\u4e71\u7801\uff0c\u662f\u56e0\u4e3amatplotlib\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u4f53\u5217\u8868\u4e2d\u662f\u6ca1\u6709\u4e2d\u6587\u5b57\u4f53\u7684\uff0c\u4e14matplotlib\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u4f53\u4e0d\u652f\u6301\u4e2d\u6587\u3002 1\u3001matplotlib\u5e93\u4e2d\u5df2\u652f\u6301\u7684\u5b57\u4f53 1 2 3 4 5 6 7 8 9 10 #!/usr/bin/env python # -*- coding: UTF-8 -*- \u5217\u51fa\u6240\u6709\u5df2\u652f\u6301\u7684\u5b57\u4f53\u6587\u4ef6\u540d import matplotlib.font_manager a = sorted ([ f . name for f in matplotlib . font_manager . fontManager . ttflist ]) for i in a : print i \u6267\u884c\u4e0a\u9762\u7684py\u6587\u4ef6\uff0c\u4f1a\u8f93\u51fa\u4ee5\u4e0bmatlibplot\u5df2\u52a0\u8f7d\u5230\u7684\u6240\u6709\u5b57\u4f53\u5217\u8868,\u4ece\u5217\u8868\u4e2d\u53ef\u4ee5\u67e5\u770b\u662f\u5426\u6709\u4e2d\u6587\u5b57\u4f53\u3002 \u5b57\u4f53\u5217\u8868(\u70b9\u51fb\u5c55\u5f00) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 .Keyboard .LastResort .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed Andale Mono Apple Braille Apple Braille Apple Braille Apple Braille Apple Braille Apple Chancery Apple Symbols AppleGothic AppleMyungjo Arial Arial Arial Arial Arial Black Arial Narrow Arial Narrow Arial Narrow Arial Narrow Arial Rounded MT Bold Arial Unicode MS Ayuthaya Big Caslon Bodoni 72 Smallcaps Bodoni Ornaments Bradley Hand Brush Script MT Chalkduster Comic Sans MS Comic Sans MS Courier New Courier New Courier New Courier New DIN Alternate DIN Condensed DejaVu Sans DejaVu Sans DejaVu Sans DejaVu Sans DejaVu Sans Display DejaVu Sans Mono DejaVu Sans Mono DejaVu Sans Mono DejaVu Sans Mono DejaVu Serif DejaVu Serif DejaVu Serif DejaVu Serif DejaVu Serif Display Diwan Thuluth Farisi Georgia Georgia Georgia Georgia Gurmukhi MT Herculanum Hoefler Text Impact Khmer Sangam MN Kokonor Krungthep Lao Sangam MN Luminari Microsoft Sans Serif Mishafi Mishafi Gold Plantagenet Cherokee STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXIntegralsD STIXIntegralsD STIXIntegralsSm STIXIntegralsSm STIXIntegralsUp STIXIntegralsUp STIXIntegralsUpD STIXIntegralsUpD STIXIntegralsUpSm STIXIntegralsUpSm STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXSizeFiveSym STIXSizeFiveSym STIXSizeFourSym STIXSizeFourSym STIXSizeFourSym STIXSizeFourSym STIXSizeOneSym STIXSizeOneSym STIXSizeOneSym STIXSizeOneSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeTwoSym STIXSizeTwoSym STIXSizeTwoSym STIXSizeTwoSym STIXVariants STIXVariants Sathu Silom Skia Source Han Sans CN Symbol System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font Tahoma Tahoma TeamViewer12 Times New Roman Times New Roman Times New Roman Times New Roman Trattatello Trebuchet MS Trebuchet MS Trebuchet MS Trebuchet MS Verdana Verdana Verdana Verdana Webdings Wingdings Wingdings 2 Wingdings 3 Zapf Dingbats Zapfino cmb10 cmex10 cmmi10 cmr10 cmss10 cmsy10 cmtt10 2\u3001\u5b57\u4f53\u540d\u6240\u4ee3\u8868\u7684\u5177\u4f53\u5b57\u4f53 \u6bcf\u4e2a\u82f1\u6587\u540d\u5177\u4f53\u4ee3\u8868\u7684\u662f\u7cfb\u7edf\u4e2d\u7684\u54ea\u4e2a\u5b57\u4f53\uff0c\u53ef\u4ee5\u4ece ~/.matplotlib/fontList.json \u6587\u4ef6\u4e2d\u67e5\u770b\uff0c\u4ee5\u4e0a\u9762\u5217\u8868\u672b\u5c3e\u7684 cmtt10 \u4e3a\u4f8b\uff0c\u53ef\u4ee5\u770b\u5230 cmtt10 \u5bf9\u5e94\u7684\u914d\u7f6e\u4e3a\uff1a 1 2 3 4 5 6 7 8 9 10 { style : normal , name : cmtt10 , weight : 400 , fname : /usr/local/lib/python2.7/site-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf , stretch : normal , _class : FontEntry , variant : normal , size : scalable } , \u663e\u800c\u6613\u89c1\uff0c cmtt10 \u5bf9\u5e94\u7684\u5177\u4f53\u5b57\u4f53\u6587\u4ef6\u4e3a /usr/local/lib/python2.7/site-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf \u56db\u3001\u89e3\u51b3\u65b9\u6cd5(\u4ee5mac\u4e3a\u4f8b) \u901a\u8fc7\u4ee5\u4e0a\u7684\u539f\u56e0\u5206\u6790\uff0c\u6211\u4eec\u8981\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u7684\u95ee\u9898\uff0c\u8981\u505a\u4ee5\u4e0b\u64cd\u4f5c\uff1a 1\u3001\u4f7f\u4e2d\u6587\u5b57\u4f53\u88ab\u52a0\u8f7d\u5230 font_manager.py\u5206\u6790(\u70b9\u51fb\u5c55\u5f00) \u6839\u636e font_manager.py \u4e2d\u7684 get_fontext_synonyms \u51fd\u6570\u7684\u5b9a\u4e49\uff1a 1 2 3 4 5 6 7 8 def get_fontext_synonyms ( fontext ): Return a list of file extensions extensions that are synonyms for the given file extension *fileext*. return { ttf : ( ttf , otf ), otf : ( ttf , otf ), afm : ( afm ,)}[ fontext ] font_manager.py \u4e2d OSXFontDirectories \u5217\u8868\u5b9a\u4e49\u7684\u5b57\u4f53\u76ee\u5f55\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 OSXFontDirectories = [ /Library/Fonts/ , /Network/Library/Fonts/ , /System/Library/Fonts/ , # fonts installed via MacPorts /opt/local/share/fonts \u56e0\u6b64\uff0cmatplotlib\u53ea\u4f1a\u53bb /Library/Fonts/ \u3001 Network/Library/Fonts/ \u3001 /System/Library/Fonts/ \u3001 /opt/local/share/fonts \u3001 $PYTHON_PATH/site-packages/matplotlib/mpl-data/fonts/ttf \u3001 $PYTHON_PATH/site-packages/matplotlib/mpl-data/fonts/afm \u8fd9\u4e9b\u76ee\u5f55\u4e0b\u9762\u52a0\u8f7d .ttf \u3001 .otf \u548c .afm \u4e09\u79cd\u540e\u7f00\u7684\u5b57\u4f53\u6587\u4ef6 1.1\u3001\u4e0b\u8f7d\u4e2d\u6587\u5b57\u4f53 \u4e0b\u8f7d .ttf \u683c\u5f0f\u7684\u4e2d\u6587\u5b57\u4f53\u5230 /Library/Fonts/ \u76ee\u5f55\u4e2d,\u5177\u4f53\u65b9\u6cd5\u8bf7\u81ea\u884c\u767e\u5ea6\u3002 1.2\u3001\u91cd\u65b0\u52a0\u8f7d\u5b57\u4f53 1 2 3 #!/usr/bin/env python import matplotlib.font_manager as fm fm . _rebuild () \u518d\u6b21\u67e5\u770b\u5df2\u52a0\u8f7d\u5230\u7684\u5b57\u4f53\u5217\u8868 \uff0c\u9a8c\u8bc1\u65b0\u4e0b\u8f7d\u7684\u5b57\u4f53\u662f\u5426\u5df2\u7ecf\u88ab\u52a0\u8f7d\u5230 2\u3001\u8bbe\u7f6e\u5b57\u4f53 2.1\u3001plt.rcParams\u8bbe\u7f6e\u9ed8\u8ba4\u5b57\u4f53 \u5728 .py \u6587\u4ef6\u4e2d\u901a\u8fc7 plt.rcParams \u8bbe\u7f6ematplotlib\u5e93\u4f7f\u7528\u7684\u9ed8\u8ba4\u5b57\u4f53 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/usr/bin/env python # -*- coding: UTF-8 -*- import sys reload ( sys ) sys . setdefaultencoding ( utf-8 ) import matplotlib.pyplot as plt plt . rcParams [ font.family ] = [ Source Han Sans CN ] plt . plot ([ 1 , 2 , 3 ],[ 4 , 5 , 6 ], label = \u793a\u4f8b ) plt . grid ( True ) plt . xlabel ( u \u65f6\u95f4 ) plt . ylabel ( u \u5361\u987f\u7387 ) plt . title ( u \u4e50\u89c6\u5361\u987f\u7387 ) plt . legend () plt . show () 2.2\u3001font_manager\u8bbe\u7f6e\u5c40\u90e8\u5b57\u4f53 \u6b64\u65b9\u6cd5\u53ef\u4ee5\u7701\u7565\u4e0a\u9762\u7684 fm._rebuild() \uff0c\u4f46\u6b64\u65b9\u6cd5\u6709\u4e2a\u7f3a\u9677\u5c31\u662f\u4e0d\u80fd\u5728 plt.plot \u4e2d\u6dfb\u52a0 fontpropertie \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #!/usr/bin/env python # -*- coding: UTF-8 -*- import sys reload ( sys ) sys . setdefaultencoding ( utf-8 ) import matplotlib.pyplot as plt import matplotlib.font_manager as fm fontpath = /Library/Fonts/Songti.ttc myfont = fm . FontProperties ( fname = fontpath ) plt . plot ([ 1 , 2 , 3 ],[ 4 , 5 , 6 ]) plt . grid ( True ) plt . xlabel ( u \u65f6\u95f4 , fontproperties = myfont ) plt . ylabel ( u \u5361\u987f\u7387 , fontproperties = myfont ) plt . title ( u \u4e50\u89c6\u5361\u987f\u7387 ) plt . legend () plt . show () 3\u3001\u67e5\u770b\u6548\u679c \u53ef\u4ee5\u770b\u5230\uff0c\u4e2d\u6587\u5b57\u4f53\u5df2\u7ecf\u88ab\u6b63\u786e\u663e\u793a\u51fa\u6765\u3002","title":"Matplotlib\u4e2d\u6587"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#_1","text":"OS\uff1a macOS High Sierra 10.13.6 python\uff1av2.7.15 matplotlib\uff1av2.2.3","title":"\u4e00\u3001\u73af\u5883"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#_2","text":"\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4f7f\u7528matplotlib\u5e93\u751f\u6210\u7684\u56fe\u4e2d\uff0c\u4e2d\u6587\u6587\u5b57\u65e0\u6cd5\u6b63\u5e38\u663e\u793a\uff08\u4e71\u7801\uff09\u3002\u7ecf\u8fc7\u4e00\u756a\u6478\u7d22\uff0c\u89e3\u51b3\u65b9\u6848\u603b\u7ed3\u5982\u4e0b\uff1a","title":"\u4e8c\u3001\u73b0\u8c61"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#_3","text":"\u4e4b\u6240\u4ee5\u4e2d\u6587\u4f1a\u4e71\u7801\uff0c\u662f\u56e0\u4e3amatplotlib\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u4f53\u5217\u8868\u4e2d\u662f\u6ca1\u6709\u4e2d\u6587\u5b57\u4f53\u7684\uff0c\u4e14matplotlib\u9ed8\u8ba4\u4f7f\u7528\u7684\u5b57\u4f53\u4e0d\u652f\u6301\u4e2d\u6587\u3002","title":"\u4e09\u3001\u539f\u56e0"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#1matplotlib","text":"1 2 3 4 5 6 7 8 9 10 #!/usr/bin/env python # -*- coding: UTF-8 -*- \u5217\u51fa\u6240\u6709\u5df2\u652f\u6301\u7684\u5b57\u4f53\u6587\u4ef6\u540d import matplotlib.font_manager a = sorted ([ f . name for f in matplotlib . font_manager . fontManager . ttflist ]) for i in a : print i \u6267\u884c\u4e0a\u9762\u7684py\u6587\u4ef6\uff0c\u4f1a\u8f93\u51fa\u4ee5\u4e0bmatlibplot\u5df2\u52a0\u8f7d\u5230\u7684\u6240\u6709\u5b57\u4f53\u5217\u8868,\u4ece\u5217\u8868\u4e2d\u53ef\u4ee5\u67e5\u770b\u662f\u5426\u6709\u4e2d\u6587\u5b57\u4f53\u3002 \u5b57\u4f53\u5217\u8868(\u70b9\u51fb\u5c55\u5f00) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 .Keyboard .LastResort .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Display .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Rounded .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF Compact Text .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Display Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed .SF NS Text Condensed Andale Mono Apple Braille Apple Braille Apple Braille Apple Braille Apple Braille Apple Chancery Apple Symbols AppleGothic AppleMyungjo Arial Arial Arial Arial Arial Black Arial Narrow Arial Narrow Arial Narrow Arial Narrow Arial Rounded MT Bold Arial Unicode MS Ayuthaya Big Caslon Bodoni 72 Smallcaps Bodoni Ornaments Bradley Hand Brush Script MT Chalkduster Comic Sans MS Comic Sans MS Courier New Courier New Courier New Courier New DIN Alternate DIN Condensed DejaVu Sans DejaVu Sans DejaVu Sans DejaVu Sans DejaVu Sans Display DejaVu Sans Mono DejaVu Sans Mono DejaVu Sans Mono DejaVu Sans Mono DejaVu Serif DejaVu Serif DejaVu Serif DejaVu Serif DejaVu Serif Display Diwan Thuluth Farisi Georgia Georgia Georgia Georgia Gurmukhi MT Herculanum Hoefler Text Impact Khmer Sangam MN Kokonor Krungthep Lao Sangam MN Luminari Microsoft Sans Serif Mishafi Mishafi Gold Plantagenet Cherokee STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXGeneral STIXIntegralsD STIXIntegralsD STIXIntegralsSm STIXIntegralsSm STIXIntegralsUp STIXIntegralsUp STIXIntegralsUpD STIXIntegralsUpD STIXIntegralsUpSm STIXIntegralsUpSm STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXNonUnicode STIXSizeFiveSym STIXSizeFiveSym STIXSizeFourSym STIXSizeFourSym STIXSizeFourSym STIXSizeFourSym STIXSizeOneSym STIXSizeOneSym STIXSizeOneSym STIXSizeOneSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeThreeSym STIXSizeTwoSym STIXSizeTwoSym STIXSizeTwoSym STIXSizeTwoSym STIXVariants STIXVariants Sathu Silom Skia Source Han Sans CN Symbol System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font System Font Tahoma Tahoma TeamViewer12 Times New Roman Times New Roman Times New Roman Times New Roman Trattatello Trebuchet MS Trebuchet MS Trebuchet MS Trebuchet MS Verdana Verdana Verdana Verdana Webdings Wingdings Wingdings 2 Wingdings 3 Zapf Dingbats Zapfino cmb10 cmex10 cmmi10 cmr10 cmss10 cmsy10 cmtt10","title":"1\u3001matplotlib\u5e93\u4e2d\u5df2\u652f\u6301\u7684\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#2","text":"\u6bcf\u4e2a\u82f1\u6587\u540d\u5177\u4f53\u4ee3\u8868\u7684\u662f\u7cfb\u7edf\u4e2d\u7684\u54ea\u4e2a\u5b57\u4f53\uff0c\u53ef\u4ee5\u4ece ~/.matplotlib/fontList.json \u6587\u4ef6\u4e2d\u67e5\u770b\uff0c\u4ee5\u4e0a\u9762\u5217\u8868\u672b\u5c3e\u7684 cmtt10 \u4e3a\u4f8b\uff0c\u53ef\u4ee5\u770b\u5230 cmtt10 \u5bf9\u5e94\u7684\u914d\u7f6e\u4e3a\uff1a 1 2 3 4 5 6 7 8 9 10 { style : normal , name : cmtt10 , weight : 400 , fname : /usr/local/lib/python2.7/site-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf , stretch : normal , _class : FontEntry , variant : normal , size : scalable } , \u663e\u800c\u6613\u89c1\uff0c cmtt10 \u5bf9\u5e94\u7684\u5177\u4f53\u5b57\u4f53\u6587\u4ef6\u4e3a /usr/local/lib/python2.7/site-packages/matplotlib/mpl-data/fonts/ttf/cmtt10.ttf","title":"2\u3001\u5b57\u4f53\u540d\u6240\u4ee3\u8868\u7684\u5177\u4f53\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#mac","text":"\u901a\u8fc7\u4ee5\u4e0a\u7684\u539f\u56e0\u5206\u6790\uff0c\u6211\u4eec\u8981\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u7684\u95ee\u9898\uff0c\u8981\u505a\u4ee5\u4e0b\u64cd\u4f5c\uff1a","title":"\u56db\u3001\u89e3\u51b3\u65b9\u6cd5(\u4ee5mac\u4e3a\u4f8b)"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#1","text":"font_manager.py\u5206\u6790(\u70b9\u51fb\u5c55\u5f00) \u6839\u636e font_manager.py \u4e2d\u7684 get_fontext_synonyms \u51fd\u6570\u7684\u5b9a\u4e49\uff1a 1 2 3 4 5 6 7 8 def get_fontext_synonyms ( fontext ): Return a list of file extensions extensions that are synonyms for the given file extension *fileext*. return { ttf : ( ttf , otf ), otf : ( ttf , otf ), afm : ( afm ,)}[ fontext ] font_manager.py \u4e2d OSXFontDirectories \u5217\u8868\u5b9a\u4e49\u7684\u5b57\u4f53\u76ee\u5f55\u5982\u4e0b\uff1a 1 2 3 4 5 6 7 OSXFontDirectories = [ /Library/Fonts/ , /Network/Library/Fonts/ , /System/Library/Fonts/ , # fonts installed via MacPorts /opt/local/share/fonts \u56e0\u6b64\uff0cmatplotlib\u53ea\u4f1a\u53bb /Library/Fonts/ \u3001 Network/Library/Fonts/ \u3001 /System/Library/Fonts/ \u3001 /opt/local/share/fonts \u3001 $PYTHON_PATH/site-packages/matplotlib/mpl-data/fonts/ttf \u3001 $PYTHON_PATH/site-packages/matplotlib/mpl-data/fonts/afm \u8fd9\u4e9b\u76ee\u5f55\u4e0b\u9762\u52a0\u8f7d .ttf \u3001 .otf \u548c .afm \u4e09\u79cd\u540e\u7f00\u7684\u5b57\u4f53\u6587\u4ef6","title":"1\u3001\u4f7f\u4e2d\u6587\u5b57\u4f53\u88ab\u52a0\u8f7d\u5230"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#11","text":"\u4e0b\u8f7d .ttf \u683c\u5f0f\u7684\u4e2d\u6587\u5b57\u4f53\u5230 /Library/Fonts/ \u76ee\u5f55\u4e2d,\u5177\u4f53\u65b9\u6cd5\u8bf7\u81ea\u884c\u767e\u5ea6\u3002","title":"1.1\u3001\u4e0b\u8f7d\u4e2d\u6587\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#12","text":"1 2 3 #!/usr/bin/env python import matplotlib.font_manager as fm fm . _rebuild () \u518d\u6b21\u67e5\u770b\u5df2\u52a0\u8f7d\u5230\u7684\u5b57\u4f53\u5217\u8868 \uff0c\u9a8c\u8bc1\u65b0\u4e0b\u8f7d\u7684\u5b57\u4f53\u662f\u5426\u5df2\u7ecf\u88ab\u52a0\u8f7d\u5230","title":"1.2\u3001\u91cd\u65b0\u52a0\u8f7d\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#2_1","text":"","title":"2\u3001\u8bbe\u7f6e\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#21pltrcparams","text":"\u5728 .py \u6587\u4ef6\u4e2d\u901a\u8fc7 plt.rcParams \u8bbe\u7f6ematplotlib\u5e93\u4f7f\u7528\u7684\u9ed8\u8ba4\u5b57\u4f53 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/usr/bin/env python # -*- coding: UTF-8 -*- import sys reload ( sys ) sys . setdefaultencoding ( utf-8 ) import matplotlib.pyplot as plt plt . rcParams [ font.family ] = [ Source Han Sans CN ] plt . plot ([ 1 , 2 , 3 ],[ 4 , 5 , 6 ], label = \u793a\u4f8b ) plt . grid ( True ) plt . xlabel ( u \u65f6\u95f4 ) plt . ylabel ( u \u5361\u987f\u7387 ) plt . title ( u \u4e50\u89c6\u5361\u987f\u7387 ) plt . legend () plt . show ()","title":"2.1\u3001plt.rcParams\u8bbe\u7f6e\u9ed8\u8ba4\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#22font_manager","text":"\u6b64\u65b9\u6cd5\u53ef\u4ee5\u7701\u7565\u4e0a\u9762\u7684 fm._rebuild() \uff0c\u4f46\u6b64\u65b9\u6cd5\u6709\u4e2a\u7f3a\u9677\u5c31\u662f\u4e0d\u80fd\u5728 plt.plot \u4e2d\u6dfb\u52a0 fontpropertie \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #!/usr/bin/env python # -*- coding: UTF-8 -*- import sys reload ( sys ) sys . setdefaultencoding ( utf-8 ) import matplotlib.pyplot as plt import matplotlib.font_manager as fm fontpath = /Library/Fonts/Songti.ttc myfont = fm . FontProperties ( fname = fontpath ) plt . plot ([ 1 , 2 , 3 ],[ 4 , 5 , 6 ]) plt . grid ( True ) plt . xlabel ( u \u65f6\u95f4 , fontproperties = myfont ) plt . ylabel ( u \u5361\u987f\u7387 , fontproperties = myfont ) plt . title ( u \u4e50\u89c6\u5361\u987f\u7387 ) plt . legend () plt . show ()","title":"2.2\u3001font_manager\u8bbe\u7f6e\u5c40\u90e8\u5b57\u4f53"},{"location":"\u8ba1\u7b97\u673a/python/matplotlib\u4e2d\u6587/#3","text":"\u53ef\u4ee5\u770b\u5230\uff0c\u4e2d\u6587\u5b57\u4f53\u5df2\u7ecf\u88ab\u6b63\u786e\u663e\u793a\u51fa\u6765\u3002","title":"3\u3001\u67e5\u770b\u6548\u679c"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/","text":"\u5728python\u4e2d\uff0c\u6700\u57fa\u672c\u7684\u6570\u636e\u7ed3\u6784\u662f\u5e8f\u5217 python\u4e2d\u5305\u542b6\u4e2d\u5185\u5efa\u7684\u5e8f\u5217 \u5217\u8868 \u5143\u7ec4 \u5b57\u7b26\u4e32 Unicode\u5b57\u7b26\u4e32 buffer\u5bf9\u8c61 xrange\u5bf9\u8c61 \u6700\u5e38\u7528\u7684\u4e24\u79cd\u662f\u5217\u8868\u548c\u5143\u7ec4 \u5217\u8868\u548c\u5143\u7ec4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff1a\u5217\u8868\u53ef\u4ee5\u4fee\u6539\uff0c\u5143\u7ec4\u5219\u4e0d\u80fd \u901a\u7528\u7684\u5e8f\u5217\u64cd\u4f5c \u7d22\u5f15 \u5206\u7247\uff08\u7c7b\u4f3c\u4e8eshell\u4e2d\u7684\u5b57\u7b26\u4e32\u622a\u53d6\uff09 \u5e8f\u5217\u76f8\u52a0 \u4e58\u6cd5 \u6210\u5458\u8d44\u683c\uff08\u4f7f\u7528in\u51fd\u6570\uff09 \u957f\u5ea6\u3001\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(len\u3001min\u548cmax\u51fd\u6570) \u5217\u8868\uff1apython\u7684\u201c\u82e6\u529b\u201d list\u51fd\u6570(\u5c06\u5e8f\u5217\u8f6c\u5316\u4e3a\u5217\u8868) \u5217\u8868\u4fee\u6539\u64cd\u4f5c \u5355\u4e2a\u5143\u7d20\u8d4b\u503c \u5220\u9664\u5143\u7d20\uff08del\u8bed\u53e5\uff09 \u5206\u7247\u8d4b\u503c\uff08\u4e00\u6b21\u4e3a\u591a\u4e2a\u5143\u7d20\u8d4b\u503c\uff09 \u5217\u8868\u65b9\u6cd5 append\uff08\u672b\u5c3e\u8ffd\u52a0\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone count\uff08\u7edf\u8ba1\u67d0\u4e2a\u5143\u7d20\u503c\u51fa\u73b0\u7684\u6b21\u6570\uff09 extend\uff08\u5728\u4e00\u4e2a\u5217\u8868\u7684\u672b\u5c3e\u8ffd\u52a0\u53e6\u5916\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone index\uff08\u627e\u51fa\u67d0\u4e2a\u5143\u7d20\u5728\u5217\u8868\u4e2d\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u7d22\u5f15\u4f4d\u7f6e\uff09 insert\uff08\u5c06\u5bf9\u8c61\u63d2\u5165\u5230\u5217\u8868\u4e2d\u7684\u67d0\u4e2a\u7d22\u5f15\u524d\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone pop\uff08\u79fb\u9664\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\uff0c\u9ed8\u8ba4\u662f\u6700\u540e\u4e00\u4e2a\uff0c\u5e76\u4e14\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u503c\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56de\u88ab\u79fb\u9664\u7684\u503c remove\uff08\u79fb\u9664\u67d0\u4e2a\u503c\u5728\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone reverse\uff08\u5c06\u5217\u8868\u4e2d\u7684\u5143\u7d20\u53cd\u5411\u5b58\u653e\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone sort\uff08\u5bf9\u5217\u8868\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\uff09 sort\u65b9\u6cd5\u7528\u4e8e\u5728\u539f\u4f4d\u7f6e\u5bf9\u5217\u8868\u8fdb\u884c\u6392\u5e8f\u3002\u5728\u201c\u539f\u4f4d\u7f6e\u6392\u5e8f\u201d\u610f\u5473\u7740\u6539\u53d8\u539f\u6765\u7684\u5217\u8868\uff0c\u4ece\u800c\u8ba9\u5176\u4e2d\u7684\u5143\u7d20\u80fd\u6309\u4e00\u5b9a\u7684\u987a\u5e8f\u6392\u5217\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u5730\u8fd4\u56de\u4e00\u4e2a\u5df2\u6392\u5e8f\u7684\u5217\u8868\u526f\u672c\u3002 1 2 3 4 x = [ 3 , 1 , 2 ] x . sort () x [ 1 , 2 , 3 ] \u5f53\u7528\u6237\u9700\u8981\u4e00\u4e2a\u6392\u597d\u5e8f\u7684\u5217\u8868\u526f\u672c\uff0c\u540c\u65f6\u53c8\u4fdd\u7559\u539f\u6709\u5217\u8868\u4e0d\u53d8\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4f7f\u7528\u4e0b\u9762\u7684\u505a\u6cd5\uff1a 1 2 3 4 x = [ 3 , 1 , 2 ] y = x . sort () print y None \u56e0\u4e3asort\u65b9\u6cd5\u4fee\u6539\u4e86 x \u5374\u8fd4\u56de\u4e86\u7a7a\u503c\uff0c\u90a3\u4e48\u6700\u540e\u5f97\u5230\u7684\u662f\u5df2\u6392\u5e8f\u7684x\u4ee5\u53ca\u503c\u4e3a None \u7684 y \u3002\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\u6b63\u786e\u65b9\u6cd5\u662f\uff0c\u9996\u5148\u628a x \u7684\u526f\u672c\u590d\u5236\u7ed9 y \uff0c\u7136\u540e\u5bf9 y \u8fdb\u884c\u6392\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 x = [ 3 , 1 , 2 ] y = x [:] y . sort () y [ 1 , 2 , 3 ] x [ 3 , 1 , 2 ] \u518d\u6b21\u8c03\u7528 x[:] \u5f97\u5230\u7684\u662f\u5305\u542b\u4e86 x \u6240\u6709\u5143\u7d20\u7684\u5206\u7247\uff0c\u8fd9\u662f\u4e00\u79cd\u5f88\u6709\u6548\u7387\u7684\u590d\u5236\u6574\u4e2a\u5217\u8868\u7684\u65b9\u6cd5\u3002\u53ea\u662f\u7b80\u5355\u5730\u628a x \u8d4b\u503c\u7ed9 y \u662f\u6ca1\u7528\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u505a\u5c31\u8ba9 x \u548c y \u90fd\u6267\u884c\u540c\u4e00\u4e2a\u5217\u8868\u4e86\u3002 1 2 3 4 5 6 7 x = [ 3 , 1 , 2 ] y = x y . sort () x [ 1 , 2 , 3 ] y [ 1 , 2 , 3 ] * \u9ad8\u7ea7\u6392\u5e8f\uff08\u4f7f\u7528cmp\u3001key\u3001reverse\u4e09\u4e2a\u53c2\u6570\uff09 \u5143\u7ec4\uff1a\u4e0d\u53ef\u4fee\u6539\u7684\u5e8f\u5217 tuple\u51fd\u6570\uff08\u5c06\u5e8f\u5217\u8f6c\u5316\u4e3a\u5143\u7ec4\uff09 \u5143\u7ec4\u53ef\u4ee5\u5728\u6620\u5c04\uff08\u548c\u96c6\u5408\u7684\u6210\u5458\uff09\u4e2d\u5f53\u505a\u952e\u4f7f\u7528\uff0c\u800c\u5217\u8868\u5219\u4e0d\u884c","title":"\u5217\u8868\u548c\u5143\u7ec4"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#python","text":"","title":"\u5728python\u4e2d\uff0c\u6700\u57fa\u672c\u7684\u6570\u636e\u7ed3\u6784\u662f\u5e8f\u5217"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#python6","text":"\u5217\u8868 \u5143\u7ec4 \u5b57\u7b26\u4e32 Unicode\u5b57\u7b26\u4e32 buffer\u5bf9\u8c61 xrange\u5bf9\u8c61","title":"python\u4e2d\u5305\u542b6\u4e2d\u5185\u5efa\u7684\u5e8f\u5217"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#_1","text":"\u5217\u8868\u548c\u5143\u7ec4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff1a\u5217\u8868\u53ef\u4ee5\u4fee\u6539\uff0c\u5143\u7ec4\u5219\u4e0d\u80fd","title":"\u6700\u5e38\u7528\u7684\u4e24\u79cd\u662f\u5217\u8868\u548c\u5143\u7ec4"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#_2","text":"\u7d22\u5f15 \u5206\u7247\uff08\u7c7b\u4f3c\u4e8eshell\u4e2d\u7684\u5b57\u7b26\u4e32\u622a\u53d6\uff09 \u5e8f\u5217\u76f8\u52a0 \u4e58\u6cd5 \u6210\u5458\u8d44\u683c\uff08\u4f7f\u7528in\u51fd\u6570\uff09 \u957f\u5ea6\u3001\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c(len\u3001min\u548cmax\u51fd\u6570)","title":"\u901a\u7528\u7684\u5e8f\u5217\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#python_1","text":"","title":"\u5217\u8868\uff1apython\u7684\u201c\u82e6\u529b\u201d"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#list","text":"","title":"list\u51fd\u6570(\u5c06\u5e8f\u5217\u8f6c\u5316\u4e3a\u5217\u8868)"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#_3","text":"\u5355\u4e2a\u5143\u7d20\u8d4b\u503c \u5220\u9664\u5143\u7d20\uff08del\u8bed\u53e5\uff09 \u5206\u7247\u8d4b\u503c\uff08\u4e00\u6b21\u4e3a\u591a\u4e2a\u5143\u7d20\u8d4b\u503c\uff09","title":"\u5217\u8868\u4fee\u6539\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#_4","text":"append\uff08\u672b\u5c3e\u8ffd\u52a0\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone count\uff08\u7edf\u8ba1\u67d0\u4e2a\u5143\u7d20\u503c\u51fa\u73b0\u7684\u6b21\u6570\uff09 extend\uff08\u5728\u4e00\u4e2a\u5217\u8868\u7684\u672b\u5c3e\u8ffd\u52a0\u53e6\u5916\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone index\uff08\u627e\u51fa\u67d0\u4e2a\u5143\u7d20\u5728\u5217\u8868\u4e2d\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u7d22\u5f15\u4f4d\u7f6e\uff09 insert\uff08\u5c06\u5bf9\u8c61\u63d2\u5165\u5230\u5217\u8868\u4e2d\u7684\u67d0\u4e2a\u7d22\u5f15\u524d\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone pop\uff08\u79fb\u9664\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\uff0c\u9ed8\u8ba4\u662f\u6700\u540e\u4e00\u4e2a\uff0c\u5e76\u4e14\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u503c\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56de\u88ab\u79fb\u9664\u7684\u503c remove\uff08\u79fb\u9664\u67d0\u4e2a\u503c\u5728\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone reverse\uff08\u5c06\u5217\u8868\u4e2d\u7684\u5143\u7d20\u53cd\u5411\u5b58\u653e\uff09 \u4fee\u6539\u539f\u5217\u8868\uff0c\u8fd4\u56denone sort\uff08\u5bf9\u5217\u8868\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\uff09 sort\u65b9\u6cd5\u7528\u4e8e\u5728\u539f\u4f4d\u7f6e\u5bf9\u5217\u8868\u8fdb\u884c\u6392\u5e8f\u3002\u5728\u201c\u539f\u4f4d\u7f6e\u6392\u5e8f\u201d\u610f\u5473\u7740\u6539\u53d8\u539f\u6765\u7684\u5217\u8868\uff0c\u4ece\u800c\u8ba9\u5176\u4e2d\u7684\u5143\u7d20\u80fd\u6309\u4e00\u5b9a\u7684\u987a\u5e8f\u6392\u5217\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u5730\u8fd4\u56de\u4e00\u4e2a\u5df2\u6392\u5e8f\u7684\u5217\u8868\u526f\u672c\u3002 1 2 3 4 x = [ 3 , 1 , 2 ] x . sort () x [ 1 , 2 , 3 ] \u5f53\u7528\u6237\u9700\u8981\u4e00\u4e2a\u6392\u597d\u5e8f\u7684\u5217\u8868\u526f\u672c\uff0c\u540c\u65f6\u53c8\u4fdd\u7559\u539f\u6709\u5217\u8868\u4e0d\u53d8\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4f7f\u7528\u4e0b\u9762\u7684\u505a\u6cd5\uff1a 1 2 3 4 x = [ 3 , 1 , 2 ] y = x . sort () print y None \u56e0\u4e3asort\u65b9\u6cd5\u4fee\u6539\u4e86 x \u5374\u8fd4\u56de\u4e86\u7a7a\u503c\uff0c\u90a3\u4e48\u6700\u540e\u5f97\u5230\u7684\u662f\u5df2\u6392\u5e8f\u7684x\u4ee5\u53ca\u503c\u4e3a None \u7684 y \u3002\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\u6b63\u786e\u65b9\u6cd5\u662f\uff0c\u9996\u5148\u628a x \u7684\u526f\u672c\u590d\u5236\u7ed9 y \uff0c\u7136\u540e\u5bf9 y \u8fdb\u884c\u6392\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1a 1 2 3 4 5 6 7 x = [ 3 , 1 , 2 ] y = x [:] y . sort () y [ 1 , 2 , 3 ] x [ 3 , 1 , 2 ] \u518d\u6b21\u8c03\u7528 x[:] \u5f97\u5230\u7684\u662f\u5305\u542b\u4e86 x \u6240\u6709\u5143\u7d20\u7684\u5206\u7247\uff0c\u8fd9\u662f\u4e00\u79cd\u5f88\u6709\u6548\u7387\u7684\u590d\u5236\u6574\u4e2a\u5217\u8868\u7684\u65b9\u6cd5\u3002\u53ea\u662f\u7b80\u5355\u5730\u628a x \u8d4b\u503c\u7ed9 y \u662f\u6ca1\u7528\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u505a\u5c31\u8ba9 x \u548c y \u90fd\u6267\u884c\u540c\u4e00\u4e2a\u5217\u8868\u4e86\u3002 1 2 3 4 5 6 7 x = [ 3 , 1 , 2 ] y = x y . sort () x [ 1 , 2 , 3 ] y [ 1 , 2 , 3 ] * \u9ad8\u7ea7\u6392\u5e8f\uff08\u4f7f\u7528cmp\u3001key\u3001reverse\u4e09\u4e2a\u53c2\u6570\uff09","title":"\u5217\u8868\u65b9\u6cd5"},{"location":"\u8ba1\u7b97\u673a/python/\u5217\u8868\u548c\u5143\u7ec4/#_5","text":"tuple\u51fd\u6570\uff08\u5c06\u5e8f\u5217\u8f6c\u5316\u4e3a\u5143\u7ec4\uff09 \u5143\u7ec4\u53ef\u4ee5\u5728\u6620\u5c04\uff08\u548c\u96c6\u5408\u7684\u6210\u5458\uff09\u4e2d\u5f53\u505a\u952e\u4f7f\u7528\uff0c\u800c\u5217\u8868\u5219\u4e0d\u884c","title":"\u5143\u7ec4\uff1a\u4e0d\u53ef\u4fee\u6539\u7684\u5e8f\u5217"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/","text":"\u7a0b\u5e8f \u7b97\u6cd5\u4e0d\u8fc7\u662f\u201c\u6b65\u9aa4\u201d\u6216\u8005\u201c\u98df\u8c31\u201d\u7684\u53e6\u5916\u4e00\u79cd\u6587\u7ec9\u7ec9\u7684\u8bf4\u6cd5\uff0c\u5728\u7f16\u5199\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u5c31\u662f\u8981\u4f7f\u7528\u8ba1\u7b97\u673a\u80fd\u591f\u7406\u89e3\u7684\u8bed\u8a00\u6765\u63cf\u8ff0\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u5bf9\u673a\u5668\u53cb\u597d\u7684\u63cf\u8ff0\u5c31\u53eb\u505a\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u4e3b\u8981\u5305\u542b\u8868\u8fbe\u5f0f\u548c\u8bed\u53e5\u3002 \u5b9e\u6570 \u5305\u542b\u5c0f\u6570\u70b9\u7684\u6570,\u5728python\u4e2d\u88ab\u79f0\u4e3a\u6d6e\u70b9\u6570 \u9664\u6cd5 / \u6b63\u5e38\u60c5\u51b5\u4e0b\u662f\u6574\u9664\uff0c\u52a0\u4e0afrom future import division\u540e\u5c31\u53d8\u4e3a\u666e\u901a\u9664\u6cd5\u4e86 // \u6574\u9664(Python 2.2\u53ca\u540e\u7eed\u7248\u672c\u4e2d\u652f\u6301) % \u53d6\u4f59\uff1a\u6bcf\u969410\u5206\u949f\uff0c\u53ef\u4ee5\u68c0\u67e5\u65f6\u95f4%/10\u7684\u7ed3\u679c\u662f\u5426\u4e3a0 \u5e42\uff08\u4e58\u65b9\uff09\uff1a** 1 2**3=8 \u957f\u6574\u6570 \u6570\u5b57\u7ed3\u5c3e\u52a0L\u8868\u793a\u957f\u6574\u6570 1 2 100000000000000000000000 100000000000000000000000L \u666e\u901a\u6574\u6570\u4e0d\u80fd\u5927\u4e8e2147483647\uff08\u4e5f\u4e0d\u80fd\u5c0f\u4e8e-2147483648\uff09\uff0c\u957f\u6574\u6570\u548c\u666e\u901a\u6574\u6570\u53ef\u4ee5\u6df7\u5408\u4f7f\u7528 \u53d8\u91cf \u53d8\u91cf\u540d\u53ef\u4ee5\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u53d8\u91cf\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934 \u8bed\u53e5 \u8d4b\u503c\u8bed\u53e5\u548cprint\u8bed\u53e5\uff0c\u8bed\u53e5\u548c\u8868\u8fbe\u5f0f\u7684\u533a\u522b\uff1a\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u603b\u662f\u628a\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u503c\u6253\u5370\u51fa\u6765\u3002\u8bed\u53e5\u7684\u4e00\u822c\u7279\u6027\u662f\u6539\u53d8\u4e86\u4e8b\u7269 if\u8bed\u53e5 \u5728\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u4e2d\u4f7f\u7528if\u8bed\u53e5\uff0c\u9700\u8981\u6309\u4e24\u6b21\u56de\u8f66 \u7528\u51fd\u6570pow\u4ee3\u66ff**\u505a\u4e58\u65b9\u8fd0\u7b97 1 2 3 4 2**3 8 pow(2,3) 8 1 2 3 4 5 6 7 8 9 10 11 12 13 14 abs \u51fd\u6570\u53d6\u7edd\u5bf9\u503c abs ( - 10 ) 10 round \u51fd\u6570\u56db\u820d\u4e94\u5165 round ( 1.0 / 2.0 ) 1.0 math . floor \u51fd\u6570\u5411\u4e0b\u53d6\u6574\uff0c 32.9 \u5c81\u5411\u4e0b\u53d6\u6574\u4e3a 32 \u5c81 import math math . floor ( 32.9 ) 32.0 int ( math . floor ( 32.9 )) 32 ceil\u51fd\u6570 \u4e0efloor\u51fd\u6570\u76f8\u5bf9\u7684\u51fd\u6570\u662fceil\uff08\u5411\u4e0a\u53d6\u6574\uff09\uff0c32.1\u5c81\u5411\u4e0a\u53d6\u6574\u4e3a33\u5c81 \u4f7f\u7528\u53d8\u91cf\u5f15\u7528\u51fd\u6570 \u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\u6765\u5f15\u7528\u51fd\u6570\uff08\u6216\u8005python\u4e2d\u5927\u591a\u6570\u7684\u5bf9\u8c61\uff09\uff0c\u6bd4\u5982\u901a\u8fc7wqy=math.sqrt\u8fdb\u884c\u8d4b\u503c\uff0c\u7136\u540ewqy(4)\u7684\u7ed3\u679c\u4e3a2.0 1 2 3 4 import math wqy = math . sqrt wqy ( 4 ) 2.0 \u865a\u6570 \u865a\u6570\u5747\u4ee5j\uff08\u6216\u8005J\uff09\u7ed3\u5c3e 1 2 3 import cmath cmath . sqrt ( - 1 ) 1j \u7528+\u62fc\u63a5\u5b57\u7b26\u4e32 1 2 hello, + world! \u2018hello,world!\u2019 \u5b57\u7b26\u4e32\u8f6c\u6362 str\u3001repr\u3001\u548c\u53cd\u5f15\u53f7\u662f\u8bb2python\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u76843\u4e2d\u65b9\u6cd5\u3002\u51fd\u6570str\u8ba9\u5b57\u7b26\u4e32\u66f4\u6613\u4e8e\u9605\u8bfb\uff0c\u800crepr(\u548c\u53cd\u5f15\u53f7)\u5219\u5c06\u7ed3\u679c\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5408\u6cd5\u7684pyt python\u8868\u8fbe\u5f0f\u3002\u5728python3.0\u4e2d\uff0c\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u53cd\u5f15\u53f7\u4e86\u3002 \u6570\u5b57\u548c\u5b57\u7b26\u4e32\u4e0d\u80fd\u76f8\u52a0 input\u4e0eraw_input\u7684\u533a\u522b input\u4f1a\u5047\u8bbe\u7528\u6237\u8f93\u5165\u7684\u662f\u5408\u6cd5\u7684python\u8868\u8fbe\u5f0f\uff0craw_input\u4f1a\u628a\u6240\u6709\u7684\u8f93\u5165\u5f53\u505a\u539f\u59cb\u6570\u636e\uff08raw data\uff09\uff0c\u7136\u540e\u5c06\u5176\u653e\u5165\u5b57\u7b26\u4e32\u4e2d\uff0c\u9664\u975e\u5bf9input\u6709\u7279\u522b\u7684\u9700\u8981\uff0c\u5426\u5219\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528raw_input\u51fd\u6570 \u957f\u5b57\u7b26\u4e32\uff1a \u5982\u679c\u9700\u8981\u5199\u4e00\u4e2a\u975e\u5e38\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u5b83\u9700\u8981\u8de8\u591a\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e09\u4e2a\u5f15\u53f7\u4ee3\u66ff\u666e\u901a\u5f15\u53f7\u3002 \u539f\u59cb\u5b57\u7b26\u4e32\uff1a \u539f\u59cb\u5b57\u7b26\u4e32\u4ee5r\u5f00\u5934\uff0c\u5728\u539f\u59cb\u5b57\u7b26\u4e32\u4e2d\u53ef\u4ee5\u653e\u5165\u4efb\u4f55\u5b57\u7b26 1 2 3 4 5 6 print hello,\\nworld! hello, world print r hello,\\nworld! hello,\\nworld! \u539f\u59cb\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u662f\u53cd\u659c\u7ebf Unicode\u5b57\u7b26\u4e32\uff1a Python\u4e2d\u7684\u666e\u901a\u5b57\u7b26\u4e32\u5728\u5185\u90e8\u662f\u4ee58\u4f4d\u7684ASCII\u7801\u5f62\u6210\u5b58\u50a8\u7684\uff0c\u800cUnicode\u5b57\u7b26\u4e32\u5219\u5b58\u50a8\u4e3a16\u4f4dUnicode\u5b57\u7b26\uff0c\u8fd9\u6837\u5c31\u80fd\u8868\u793a\u66f4\u591a\u7684\u5b57\u7b26\u96c6\u4e86\uff0c\u5305\u62ec\u4e16\u754c\u4e0a\u5927\u591a\u6570\u8bed\u8a00\u7684\u7279\u6b8a\u5b57\u7b26\u3002 \u5728Python 3.0\u4e2d\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u90fd\u662fUnicode\u5b57\u7b26\u4e32\u3002","title":"\u57fa\u7840\u77e5\u8bc6"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_1","text":"\u7b97\u6cd5\u4e0d\u8fc7\u662f\u201c\u6b65\u9aa4\u201d\u6216\u8005\u201c\u98df\u8c31\u201d\u7684\u53e6\u5916\u4e00\u79cd\u6587\u7ec9\u7ec9\u7684\u8bf4\u6cd5\uff0c\u5728\u7f16\u5199\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u5c31\u662f\u8981\u4f7f\u7528\u8ba1\u7b97\u673a\u80fd\u591f\u7406\u89e3\u7684\u8bed\u8a00\u6765\u63cf\u8ff0\u7b97\u6cd5\uff0c\u8fd9\u7c7b\u5bf9\u673a\u5668\u53cb\u597d\u7684\u63cf\u8ff0\u5c31\u53eb\u505a\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u4e3b\u8981\u5305\u542b\u8868\u8fbe\u5f0f\u548c\u8bed\u53e5\u3002","title":"\u7a0b\u5e8f"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_2","text":"\u5305\u542b\u5c0f\u6570\u70b9\u7684\u6570,\u5728python\u4e2d\u88ab\u79f0\u4e3a\u6d6e\u70b9\u6570","title":"\u5b9e\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_3","text":"/ \u6b63\u5e38\u60c5\u51b5\u4e0b\u662f\u6574\u9664\uff0c\u52a0\u4e0afrom future import division\u540e\u5c31\u53d8\u4e3a\u666e\u901a\u9664\u6cd5\u4e86 // \u6574\u9664(Python 2.2\u53ca\u540e\u7eed\u7248\u672c\u4e2d\u652f\u6301) % \u53d6\u4f59\uff1a\u6bcf\u969410\u5206\u949f\uff0c\u53ef\u4ee5\u68c0\u67e5\u65f6\u95f4%/10\u7684\u7ed3\u679c\u662f\u5426\u4e3a0 \u5e42\uff08\u4e58\u65b9\uff09\uff1a** 1 2**3=8","title":"\u9664\u6cd5"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_4","text":"\u6570\u5b57\u7ed3\u5c3e\u52a0L\u8868\u793a\u957f\u6574\u6570 1 2 100000000000000000000000 100000000000000000000000L \u666e\u901a\u6574\u6570\u4e0d\u80fd\u5927\u4e8e2147483647\uff08\u4e5f\u4e0d\u80fd\u5c0f\u4e8e-2147483648\uff09\uff0c\u957f\u6574\u6570\u548c\u666e\u901a\u6574\u6570\u53ef\u4ee5\u6df7\u5408\u4f7f\u7528","title":"\u957f\u6574\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_5","text":"\u53d8\u91cf\u540d\u53ef\u4ee5\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u53d8\u91cf\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934","title":"\u53d8\u91cf"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_6","text":"\u8d4b\u503c\u8bed\u53e5\u548cprint\u8bed\u53e5\uff0c\u8bed\u53e5\u548c\u8868\u8fbe\u5f0f\u7684\u533a\u522b\uff1a\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u603b\u662f\u628a\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u503c\u6253\u5370\u51fa\u6765\u3002\u8bed\u53e5\u7684\u4e00\u822c\u7279\u6027\u662f\u6539\u53d8\u4e86\u4e8b\u7269","title":"\u8bed\u53e5"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#if","text":"\u5728\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u4e2d\u4f7f\u7528if\u8bed\u53e5\uff0c\u9700\u8981\u6309\u4e24\u6b21\u56de\u8f66","title":"if\u8bed\u53e5"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#pow","text":"1 2 3 4 2**3 8 pow(2,3) 8 1 2 3 4 5 6 7 8 9 10 11 12 13 14 abs \u51fd\u6570\u53d6\u7edd\u5bf9\u503c abs ( - 10 ) 10 round \u51fd\u6570\u56db\u820d\u4e94\u5165 round ( 1.0 / 2.0 ) 1.0 math . floor \u51fd\u6570\u5411\u4e0b\u53d6\u6574\uff0c 32.9 \u5c81\u5411\u4e0b\u53d6\u6574\u4e3a 32 \u5c81 import math math . floor ( 32.9 ) 32.0 int ( math . floor ( 32.9 )) 32","title":"\u7528\u51fd\u6570pow\u4ee3\u66ff**\u505a\u4e58\u65b9\u8fd0\u7b97"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#ceil","text":"\u4e0efloor\u51fd\u6570\u76f8\u5bf9\u7684\u51fd\u6570\u662fceil\uff08\u5411\u4e0a\u53d6\u6574\uff09\uff0c32.1\u5c81\u5411\u4e0a\u53d6\u6574\u4e3a33\u5c81","title":"ceil\u51fd\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_7","text":"\u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\u6765\u5f15\u7528\u51fd\u6570\uff08\u6216\u8005python\u4e2d\u5927\u591a\u6570\u7684\u5bf9\u8c61\uff09\uff0c\u6bd4\u5982\u901a\u8fc7wqy=math.sqrt\u8fdb\u884c\u8d4b\u503c\uff0c\u7136\u540ewqy(4)\u7684\u7ed3\u679c\u4e3a2.0 1 2 3 4 import math wqy = math . sqrt wqy ( 4 ) 2.0","title":"\u4f7f\u7528\u53d8\u91cf\u5f15\u7528\u51fd\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_8","text":"\u865a\u6570\u5747\u4ee5j\uff08\u6216\u8005J\uff09\u7ed3\u5c3e 1 2 3 import cmath cmath . sqrt ( - 1 ) 1j","title":"\u865a\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_9","text":"1 2 hello, + world! \u2018hello,world!\u2019","title":"\u7528+\u62fc\u63a5\u5b57\u7b26\u4e32"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_10","text":"str\u3001repr\u3001\u548c\u53cd\u5f15\u53f7\u662f\u8bb2python\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u76843\u4e2d\u65b9\u6cd5\u3002\u51fd\u6570str\u8ba9\u5b57\u7b26\u4e32\u66f4\u6613\u4e8e\u9605\u8bfb\uff0c\u800crepr(\u548c\u53cd\u5f15\u53f7)\u5219\u5c06\u7ed3\u679c\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5408\u6cd5\u7684pyt python\u8868\u8fbe\u5f0f\u3002\u5728python3.0\u4e2d\uff0c\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u53cd\u5f15\u53f7\u4e86\u3002","title":"\u5b57\u7b26\u4e32\u8f6c\u6362"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_11","text":"","title":"\u6570\u5b57\u548c\u5b57\u7b26\u4e32\u4e0d\u80fd\u76f8\u52a0"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#inputraw_input","text":"input\u4f1a\u5047\u8bbe\u7528\u6237\u8f93\u5165\u7684\u662f\u5408\u6cd5\u7684python\u8868\u8fbe\u5f0f\uff0craw_input\u4f1a\u628a\u6240\u6709\u7684\u8f93\u5165\u5f53\u505a\u539f\u59cb\u6570\u636e\uff08raw data\uff09\uff0c\u7136\u540e\u5c06\u5176\u653e\u5165\u5b57\u7b26\u4e32\u4e2d\uff0c\u9664\u975e\u5bf9input\u6709\u7279\u522b\u7684\u9700\u8981\uff0c\u5426\u5219\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528raw_input\u51fd\u6570","title":"input\u4e0eraw_input\u7684\u533a\u522b"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_12","text":"\u5982\u679c\u9700\u8981\u5199\u4e00\u4e2a\u975e\u5e38\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u5b83\u9700\u8981\u8de8\u591a\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e09\u4e2a\u5f15\u53f7\u4ee3\u66ff\u666e\u901a\u5f15\u53f7\u3002","title":"\u957f\u5b57\u7b26\u4e32\uff1a"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#_13","text":"\u539f\u59cb\u5b57\u7b26\u4e32\u4ee5r\u5f00\u5934\uff0c\u5728\u539f\u59cb\u5b57\u7b26\u4e32\u4e2d\u53ef\u4ee5\u653e\u5165\u4efb\u4f55\u5b57\u7b26 1 2 3 4 5 6 print hello,\\nworld! hello, world print r hello,\\nworld! hello,\\nworld! \u539f\u59cb\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u662f\u53cd\u659c\u7ebf","title":"\u539f\u59cb\u5b57\u7b26\u4e32\uff1a"},{"location":"\u8ba1\u7b97\u673a/python/\u57fa\u7840\u77e5\u8bc6/#unicode","text":"Python\u4e2d\u7684\u666e\u901a\u5b57\u7b26\u4e32\u5728\u5185\u90e8\u662f\u4ee58\u4f4d\u7684ASCII\u7801\u5f62\u6210\u5b58\u50a8\u7684\uff0c\u800cUnicode\u5b57\u7b26\u4e32\u5219\u5b58\u50a8\u4e3a16\u4f4dUnicode\u5b57\u7b26\uff0c\u8fd9\u6837\u5c31\u80fd\u8868\u793a\u66f4\u591a\u7684\u5b57\u7b26\u96c6\u4e86\uff0c\u5305\u62ec\u4e16\u754c\u4e0a\u5927\u591a\u6570\u8bed\u8a00\u7684\u7279\u6b8a\u5b57\u7b26\u3002 \u5728Python 3.0\u4e2d\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u90fd\u662fUnicode\u5b57\u7b26\u4e32\u3002","title":"Unicode\u5b57\u7b26\u4e32\uff1a"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u5178/","text":"\u5b57\u5178 \u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u5230\uff0c\u5217\u8868\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u9002\u5408\u4e0e\u5c06\u503c\u7ec4\u7ec7\u5230\u4e00\u4e2a\u7ed3\u6784\u4e2d\uff0c\u5e76\u4e14\u901a\u8fc7\u7f16\u53f7\u5bf9\u5176\u8fdb\u884c\u5f15\u7528\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u4f60\u5c06\u5b66\u5230\u4e00\u79cd\u901a\u8fc7\u540d\u5b57\u6765\u5f15\u7528\u503c\u7684\u6570\u636e\u7ed3\u6784\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u6210\u4e3a\u6620\u5c04\uff08mapping\uff09\u3002\u5b57\u5178\u662fpython\u4e2d\u552f\u4e00\u5185\u5efa\u7684\u6620\u5c04\u7c7b\u578b\u3002\u5b57\u5178\u4e2d\u7684\u503c\u5e76\u6ca1\u6709\u7279\u6b8a\u7684\u987a\u5e8f\uff0c\u4f46\u662f\u90fd\u5b58\u50a8\u5728\u4e00\u4e2a\u7279\u5b9a\u7684\u952e\uff08key\uff09\u4e0b\u3002\u952e\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u751a\u81f3\u662f\u5143\u7ec4\u3002 \u5728python\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u7528\u5b57\u7b26\u4e32\u8868\u793a\u7535\u8bdd\u53f7\u7801\u800c\u4e0d\u662f\u6574\u6570\uff0c\u56e0\u4e3a\u7c7b\u4f3c\u4e8e0142\u5728python\u4e2d\u5176\u5b9e\u662f\u8868\u793a8\u8fdb\u5236\uff0c\u8f6c\u6362\u4e3a10\u8fdb\u5236\u662f98 1 2 0142 98 \u6559\u8bad\u5c31\u662f\uff1a\u7535\u8bdd\u53f7\u7801\uff08\u4ee5\u53ca\u5176\u4ed6\u53ef\u80fd\u662f\u4ee50\u5f00\u5934\u7684\u6570\u5b57\uff09\u5e94\u8be5\u662f\u8868\u793a\u4e3a\u6570\u5b57\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u6574\u6570\u3002 \u521b\u5efa\u548c\u4f7f\u7528\u5b57\u5178 1 phonebook = { Alice : 2341 , Beth : 9102 , Ceci : 3258 } \u5b57\u5178\u7531\u591a\u4e2a\u952e\u53ca\u5176\u5bf9\u5e94\u7684\u503c\u6784\u6210\u7684\u952e-\u503c\u5bf9\u7ec4\u6210\uff08\u6211\u4eec\u4e5f\u628a\u952e-\u503c\u5bf9\u79f0\u4e3a\u9879\uff09\u3002\u5728\u4e0a\u4f8b\u4e2d\uff0c\u540d\u5b57\u662f\u952e\uff0c\u7535\u8bdd\u53f7\u7801\u662f\u503c\u3002\u6bcf\u4e2a\u952e\u548c\u5b83\u7684\u503c\u4e2d\u95f4\u7528\u5192\u53f7 : \u9694\u5f00\uff0c\u9879\u4e4b\u95f4\u7528 , \u9694\u5f00\uff0c\u800c\u6574\u4e2a\u5b57\u5178\u662f\u7531\u4e00\u5bf9\u5927\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u7a7a\u5b57\u5178\uff08\u4e0d\u5305\u62ec\u4efb\u4f55\u9879\uff09\u7531\u4e24\u4e2a\u5927\u62ec\u53f7\u7ec4\u6210\uff0c\u50cf\u8fd9\u6837 {} \u3002 \u5b57\u5178\u4e2d\u7684\u952e\u662f\u552f\u4e00\u7684\uff08\u5176\u4ed6\u7c7b\u578b\u7684\u6620\u5c04\u4e5f\u662f\u5982\u6b64\uff09\uff0c\u800c\u503c\u5e76\u4e0d\u552f\u4e00\u3002 dict\u51fd\u6570 \u53ef\u4ee5\u7528dict\u51fd\u6570\uff0c\u901a\u8fc7\u5176\u4ed6\u6620\u5c04\uff08\u6bd4\u5982\u5176\u4ed6\u5b57\u5178\uff09\u6216\u8005\uff08\u952e\u3001\u503c\uff09\u5bf9\u7684\u5e8f\u5217\u5efa\u7acb\u5b57\u5178\u3002","title":"\u5b57\u5178"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u5178/#_1","text":"\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u5230\uff0c\u5217\u8868\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u9002\u5408\u4e0e\u5c06\u503c\u7ec4\u7ec7\u5230\u4e00\u4e2a\u7ed3\u6784\u4e2d\uff0c\u5e76\u4e14\u901a\u8fc7\u7f16\u53f7\u5bf9\u5176\u8fdb\u884c\u5f15\u7528\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u4f60\u5c06\u5b66\u5230\u4e00\u79cd\u901a\u8fc7\u540d\u5b57\u6765\u5f15\u7528\u503c\u7684\u6570\u636e\u7ed3\u6784\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u6210\u4e3a\u6620\u5c04\uff08mapping\uff09\u3002\u5b57\u5178\u662fpython\u4e2d\u552f\u4e00\u5185\u5efa\u7684\u6620\u5c04\u7c7b\u578b\u3002\u5b57\u5178\u4e2d\u7684\u503c\u5e76\u6ca1\u6709\u7279\u6b8a\u7684\u987a\u5e8f\uff0c\u4f46\u662f\u90fd\u5b58\u50a8\u5728\u4e00\u4e2a\u7279\u5b9a\u7684\u952e\uff08key\uff09\u4e0b\u3002\u952e\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u751a\u81f3\u662f\u5143\u7ec4\u3002 \u5728python\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u7528\u5b57\u7b26\u4e32\u8868\u793a\u7535\u8bdd\u53f7\u7801\u800c\u4e0d\u662f\u6574\u6570\uff0c\u56e0\u4e3a\u7c7b\u4f3c\u4e8e0142\u5728python\u4e2d\u5176\u5b9e\u662f\u8868\u793a8\u8fdb\u5236\uff0c\u8f6c\u6362\u4e3a10\u8fdb\u5236\u662f98 1 2 0142 98 \u6559\u8bad\u5c31\u662f\uff1a\u7535\u8bdd\u53f7\u7801\uff08\u4ee5\u53ca\u5176\u4ed6\u53ef\u80fd\u662f\u4ee50\u5f00\u5934\u7684\u6570\u5b57\uff09\u5e94\u8be5\u662f\u8868\u793a\u4e3a\u6570\u5b57\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u6574\u6570\u3002","title":"\u5b57\u5178"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u5178/#_2","text":"1 phonebook = { Alice : 2341 , Beth : 9102 , Ceci : 3258 } \u5b57\u5178\u7531\u591a\u4e2a\u952e\u53ca\u5176\u5bf9\u5e94\u7684\u503c\u6784\u6210\u7684\u952e-\u503c\u5bf9\u7ec4\u6210\uff08\u6211\u4eec\u4e5f\u628a\u952e-\u503c\u5bf9\u79f0\u4e3a\u9879\uff09\u3002\u5728\u4e0a\u4f8b\u4e2d\uff0c\u540d\u5b57\u662f\u952e\uff0c\u7535\u8bdd\u53f7\u7801\u662f\u503c\u3002\u6bcf\u4e2a\u952e\u548c\u5b83\u7684\u503c\u4e2d\u95f4\u7528\u5192\u53f7 : \u9694\u5f00\uff0c\u9879\u4e4b\u95f4\u7528 , \u9694\u5f00\uff0c\u800c\u6574\u4e2a\u5b57\u5178\u662f\u7531\u4e00\u5bf9\u5927\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u7a7a\u5b57\u5178\uff08\u4e0d\u5305\u62ec\u4efb\u4f55\u9879\uff09\u7531\u4e24\u4e2a\u5927\u62ec\u53f7\u7ec4\u6210\uff0c\u50cf\u8fd9\u6837 {} \u3002 \u5b57\u5178\u4e2d\u7684\u952e\u662f\u552f\u4e00\u7684\uff08\u5176\u4ed6\u7c7b\u578b\u7684\u6620\u5c04\u4e5f\u662f\u5982\u6b64\uff09\uff0c\u800c\u503c\u5e76\u4e0d\u552f\u4e00\u3002","title":"\u521b\u5efa\u548c\u4f7f\u7528\u5b57\u5178"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u5178/#dict","text":"\u53ef\u4ee5\u7528dict\u51fd\u6570\uff0c\u901a\u8fc7\u5176\u4ed6\u6620\u5c04\uff08\u6bd4\u5982\u5176\u4ed6\u5b57\u5178\uff09\u6216\u8005\uff08\u952e\u3001\u503c\uff09\u5bf9\u7684\u5e8f\u5217\u5efa\u7acb\u5b57\u5178\u3002","title":"dict\u51fd\u6570"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/","text":"\u5b57\u7b26\u4e32\u57fa\u672c\u64cd\u4f5c \u6240\u6709\u6807\u51c6\u7684\u5e8f\u5217\u64cd\u4f5c\uff08\u7d22\u5f15\u3001\u5206\u7247\u3001\u4e58\u6cd5\u3001\u5224\u65ad\u6210\u5458\u8d44\u683c\u3001\u6c42\u957f\u5ea6\u3001\u53d6\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\uff09\u5bf9\u5b57\u7b26\u4e32\u540c\u6837\u9002\u7528\u3002\u4f46\u662f\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u56e0\u6b64\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u5206\u7247\u8d4b\u503c\u7b49\u64cd\u4f5c\u662f\u4e0d\u5408\u6cd5\u7684\u3002 \u5b57\u7b26\u4e32\u683c\u5f0f\u5316 1 2 %s plus %s equals %s % ( 1 , 1 , 2 ) 1 plus 1 equals 2 \u57fa\u672c\u8f6c\u6362\u8bf4\u660e %\u5b57\u7b26\uff1a \u6807\u8bb0\u8f6c\u6362\u8bf4\u660e\u7b26\u7684\u5f00\u59cb\u3002 \u8f6c\u6362\u6807\u5fd7 \uff08\u53ef\u9009\uff09\uff1a - \u8868\u793a\u5de6\u5bf9\u9f50\uff1b + \u8868\u793a\u5728\u8f6c\u6362\u503c\u4e4b\u524d\u8981\u52a0\u4e0a\u6b63\u8d1f\u53f7\uff1b \"\" \uff08\u7a7a\u767d\u5b57\u7b26\uff09\u8868\u793a\u6b63\u6570\u4e4b\u524d\u4fdd\u7559\u7a7a\u683c\uff1b 0 \u8868\u793a\u8f6c\u6362\u503c\u82e5\u4f4d\u6570\u4e0d\u591f\u5219\u75280\u586b\u5145\u3002 \u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6 \uff08\u53ef\u9009\uff09\uff1a\u8f6c\u6362\u540e\u7684\u5b57\u7b26\u4e32\u81f3\u5c11\u5e94\u8be5\u5177\u6709\u8be5\u503c\u6307\u5b9a\u7684\u5bbd\u5ea6\u3002\u5982\u679c\u662f * \uff0c\u5219\u5bbd\u5ea6\u4f1a\u4ece\u503c\u5143\u7ec4\u4e2d\u8bfb\u51fa\u3002 \u70b9 . \u540e\u8ddf\u7cbe\u5ea6\u503c \uff08\u53ef\u9009\uff09\uff1a\u5982\u679c\u8f6c\u6362\u7684\u662f\u5b9e\u6570\uff0c\u7cbe\u5ea6\u503c\u5c31\u8868\u793a\u51fa\u73b0\u5728\u5c0f\u6570\u70b9\u540e\u7684\u4f4d\u6570\u3002\u5982\u679c\u8f6c\u6362\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u6570\u5b57\u5c31\u8868\u793a\u6700\u5927\u5b57\u6bb5\u5bbd\u5ea6\u3002\u5982\u679c\u662f * \uff0c\u90a3\u4e48\u7cbe\u5ea6\u5c06\u4f1a\u4ece\u5143\u7ec4\u4e2d\u8bfb\u51fa\u3002 1 2 3 from math import pi Pi with three decimals: %.3f % pi Pi with three decimals : 3.142 \u8f6c\u6362\u7c7b\u578b\uff1a \u53c2\u89c1\u4e0b\u8868 \u8f6c\u6362\u7c7b\u578b \u542b\u4e49 d,i \u5e26\u7b26\u53f7\u7684\u5341\u8fdb\u5236\u6574\u6570 o \u4e0d\u5e26\u7b26\u53f7\u7684\u516b\u8fdb\u5236 u \u4e0d\u5e26\u7b26\u53f7\u7684\u516b\u8fdb\u5236 x \u4e0d\u5e26\u7b26\u53f7\u7684\u5341\u516d\u8fdb\u5236\uff08\u5c0f\u5199\uff09 X \u4e0d\u5e26\u7b26\u53f7\u7684\u5341\u516d\u8fdb\u5236\uff08\u5927\u5199\uff09 e \u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u7684\u6d6e\u70b9\u6570\uff08\u5c0f\u5199\uff09 E \u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u7684\u6d6e\u70b9\u6570\uff08\u5927\u5199\uff09 f,F \u5341\u8fdb\u5236\u6d6e\u70b9\u6570 g \u5982\u679c\u6307\u6570\u5927\u4e8e -4 \u6216\u8005\u5c0f\u4e8e\u7cbe\u5ea6\u503c\u5219\u548c e \u76f8\u540c\uff0c\u5176\u4ed6\u60c5\u51b5\u4e0ef\u76f8\u540c G \u5982\u679c\u6307\u6570\u5927\u4e8e -4 \u6216\u8005\u5c0f\u4e8e\u7cbe\u5ea6\u503c\u5219\u548c E \u76f8\u540c\uff0c\u5176\u4ed6\u60c5\u51b5\u4e0eF\u76f8\u540c C \u5355\u5b57\u7b26\uff08\u63a5\u53d7\u6574\u6570\u6216\u8005\u5355\u5b57\u7b26\u5b57\u7b26\u4e32\uff09 r \u5b57\u7b26\u4e32\uff08\u4f7f\u7528repr\u8f6c\u6362\u4efb\u610fPython\u5bf9\u8c61\uff09 s \u5b57\u7b26\u4e32\uff08\u4f7f\u7528str\u8f6c\u6362\u4efb\u610fPython\u5bf9\u8c61\uff09 \u5b57\u7b26\u4e32\u65b9\u6cd5 find \u5728\u8f83\u957f\u7684\u5b57\u7b26\u4e32\u4e2d\u67e5\u627e\u5b50\u4e32\uff0c\u5b83\u8fd4\u56de\u5b50\u4e32\u6240\u5728\u4f4d\u7f6e\u7684\u6700\u5de6\u7aef\u7d22\u5f15\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\u5219\u8fd4\u56de -1 join \u5b83\u662fsplit\u65b9\u6cd5\u7684\u9006\u65b9\u6cd5\uff0c\u7528\u6765\u8fde\u63a5\u5e8f\u5217\u4e2d\u7684\u5143\u7d20 1 2 3 4 5 6 separator = + seq = [ 1 , 2 , 3 , 4 , 5 ] separator . join ( seq ) Traceback ( most recent call last ): File stdin , line 1 , in module TypeError : sequence item 0 : expected string , int found 1 2 3 4 separator = + seq = [ 1 , 2 , 3 , 4 , 5 ] separator . join ( seq ) 1+2+3+4+5 \u53ef\u4ee5\u770b\u5230\uff0c\u9700\u8981\u88ab\u8fde\u63a5\u7684\u5e8f\u5217\u5143\u7d20\u90fd\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u3002 lower \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u5c0f\u5199\u5b57\u6bcd\u7248 1 2 THANK YOU . lower () thank you replace \u8fd4\u56de\u67d0\u5b57\u7b26\u4e32\u7684\u6240\u6709\u5339\u914d\u9879\u5747\u88ab\u66ff\u6362\u4e4b\u540e\u5f97\u5230\u7684\u5b57\u7b26\u4e32 1 2 This is a test . replace ( is , eez ) Theez eez a test split \u5b83\u662fjoin\u7684\u9006\u65b9\u6cd5\uff0c\u7528\u6765\u5c06\u5b57\u7b26\u4e32\u5206\u5272\u6210\u5e8f\u5217 1 2 /usr/bin/env . split ( / ) [ , usr , bin , env ] strip \u8fd4\u56de\u53bb\u9664\u4e24\u4fa7\uff08\u4e0d\u5305\u62ec\u5185\u90e8\uff09\u7a7a\u683c\u7684\u5b57\u7b26\u4e32\uff1a \u5b83\u548clower\u65b9\u6cd5\u4e00\u8d77\u4f7f\u7528\u7684\u8bdd\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5bf9\u6bd4\u8f93\u5165\u548c\u5b58\u50a8\u7684\u503c\u3002\u5047\u8bbe\u7528\u6237\u5728\u8f93\u5165\u540d\u5b57\u65f6\u65e0\u610f\u4e2d\u5728\u540d\u5b57\u540e\u9762\u52a0\u4e0a\u4e86\u7a7a\u683c\uff1a 1 2 3 4 5 6 7 names = [ gumby , smith , jones ] name = Gumby if name in names : print Found it! ... if name . strip () . lower () in names : print Found it! ... Found it ! \u4e5f\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u53bb\u9664\u7684\u5b57\u7b26\uff1astr.strip('\u9700\u8981\u53bb\u9664\u7684\u5b57\u7b26') translate \u548creplace\u65b9\u6cd5\u4e00\u6837\uff0c\u53ef\u4ee5\u66ff\u6362\u5b57\u7b26\u4e32\u4e2d\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u4f46\u662f\u548c\u524d\u8005\u4e0d\u901a\u7684\u662f\uff0ctranslate\u65b9\u6cd5\u53ea\u5904\u7406\u5355\u4e2a\u5b57\u7b26\u3002\u5b83\u7684\u4f18\u52bf\u5728\u4e8e\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\u591a\u4e2a\u66ff\u6362\uff0c\u6709\u4e9b\u65f6\u5019\u6bd4replace\u6548\u7387\u9ad8\u5f97\u591a\u3002","title":"\u5b57\u7b26\u4e32"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#_1","text":"\u6240\u6709\u6807\u51c6\u7684\u5e8f\u5217\u64cd\u4f5c\uff08\u7d22\u5f15\u3001\u5206\u7247\u3001\u4e58\u6cd5\u3001\u5224\u65ad\u6210\u5458\u8d44\u683c\u3001\u6c42\u957f\u5ea6\u3001\u53d6\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\uff09\u5bf9\u5b57\u7b26\u4e32\u540c\u6837\u9002\u7528\u3002\u4f46\u662f\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u56e0\u6b64\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u5206\u7247\u8d4b\u503c\u7b49\u64cd\u4f5c\u662f\u4e0d\u5408\u6cd5\u7684\u3002","title":"\u5b57\u7b26\u4e32\u57fa\u672c\u64cd\u4f5c"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#_2","text":"1 2 %s plus %s equals %s % ( 1 , 1 , 2 ) 1 plus 1 equals 2","title":"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#_3","text":"%\u5b57\u7b26\uff1a \u6807\u8bb0\u8f6c\u6362\u8bf4\u660e\u7b26\u7684\u5f00\u59cb\u3002 \u8f6c\u6362\u6807\u5fd7 \uff08\u53ef\u9009\uff09\uff1a - \u8868\u793a\u5de6\u5bf9\u9f50\uff1b + \u8868\u793a\u5728\u8f6c\u6362\u503c\u4e4b\u524d\u8981\u52a0\u4e0a\u6b63\u8d1f\u53f7\uff1b \"\" \uff08\u7a7a\u767d\u5b57\u7b26\uff09\u8868\u793a\u6b63\u6570\u4e4b\u524d\u4fdd\u7559\u7a7a\u683c\uff1b 0 \u8868\u793a\u8f6c\u6362\u503c\u82e5\u4f4d\u6570\u4e0d\u591f\u5219\u75280\u586b\u5145\u3002 \u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6 \uff08\u53ef\u9009\uff09\uff1a\u8f6c\u6362\u540e\u7684\u5b57\u7b26\u4e32\u81f3\u5c11\u5e94\u8be5\u5177\u6709\u8be5\u503c\u6307\u5b9a\u7684\u5bbd\u5ea6\u3002\u5982\u679c\u662f * \uff0c\u5219\u5bbd\u5ea6\u4f1a\u4ece\u503c\u5143\u7ec4\u4e2d\u8bfb\u51fa\u3002 \u70b9 . \u540e\u8ddf\u7cbe\u5ea6\u503c \uff08\u53ef\u9009\uff09\uff1a\u5982\u679c\u8f6c\u6362\u7684\u662f\u5b9e\u6570\uff0c\u7cbe\u5ea6\u503c\u5c31\u8868\u793a\u51fa\u73b0\u5728\u5c0f\u6570\u70b9\u540e\u7684\u4f4d\u6570\u3002\u5982\u679c\u8f6c\u6362\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u6570\u5b57\u5c31\u8868\u793a\u6700\u5927\u5b57\u6bb5\u5bbd\u5ea6\u3002\u5982\u679c\u662f * \uff0c\u90a3\u4e48\u7cbe\u5ea6\u5c06\u4f1a\u4ece\u5143\u7ec4\u4e2d\u8bfb\u51fa\u3002 1 2 3 from math import pi Pi with three decimals: %.3f % pi Pi with three decimals : 3.142 \u8f6c\u6362\u7c7b\u578b\uff1a \u53c2\u89c1\u4e0b\u8868 \u8f6c\u6362\u7c7b\u578b \u542b\u4e49 d,i \u5e26\u7b26\u53f7\u7684\u5341\u8fdb\u5236\u6574\u6570 o \u4e0d\u5e26\u7b26\u53f7\u7684\u516b\u8fdb\u5236 u \u4e0d\u5e26\u7b26\u53f7\u7684\u516b\u8fdb\u5236 x \u4e0d\u5e26\u7b26\u53f7\u7684\u5341\u516d\u8fdb\u5236\uff08\u5c0f\u5199\uff09 X \u4e0d\u5e26\u7b26\u53f7\u7684\u5341\u516d\u8fdb\u5236\uff08\u5927\u5199\uff09 e \u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u7684\u6d6e\u70b9\u6570\uff08\u5c0f\u5199\uff09 E \u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u7684\u6d6e\u70b9\u6570\uff08\u5927\u5199\uff09 f,F \u5341\u8fdb\u5236\u6d6e\u70b9\u6570 g \u5982\u679c\u6307\u6570\u5927\u4e8e -4 \u6216\u8005\u5c0f\u4e8e\u7cbe\u5ea6\u503c\u5219\u548c e \u76f8\u540c\uff0c\u5176\u4ed6\u60c5\u51b5\u4e0ef\u76f8\u540c G \u5982\u679c\u6307\u6570\u5927\u4e8e -4 \u6216\u8005\u5c0f\u4e8e\u7cbe\u5ea6\u503c\u5219\u548c E \u76f8\u540c\uff0c\u5176\u4ed6\u60c5\u51b5\u4e0eF\u76f8\u540c C \u5355\u5b57\u7b26\uff08\u63a5\u53d7\u6574\u6570\u6216\u8005\u5355\u5b57\u7b26\u5b57\u7b26\u4e32\uff09 r \u5b57\u7b26\u4e32\uff08\u4f7f\u7528repr\u8f6c\u6362\u4efb\u610fPython\u5bf9\u8c61\uff09 s \u5b57\u7b26\u4e32\uff08\u4f7f\u7528str\u8f6c\u6362\u4efb\u610fPython\u5bf9\u8c61\uff09","title":"\u57fa\u672c\u8f6c\u6362\u8bf4\u660e"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#_4","text":"","title":"\u5b57\u7b26\u4e32\u65b9\u6cd5"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#find","text":"\u5728\u8f83\u957f\u7684\u5b57\u7b26\u4e32\u4e2d\u67e5\u627e\u5b50\u4e32\uff0c\u5b83\u8fd4\u56de\u5b50\u4e32\u6240\u5728\u4f4d\u7f6e\u7684\u6700\u5de6\u7aef\u7d22\u5f15\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\u5219\u8fd4\u56de -1","title":"find"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#join","text":"\u5b83\u662fsplit\u65b9\u6cd5\u7684\u9006\u65b9\u6cd5\uff0c\u7528\u6765\u8fde\u63a5\u5e8f\u5217\u4e2d\u7684\u5143\u7d20 1 2 3 4 5 6 separator = + seq = [ 1 , 2 , 3 , 4 , 5 ] separator . join ( seq ) Traceback ( most recent call last ): File stdin , line 1 , in module TypeError : sequence item 0 : expected string , int found 1 2 3 4 separator = + seq = [ 1 , 2 , 3 , 4 , 5 ] separator . join ( seq ) 1+2+3+4+5 \u53ef\u4ee5\u770b\u5230\uff0c\u9700\u8981\u88ab\u8fde\u63a5\u7684\u5e8f\u5217\u5143\u7d20\u90fd\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u3002","title":"join"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#lower","text":"\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u5c0f\u5199\u5b57\u6bcd\u7248 1 2 THANK YOU . lower () thank you","title":"lower"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#replace","text":"\u8fd4\u56de\u67d0\u5b57\u7b26\u4e32\u7684\u6240\u6709\u5339\u914d\u9879\u5747\u88ab\u66ff\u6362\u4e4b\u540e\u5f97\u5230\u7684\u5b57\u7b26\u4e32 1 2 This is a test . replace ( is , eez ) Theez eez a test","title":"replace"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#split","text":"\u5b83\u662fjoin\u7684\u9006\u65b9\u6cd5\uff0c\u7528\u6765\u5c06\u5b57\u7b26\u4e32\u5206\u5272\u6210\u5e8f\u5217 1 2 /usr/bin/env . split ( / ) [ , usr , bin , env ]","title":"split"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#strip","text":"\u8fd4\u56de\u53bb\u9664\u4e24\u4fa7\uff08\u4e0d\u5305\u62ec\u5185\u90e8\uff09\u7a7a\u683c\u7684\u5b57\u7b26\u4e32\uff1a \u5b83\u548clower\u65b9\u6cd5\u4e00\u8d77\u4f7f\u7528\u7684\u8bdd\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5bf9\u6bd4\u8f93\u5165\u548c\u5b58\u50a8\u7684\u503c\u3002\u5047\u8bbe\u7528\u6237\u5728\u8f93\u5165\u540d\u5b57\u65f6\u65e0\u610f\u4e2d\u5728\u540d\u5b57\u540e\u9762\u52a0\u4e0a\u4e86\u7a7a\u683c\uff1a 1 2 3 4 5 6 7 names = [ gumby , smith , jones ] name = Gumby if name in names : print Found it! ... if name . strip () . lower () in names : print Found it! ... Found it ! \u4e5f\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u53bb\u9664\u7684\u5b57\u7b26\uff1astr.strip('\u9700\u8981\u53bb\u9664\u7684\u5b57\u7b26')","title":"strip"},{"location":"\u8ba1\u7b97\u673a/python/\u5b57\u7b26\u4e32/#translate","text":"\u548creplace\u65b9\u6cd5\u4e00\u6837\uff0c\u53ef\u4ee5\u66ff\u6362\u5b57\u7b26\u4e32\u4e2d\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u4f46\u662f\u548c\u524d\u8005\u4e0d\u901a\u7684\u662f\uff0ctranslate\u65b9\u6cd5\u53ea\u5904\u7406\u5355\u4e2a\u5b57\u7b26\u3002\u5b83\u7684\u4f18\u52bf\u5728\u4e8e\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\u591a\u4e2a\u66ff\u6362\uff0c\u6709\u4e9b\u65f6\u5019\u6bd4replace\u6548\u7387\u9ad8\u5f97\u591a\u3002","title":"translate"}]}